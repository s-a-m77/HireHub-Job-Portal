<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HireHub - Job Portal</title>
    <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(a){if(a.ep)return;a.ep=!0;const c=t(a);fetch(a.href,c)}})();var O0={exports:{}},Tu={};var P_;function J2(){if(P_)return Tu;P_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,c){var d=null;if(c!==void 0&&(d=""+c),a.key!==void 0&&(d=""+a.key),"key"in a){c={};for(var h in a)h!=="key"&&(c[h]=a[h])}else c=a;return a=c.ref,{$$typeof:s,type:r,key:d,ref:a!==void 0?a:null,props:c}}return Tu.Fragment=e,Tu.jsx=t,Tu.jsxs=t,Tu}var O_;function X2(){return O_||(O_=1,O0.exports=J2()),O0.exports}var l=X2(),L0={exports:{}},De={};var L_;function W2(){if(L_)return De;L_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function j(z){return z===null||typeof z!="object"?null:(z=E&&z[E]||z["@@iterator"],typeof z=="function"?z:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,V={};function O(z,ce,ye){this.props=z,this.context=ce,this.refs=V,this.updater=ye||I}O.prototype.isReactComponent={},O.prototype.setState=function(z,ce){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ce,"setState")},O.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function Q(){}Q.prototype=O.prototype;function q(z,ce,ye){this.props=z,this.context=ce,this.refs=V,this.updater=ye||I}var J=q.prototype=new Q;J.constructor=q,R(J,O.prototype),J.isPureReactComponent=!0;var te=Array.isArray;function re(){}var S={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function C(z,ce,ye){var be=ye.ref;return{$$typeof:s,type:z,key:ce,ref:be!==void 0?be:null,props:ye}}function D(z,ce){return C(z.type,ce,z.props)}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===s}function M(z){var ce={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ye){return ce[ye]})}var k=/\/+/g;function st(z,ce){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):ce.toString(36)}function Dt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(re,re):(z.status="pending",z.then(function(ce){z.status==="pending"&&(z.status="fulfilled",z.value=ce)},function(ce){z.status==="pending"&&(z.status="rejected",z.reason=ce)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function ie(z,ce,ye,be,Re){var ke=typeof z;(ke==="undefined"||ke==="boolean")&&(z=null);var Fe=!1;if(z===null)Fe=!0;else switch(ke){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(z.$$typeof){case s:case e:Fe=!0;break;case x:return Fe=z._init,ie(Fe(z._payload),ce,ye,be,Re)}}if(Fe)return Re=Re(z),Fe=be===""?"."+st(z,0):be,te(Re)?(ye="",Fe!=null&&(ye=Fe.replace(k,"$&/")+"/"),ie(Re,ce,ye,"",function(ys){return ys})):Re!=null&&(L(Re)&&(Re=D(Re,ye+(Re.key==null||z&&z.key===Re.key?"":(""+Re.key).replace(k,"$&/")+"/")+Fe)),ce.push(Re)),1;Fe=0;var Pt=be===""?".":be+":";if(te(z))for(var vt=0;vt<z.length;vt++)be=z[vt],ke=Pt+st(be,vt),Fe+=ie(be,ce,ye,ke,Re);else if(vt=j(z),typeof vt=="function")for(z=vt.call(z),vt=0;!(be=z.next()).done;)be=be.value,ke=Pt+st(be,vt++),Fe+=ie(be,ce,ye,ke,Re);else if(ke==="object"){if(typeof z.then=="function")return ie(Dt(z),ce,ye,be,Re);throw ce=String(z),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function pe(z,ce,ye){if(z==null)return z;var be=[],Re=0;return ie(z,be,"","",function(ke){return ce.call(ye,ke,Re++)}),be}function Te(z){if(z._status===-1){var ce=z._result;ce=ce(),ce.then(function(ye){(z._status===0||z._status===-1)&&(z._status=1,z._result=ye)},function(ye){(z._status===0||z._status===-1)&&(z._status=2,z._result=ye)}),z._status===-1&&(z._status=0,z._result=ce)}if(z._status===1)return z._result.default;throw z._result}var Qe=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},tt={map:pe,forEach:function(z,ce,ye){pe(z,function(){ce.apply(this,arguments)},ye)},count:function(z){var ce=0;return pe(z,function(){ce++}),ce},toArray:function(z){return pe(z,function(ce){return ce})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return De.Activity=b,De.Children=tt,De.Component=O,De.Fragment=t,De.Profiler=a,De.PureComponent=q,De.StrictMode=r,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,De.__COMPILER_RUNTIME={__proto__:null,c:function(z){return S.H.useMemoCache(z)}},De.cache=function(z){return function(){return z.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(z,ce,ye){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var be=R({},z.props),Re=z.key;if(ce!=null)for(ke in ce.key!==void 0&&(Re=""+ce.key),ce)!T.call(ce,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&ce.ref===void 0||(be[ke]=ce[ke]);var ke=arguments.length-2;if(ke===1)be.children=ye;else if(1<ke){for(var Fe=Array(ke),Pt=0;Pt<ke;Pt++)Fe[Pt]=arguments[Pt+2];be.children=Fe}return C(z.type,Re,be)},De.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},De.createElement=function(z,ce,ye){var be,Re={},ke=null;if(ce!=null)for(be in ce.key!==void 0&&(ke=""+ce.key),ce)T.call(ce,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Re[be]=ce[be]);var Fe=arguments.length-2;if(Fe===1)Re.children=ye;else if(1<Fe){for(var Pt=Array(Fe),vt=0;vt<Fe;vt++)Pt[vt]=arguments[vt+2];Re.children=Pt}if(z&&z.defaultProps)for(be in Fe=z.defaultProps,Fe)Re[be]===void 0&&(Re[be]=Fe[be]);return C(z,ke,Re)},De.createRef=function(){return{current:null}},De.forwardRef=function(z){return{$$typeof:h,render:z}},De.isValidElement=L,De.lazy=function(z){return{$$typeof:x,_payload:{_status:-1,_result:z},_init:Te}},De.memo=function(z,ce){return{$$typeof:y,type:z,compare:ce===void 0?null:ce}},De.startTransition=function(z){var ce=S.T,ye={};S.T=ye;try{var be=z(),Re=S.S;Re!==null&&Re(ye,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(re,Qe)}catch(ke){Qe(ke)}finally{ce!==null&&ye.types!==null&&(ce.types=ye.types),S.T=ce}},De.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},De.use=function(z){return S.H.use(z)},De.useActionState=function(z,ce,ye){return S.H.useActionState(z,ce,ye)},De.useCallback=function(z,ce){return S.H.useCallback(z,ce)},De.useContext=function(z){return S.H.useContext(z)},De.useDebugValue=function(){},De.useDeferredValue=function(z,ce){return S.H.useDeferredValue(z,ce)},De.useEffect=function(z,ce){return S.H.useEffect(z,ce)},De.useEffectEvent=function(z){return S.H.useEffectEvent(z)},De.useId=function(){return S.H.useId()},De.useImperativeHandle=function(z,ce,ye){return S.H.useImperativeHandle(z,ce,ye)},De.useInsertionEffect=function(z,ce){return S.H.useInsertionEffect(z,ce)},De.useLayoutEffect=function(z,ce){return S.H.useLayoutEffect(z,ce)},De.useMemo=function(z,ce){return S.H.useMemo(z,ce)},De.useOptimistic=function(z,ce){return S.H.useOptimistic(z,ce)},De.useReducer=function(z,ce,ye){return S.H.useReducer(z,ce,ye)},De.useRef=function(z){return S.H.useRef(z)},De.useState=function(z){return S.H.useState(z)},De.useSyncExternalStore=function(z,ce,ye){return S.H.useSyncExternalStore(z,ce,ye)},De.useTransition=function(){return S.H.useTransition()},De.version="19.2.4",De}var U_;function Fp(){return U_||(U_=1,L0.exports=W2()),L0.exports}var $=Fp(),U0={exports:{}},Nu={},$0={exports:{}},z0={};var $_;function Z2(){return $_||($_=1,(function(s){function e(ie,pe){var Te=ie.length;ie.push(pe);e:for(;0<Te;){var Qe=Te-1>>>1,tt=ie[Qe];if(0<a(tt,pe))ie[Qe]=pe,ie[Te]=tt,Te=Qe;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var pe=ie[0],Te=ie.pop();if(Te!==pe){ie[0]=Te;e:for(var Qe=0,tt=ie.length,z=tt>>>1;Qe<z;){var ce=2*(Qe+1)-1,ye=ie[ce],be=ce+1,Re=ie[be];if(0>a(ye,Te))be<tt&&0>a(Re,ye)?(ie[Qe]=Re,ie[be]=Te,Qe=be):(ie[Qe]=ye,ie[ce]=Te,Qe=ce);else if(be<tt&&0>a(Re,Te))ie[Qe]=Re,ie[be]=Te,Qe=be;else break e}}return pe}function a(ie,pe){var Te=ie.sortIndex-pe.sortIndex;return Te!==0?Te:ie.id-pe.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();s.unstable_now=function(){return d.now()-h}}var g=[],y=[],x=1,b=null,E=3,j=!1,I=!1,R=!1,V=!1,O=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function J(ie){for(var pe=t(y);pe!==null;){if(pe.callback===null)r(y);else if(pe.startTime<=ie)r(y),pe.sortIndex=pe.expirationTime,e(g,pe);else break;pe=t(y)}}function te(ie){if(R=!1,J(ie),!I)if(t(g)!==null)I=!0,re||(re=!0,M());else{var pe=t(y);pe!==null&&Dt(te,pe.startTime-ie)}}var re=!1,S=-1,T=5,C=-1;function D(){return V?!0:!(s.unstable_now()-C<T)}function L(){if(V=!1,re){var ie=s.unstable_now();C=ie;var pe=!0;try{e:{I=!1,R&&(R=!1,Q(S),S=-1),j=!0;var Te=E;try{t:{for(J(ie),b=t(g);b!==null&&!(b.expirationTime>ie&&D());){var Qe=b.callback;if(typeof Qe=="function"){b.callback=null,E=b.priorityLevel;var tt=Qe(b.expirationTime<=ie);if(ie=s.unstable_now(),typeof tt=="function"){b.callback=tt,J(ie),pe=!0;break t}b===t(g)&&r(g),J(ie)}else r(g);b=t(g)}if(b!==null)pe=!0;else{var z=t(y);z!==null&&Dt(te,z.startTime-ie),pe=!1}}break e}finally{b=null,E=Te,j=!1}pe=void 0}}finally{pe?M():re=!1}}}var M;if(typeof q=="function")M=function(){q(L)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,st=k.port2;k.port1.onmessage=L,M=function(){st.postMessage(null)}}else M=function(){O(L,0)};function Dt(ie,pe){S=O(function(){ie(s.unstable_now())},pe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(ie){ie.callback=null},s.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<ie?Math.floor(1e3/ie):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var pe=3;break;default:pe=E}var Te=E;E=pe;try{return ie()}finally{E=Te}},s.unstable_requestPaint=function(){V=!0},s.unstable_runWithPriority=function(ie,pe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Te=E;E=ie;try{return pe()}finally{E=Te}},s.unstable_scheduleCallback=function(ie,pe,Te){var Qe=s.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Qe+Te:Qe):Te=Qe,ie){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=Te+tt,ie={id:x++,callback:pe,priorityLevel:ie,startTime:Te,expirationTime:tt,sortIndex:-1},Te>Qe?(ie.sortIndex=Te,e(y,ie),t(g)===null&&ie===t(y)&&(R?(Q(S),S=-1):R=!0,Dt(te,Te-Qe))):(ie.sortIndex=tt,e(g,ie),I||j||(I=!0,re||(re=!0,M()))),ie},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(ie){var pe=E;return function(){var Te=E;E=pe;try{return ie.apply(this,arguments)}finally{E=Te}}}})(z0)),z0}var z_;function eI(){return z_||(z_=1,$0.exports=Z2()),$0.exports}var B0={exports:{}},vn={};var B_;function tI(){if(B_)return vn;B_=1;var s=Fp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(g,y,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:g,containerInfo:y,implementation:x}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,vn.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,x)},vn.flushSync=function(g){var y=d.T,x=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=x,r.d.f()}},vn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},vn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},vn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,b=h(x,y.crossOrigin),E=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:j}):x==="script"&&r.d.X(g,{crossOrigin:b,integrity:E,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},vn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=h(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},vn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,b=h(x,y.crossOrigin);r.d.L(g,x,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},vn.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=h(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},vn.requestFormReset=function(g){r.d.r(g)},vn.unstable_batchedUpdates=function(g,y){return g(y)},vn.useFormState=function(g,y,x){return d.H.useFormState(g,y,x)},vn.useFormStatus=function(){return d.H.useHostTransitionStatus()},vn.version="19.2.4",vn}var F_;function nI(){if(F_)return B0.exports;F_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),B0.exports=tI(),B0.exports}var q_;function rI(){if(q_)return Nu;q_=1;var s=eI(),e=Fp(),t=nI();function r(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function g(n){if(c(n)!==n)throw Error(r(188))}function y(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(r(188));return i!==n?null:n}for(var o=n,u=i;;){var m=o.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===o)return g(m),n;if(p===u)return g(m),i;p=p.sibling}throw Error(r(188))}if(o.return!==u.return)o=m,u=p;else{for(var _=!1,N=m.child;N;){if(N===o){_=!0,o=m,u=p;break}if(N===u){_=!0,u=m,o=p;break}N=N.sibling}if(!_){for(N=p.child;N;){if(N===o){_=!0,o=p,u=m;break}if(N===u){_=!0,u=p,o=m;break}N=N.sibling}if(!_)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:i}function x(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=x(n),i!==null)return i;n=n.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),q=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function M(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var k=Symbol.for("react.client.reference");function st(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===k?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case O:return"Profiler";case V:return"StrictMode";case te:return"Suspense";case re:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case q:return n.displayName||"Context";case Q:return(n._context.displayName||"Context")+".Consumer";case J:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case S:return i=n.displayName||null,i!==null?i:st(n.type)||"Memo";case T:i=n._payload,n=n._init;try{return st(n(i))}catch{}}return null}var Dt=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},Qe=[],tt=-1;function z(n){return{current:n}}function ce(n){0>tt||(n.current=Qe[tt],Qe[tt]=null,tt--)}function ye(n,i){tt++,Qe[tt]=n.current,n.current=i}var be=z(null),Re=z(null),ke=z(null),Fe=z(null);function Pt(n,i){switch(ye(ke,i),ye(Re,n),ye(be,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?i_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=i_(i),n=a_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ce(be),ye(be,n)}function vt(){ce(be),ce(Re),ce(ke)}function ys(n){n.memoizedState!==null&&ye(Fe,n);var i=be.current,o=a_(i,n.type);i!==o&&(ye(Re,n),ye(be,o))}function ri(n){Re.current===n&&(ce(be),ce(Re)),Fe.current===n&&(ce(Fe),vu._currentValue=Te)}var si,ii;function rr(n){if(si===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);si=i&&i[1]||"",ii=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+si+n+ii}var _a=!1;function xs(n,i){if(!n||_a)return"";_a=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var Z=ne}Reflect.construct(n,[],ue)}else{try{ue.call()}catch(ne){Z=ne}n.call(ue.prototype)}}else{try{throw Error()}catch(ne){Z=ne}(ue=n())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&Z&&typeof ne.stack=="string")return[ne.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),_=p[0],N=p[1];if(_&&N){var P=_.split(`
`),X=N.split(`
`);for(m=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(u===P.length||m===X.length)for(u=P.length-1,m=X.length-1;1<=u&&0<=m&&P[u]!==X[m];)m--;for(;1<=u&&0<=m;u--,m--)if(P[u]!==X[m]){if(u!==1||m!==1)do if(u--,m--,0>m||P[u]!==X[m]){var ae=`
`+P[u].replace(" at new "," at ");return n.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",n.displayName)),ae}while(1<=u&&0<=m);break}}}finally{_a=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?rr(o):""}function wa(n,i){switch(n.tag){case 26:case 27:case 5:return rr(n.type);case 16:return rr("Lazy");case 13:return n.child!==i&&i!==null?rr("Suspense Fallback"):rr("Suspense");case 19:return rr("SuspenseList");case 0:case 15:return xs(n.type,!1);case 11:return xs(n.type.render,!1);case 1:return xs(n.type,!0);case 31:return rr("Activity");default:return""}}function K(n){try{var i="",o=null;do i+=wa(n,o),o=n,n=n.return;while(n);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var B=Object.prototype.hasOwnProperty,se=s.unstable_scheduleCallback,he=s.unstable_cancelCallback,Se=s.unstable_shouldYield,Le=s.unstable_requestPaint,Je=s.unstable_now,Bn=s.unstable_getCurrentPriorityLevel,Ec=s.unstable_ImmediatePriority,Tc=s.unstable_UserBlockingPriority,ai=s.unstable_NormalPriority,$m=s.unstable_LowPriority,Od=s.unstable_IdlePriority,Ld=s.log,Ud=s.unstable_setDisableYieldValue,_r=null,hn=null;function sr(n){if(typeof Ld=="function"&&Ud(n),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(_r,n)}catch{}}var Ot=Math.clz32?Math.clz32:zd,$d=Math.log,Mo=Math.LN2;function zd(n){return n>>>=0,n===0?32:31-($d(n)/Mo|0)|0}var $r=256,Ea=262144,Ft=4194304;function zr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Br(n,i,o){var u=n.pendingLanes;if(u===0)return 0;var m=0,p=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var N=u&134217727;return N!==0?(u=N&~p,u!==0?m=zr(u):(_&=N,_!==0?m=zr(_):o||(o=N&~n,o!==0&&(m=zr(o))))):(N=u&~p,N!==0?m=zr(N):_!==0?m=zr(_):o||(o=u&~n,o!==0&&(m=zr(o)))),m===0?0:i!==0&&i!==m&&(i&p)===0&&(p=m&-m,o=i&-i,p>=o||p===32&&(o&4194048)!==0)?i:m}function wr(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function zm(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bd(){var n=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),n}function Fr(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Ta(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Bm(n,i,o,u,m,p){var _=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var N=n.entanglements,P=n.expirationTimes,X=n.hiddenUpdates;for(o=_&~o;0<o;){var ae=31-Ot(o),ue=1<<ae;N[ae]=0,P[ae]=-1;var Z=X[ae];if(Z!==null)for(X[ae]=null,ae=0;ae<Z.length;ae++){var ne=Z[ae];ne!==null&&(ne.lane&=-536870913)}o&=~ue}u!==0&&Na(n,u,0),p!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=p&~(_&~i))}function Na(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-Ot(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Nc(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var u=31-Ot(o),m=1<<u;m&i|n[u]&i&&(n[u]|=i),o&=~m}}function Sc(n,i){var o=i&-i;return o=(o&42)!==0?1:Sa(o),(o&(n.suspendedLanes|i))!==0?0:o}function Sa(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function bs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Fd(){var n=pe.p;return n!==0?n:(n=window.event,n===void 0?32:j_(n.type))}function Er(n,i){var o=pe.p;try{return pe.p=n,i()}finally{pe.p=o}}var Tr=Math.random().toString(36).slice(2),qt="__reactFiber$"+Tr,rn="__reactProps$"+Tr,qr="__reactContainer$"+Tr,Vo="__reactEvents$"+Tr,Fm="__reactListeners$"+Tr,qd="__reactHandles$"+Tr,Hd="__reactResources$"+Tr,Hr="__reactMarker$"+Tr;function Po(n){delete n[qt],delete n[rn],delete n[Vo],delete n[Fm],delete n[qd]}function Gr(n){var i=n[qt];if(i)return i;for(var o=n.parentNode;o;){if(i=o[qr]||o[qt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=f_(n);n!==null;){if(o=n[qt])return o;n=f_(n)}return i}n=o,o=n.parentNode}return null}function ir(n){if(n=n[qt]||n[qr]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function Fn(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(r(33))}function Kr(n){var i=n[Hd];return i||(i=n[Hd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ht(n){n[Hr]=!0}var Ac=new Set,Ic={};function Qr(n,i){Yr(n,i),Yr(n+"Capture",i)}function Yr(n,i){for(Ic[n]=i,n=0;n<i.length;n++)Ac.add(i[n])}var jc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cc={},Rc={};function Gd(n){return B.call(Rc,n)?!0:B.call(Cc,n)?!1:jc.test(n)?Rc[n]=!0:(Cc[n]=!0,!1)}function Oo(n,i,o){if(Gd(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function qn(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function Gt(n,i,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+u)}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function oi(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Dc(n,i,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,p=u.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(_){o=""+_,p.call(this,_)}}),Object.defineProperty(n,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function at(n){if(!n._valueTracker){var i=oi(n)?"checked":"value";n._valueTracker=Dc(n,i,""+n[i])}}function Aa(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return n&&(u=oi(n)?n.checked?"true":"false":n.value),n=u,n!==o?(i.setValue(n),!0):!1}function Jr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ia=/[\n"\\]/g;function An(n){return n.replace(Ia,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Lo(n,i,o,u,m,p,_,N){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+sn(i)):n.value!==""+sn(i)&&(n.value=""+sn(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?kc(n,_,sn(i)):o!=null?kc(n,_,sn(o)):u!=null&&n.removeAttribute("value"),m==null&&p!=null&&(n.defaultChecked=!!p),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.name=""+sn(N):n.removeAttribute("name")}function Kd(n,i,o,u,m,p,_,N){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){at(n);return}o=o!=null?""+sn(o):"",i=i!=null?""+sn(i):o,N||i===n.value||(n.value=i),n.defaultValue=i}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=N?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),at(n)}function kc(n,i,o){i==="number"&&Jr(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function li(n,i,o,u){if(n=n.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<n.length;o++)m=i.hasOwnProperty("$"+n[o].value),n[o].selected!==m&&(n[o].selected=m),m&&u&&(n[o].defaultSelected=!0)}else{for(o=""+sn(o),i=null,m=0;m<n.length;m++){if(n[m].value===o){n[m].selected=!0,u&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function Qd(n,i,o){if(i!=null&&(i=""+sn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+sn(o):""}function ci(n,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(r(92));if(Dt(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=sn(i),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),at(n)}function In(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var Yd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(n,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,o):typeof o!="number"||o===0||Yd.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Vc(n,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var m in i)u=i[m],i.hasOwnProperty(m)&&o[m]!==u&&Mc(n,m,u)}else for(var p in i)i.hasOwnProperty(p)&&Mc(n,p,i[p])}function Uo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ui=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $o(n){return ui.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Nr(){}var Pc=null;function ar(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var di=null,Xr=null;function ja(n){var i=ir(n);if(i&&(n=i.stateNode)){var o=n[rn]||null;e:switch(n=i.stateNode,i.type){case"input":if(Lo(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+An(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==n&&u.form===n.form){var m=u[rn]||null;if(!m)throw Error(r(90));Lo(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===n.form&&Aa(u)}break e;case"textarea":Qd(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&li(n,!!o.multiple,i,!1)}}}var zo=!1;function hi(n,i,o){if(zo)return n(i,o);zo=!0;try{var u=n(i);return u}finally{if(zo=!1,(di!==null||Xr!==null)&&(Fh(),di&&(i=di,n=Xr,Xr=di=null,ja(i),n)))for(i=0;i<n.length;i++)ja(n[i])}}function Sr(n,i){var o=n.stateNode;if(o===null)return null;var u=o[rn]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ca=!1;if(or)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{Ca=!1}var Wr=null,Oc=null,Ra=null;function Lc(){if(Ra)return Ra;var n,i=Oc,o=i.length,u,m="value"in Wr?Wr.value:Wr.textContent,p=m.length;for(n=0;n<o&&i[n]===m[n];n++);var _=o-n;for(u=1;u<=_&&i[o-u]===m[p-u];u++);return Ra=m.slice(n,1<u?1-u:void 0)}function Da(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function vs(){return!0}function Ar(){return!1}function fn(n){function i(o,u,m,p,_){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var N in n)n.hasOwnProperty(N)&&(o=n[N],this[N]=o?o(p):p[N]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?vs:Ar,this.isPropagationStopped=Ar,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),i}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zr=fn(_s),fi=b({},_s,{view:0,detail:0}),Uc=fn(fi),mi,Bo,es,Fo=b({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==es&&(es&&n.type==="mousemove"?(mi=n.screenX-es.screenX,Bo=n.screenY-es.screenY):Bo=mi=0,es=n),mi)},movementY:function(n){return"movementY"in n?n.movementY:Bo}}),$c=fn(Fo),ka=b({},Fo,{dataTransfer:0}),Xd=fn(ka),Wd=b({},fi,{relatedTarget:0}),Ma=fn(Wd),zc=b({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),Zd=fn(zc),qo=b({},_s,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),eh=fn(qo),th=b({},_s,{data:0}),ts=fn(th),nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ih(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=sh[n])?!!i[n]:!1}function gi(){return ih}var Nn=b({},fi,{key:function(n){if(n.key){var i=nh[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Da(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?rh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gi,charCode:function(n){return n.type==="keypress"?Da(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Da(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ah=fn(Nn),oh=b({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ws=fn(oh),f=b({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gi}),v=fn(f),w=b({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=fn(w),G=b({},Fo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=fn(G),me=b({},_s,{newState:0,oldState:0}),Ve=fn(me),Lt=[9,13,27,32],nt=or&&"CompositionEvent"in window,At=null;or&&"documentMode"in document&&(At=document.documentMode);var lr=or&&"TextEvent"in window&&!At,ns=or&&(!nt||At&&8<At&&11>=At),Ir=" ",jr=!1;function Va(n,i){switch(n){case"keyup":return Lt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ho(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Go=!1;function vA(n,i){switch(n){case"compositionend":return Ho(i);case"keypress":return i.which!==32?null:(jr=!0,Ir);case"textInput":return n=i.data,n===Ir&&jr?null:n;default:return null}}function _A(n,i){if(Go)return n==="compositionend"||!nt&&Va(n,i)?(n=Lc(),Ra=Oc=Wr=null,Go=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ns&&i.locale!=="ko"?null:i.data;default:return null}}var wA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function px(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!wA[n.type]:i==="textarea"}function yx(n,i,o,u){di?Xr?Xr.push(u):Xr=[u]:di=u,i=Jh(i,"onChange"),0<i.length&&(o=new Zr("onChange","change",null,o,u),n.push({event:o,listeners:i}))}var Bc=null,Fc=null;function EA(n){Zv(n,0)}function lh(n){var i=Fn(n);if(Aa(i))return n}function xx(n,i){if(n==="change")return i}var bx=!1;if(or){var qm;if(or){var Hm="oninput"in document;if(!Hm){var vx=document.createElement("div");vx.setAttribute("oninput","return;"),Hm=typeof vx.oninput=="function"}qm=Hm}else qm=!1;bx=qm&&(!document.documentMode||9<document.documentMode)}function _x(){Bc&&(Bc.detachEvent("onpropertychange",wx),Fc=Bc=null)}function wx(n){if(n.propertyName==="value"&&lh(Fc)){var i=[];yx(i,Fc,n,ar(n)),hi(EA,i)}}function TA(n,i,o){n==="focusin"?(_x(),Bc=i,Fc=o,Bc.attachEvent("onpropertychange",wx)):n==="focusout"&&_x()}function NA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return lh(Fc)}function SA(n,i){if(n==="click")return lh(i)}function AA(n,i){if(n==="input"||n==="change")return lh(i)}function IA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Hn=typeof Object.is=="function"?Object.is:IA;function qc(n,i){if(Hn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!B.call(i,m)||!Hn(n[m],i[m]))return!1}return!0}function Ex(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Tx(n,i){var o=Ex(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=i&&u>=i)return{node:o,offset:i-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ex(o)}}function Nx(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Nx(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Sx(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Jr(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=Jr(n.document)}return i}function Gm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var jA=or&&"documentMode"in document&&11>=document.documentMode,Ko=null,Km=null,Hc=null,Qm=!1;function Ax(n,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Qm||Ko==null||Ko!==Jr(u)||(u=Ko,"selectionStart"in u&&Gm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hc&&qc(Hc,u)||(Hc=u,u=Jh(Km,"onSelect"),0<u.length&&(i=new Zr("onSelect","select",null,i,o),n.push({event:i,listeners:u}),i.target=Ko)))}function Pa(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Qo={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},Ym={},Ix={};or&&(Ix=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Oa(n){if(Ym[n])return Ym[n];if(!Qo[n])return n;var i=Qo[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in Ix)return Ym[n]=i[o];return n}var jx=Oa("animationend"),Cx=Oa("animationiteration"),Rx=Oa("animationstart"),CA=Oa("transitionrun"),RA=Oa("transitionstart"),DA=Oa("transitioncancel"),Dx=Oa("transitionend"),kx=new Map,Jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jm.push("scrollEnd");function Cr(n,i){kx.set(n,i),Qr(i,[n])}var ch=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},cr=[],Yo=0,Xm=0;function uh(){for(var n=Yo,i=Xm=Yo=0;i<n;){var o=cr[i];cr[i++]=null;var u=cr[i];cr[i++]=null;var m=cr[i];cr[i++]=null;var p=cr[i];if(cr[i++]=null,u!==null&&m!==null){var _=u.pending;_===null?m.next=m:(m.next=_.next,_.next=m),u.pending=m}p!==0&&Mx(o,m,p)}}function dh(n,i,o,u){cr[Yo++]=n,cr[Yo++]=i,cr[Yo++]=o,cr[Yo++]=u,Xm|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Wm(n,i,o,u){return dh(n,i,o,u),hh(n)}function La(n,i){return dh(n,null,null,i),hh(n)}function Mx(n,i,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var m=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(m=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,m&&i!==null&&(m=31-Ot(o),n=p.hiddenUpdates,u=n[m],u===null?n[m]=[i]:u.push(i),i.lane=o|536870912),p):null}function hh(n){if(50<fu)throw fu=0,o0=null,Error(r(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Jo={};function kA(n,i,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(n,i,o,u){return new kA(n,i,o,u)}function Zm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Es(n,i){var o=n.alternate;return o===null?(o=Gn(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Vx(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function fh(n,i,o,u,m,p){var _=0;if(u=n,typeof n=="function")Zm(n)&&(_=1);else if(typeof n=="string")_=L2(n,o,be.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=Gn(31,o,i,m),n.elementType=C,n.lanes=p,n;case R:return Ua(o.children,m,p,i);case V:_=8,m|=24;break;case O:return n=Gn(12,o,i,m|2),n.elementType=O,n.lanes=p,n;case te:return n=Gn(13,o,i,m),n.elementType=te,n.lanes=p,n;case re:return n=Gn(19,o,i,m),n.elementType=re,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:_=10;break e;case Q:_=9;break e;case J:_=11;break e;case S:_=14;break e;case T:_=16,u=null;break e}_=29,o=Error(r(130,n===null?"null":typeof n,"")),u=null}return i=Gn(_,o,i,m),i.elementType=n,i.type=u,i.lanes=p,i}function Ua(n,i,o,u){return n=Gn(7,n,u,i),n.lanes=o,n}function eg(n,i,o){return n=Gn(6,n,null,i),n.lanes=o,n}function Px(n){var i=Gn(18,null,null,0);return i.stateNode=n,i}function tg(n,i,o){return i=Gn(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ox=new WeakMap;function ur(n,i){if(typeof n=="object"&&n!==null){var o=Ox.get(n);return o!==void 0?o:(i={value:n,source:i,stack:K(i)},Ox.set(n,i),i)}return{value:n,source:i,stack:K(i)}}var Xo=[],Wo=0,mh=null,Gc=0,dr=[],hr=0,pi=null,rs=1,ss="";function Ts(n,i){Xo[Wo++]=Gc,Xo[Wo++]=mh,mh=n,Gc=i}function Lx(n,i,o){dr[hr++]=rs,dr[hr++]=ss,dr[hr++]=pi,pi=n;var u=rs;n=ss;var m=32-Ot(u)-1;u&=~(1<<m),o+=1;var p=32-Ot(i)+m;if(30<p){var _=m-m%5;p=(u&(1<<_)-1).toString(32),u>>=_,m-=_,rs=1<<32-Ot(i)+m|o<<m|u,ss=p+n}else rs=1<<p|o<<m|u,ss=n}function ng(n){n.return!==null&&(Ts(n,1),Lx(n,1,0))}function rg(n){for(;n===mh;)mh=Xo[--Wo],Xo[Wo]=null,Gc=Xo[--Wo],Xo[Wo]=null;for(;n===pi;)pi=dr[--hr],dr[hr]=null,ss=dr[--hr],dr[hr]=null,rs=dr[--hr],dr[hr]=null}function Ux(n,i){dr[hr++]=rs,dr[hr++]=ss,dr[hr++]=pi,rs=i.id,ss=i.overflow,pi=n}var mn=null,wt=null,Ye=!1,yi=null,fr=!1,sg=Error(r(519));function xi(n){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kc(ur(i,n)),sg}function $x(n){var i=n.stateNode,o=n.type,u=n.memoizedProps;switch(i[qt]=n,i[rn]=u,o){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(o=0;o<gu.length;o++)Be(gu[o],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Be("invalid",i),Kd(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Be("invalid",i);break;case"textarea":Be("invalid",i),ci(i,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||r_(i.textContent,o)?(u.popover!=null&&(Be("beforetoggle",i),Be("toggle",i)),u.onScroll!=null&&Be("scroll",i),u.onScrollEnd!=null&&Be("scrollend",i),u.onClick!=null&&(i.onclick=Nr),i=!0):i=!1,i||xi(n,!0)}function zx(n){for(mn=n.return;mn;)switch(mn.tag){case 5:case 31:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:mn=mn.return}}function Zo(n){if(n!==mn)return!1;if(!Ye)return zx(n),Ye=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||w0(n.type,n.memoizedProps)),o=!o),o&&wt&&xi(n),zx(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));wt=h_(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));wt=h_(n)}else i===27?(i=wt,Di(n.type)?(n=A0,A0=null,wt=n):wt=i):wt=mn?gr(n.stateNode.nextSibling):null;return!0}function $a(){wt=mn=null,Ye=!1}function ig(){var n=yi;return n!==null&&(Dn===null?Dn=n:Dn.push.apply(Dn,n),yi=null),n}function Kc(n){yi===null?yi=[n]:yi.push(n)}var ag=z(null),za=null,Ns=null;function bi(n,i,o){ye(ag,i._currentValue),i._currentValue=o}function Ss(n){n._currentValue=ag.current,ce(ag)}function og(n,i,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===o)break;n=n.return}}function lg(n,i,o,u){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var p=m.dependencies;if(p!==null){var _=m.child;p=p.firstContext;e:for(;p!==null;){var N=p;p=m;for(var P=0;P<i.length;P++)if(N.context===i[P]){p.lanes|=o,N=p.alternate,N!==null&&(N.lanes|=o),og(p.return,o,n),u||(_=null);break e}p=N.next}}else if(m.tag===18){if(_=m.return,_===null)throw Error(r(341));_.lanes|=o,p=_.alternate,p!==null&&(p.lanes|=o),og(_,o,n),_=null}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===n){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}}function el(n,i,o,u){n=null;for(var m=i,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var _=m.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var N=m.type;Hn(m.pendingProps.value,_.value)||(n!==null?n.push(N):n=[N])}}else if(m===Fe.current){if(_=m.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(vu):n=[vu])}m=m.return}n!==null&&lg(i,n,o,u),i.flags|=262144}function gh(n){for(n=n.firstContext;n!==null;){if(!Hn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ba(n){za=n,Ns=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function gn(n){return Bx(za,n)}function ph(n,i){return za===null&&Ba(n),Bx(n,i)}function Bx(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Ns===null){if(n===null)throw Error(r(308));Ns=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ns=Ns.next=i;return o}var MA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},VA=s.unstable_scheduleCallback,PA=s.unstable_NormalPriority,Kt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cg(){return{controller:new MA,data:new Map,refCount:0}}function Qc(n){n.refCount--,n.refCount===0&&VA(PA,function(){n.controller.abort()})}var Yc=null,ug=0,tl=0,nl=null;function OA(n,i){if(Yc===null){var o=Yc=[];ug=0,tl=f0(),nl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return ug++,i.then(Fx,Fx),i}function Fx(){if(--ug===0&&Yc!==null){nl!==null&&(nl.status="fulfilled");var n=Yc;Yc=null,tl=0,nl=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function LA(n,i){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var qx=ie.S;ie.S=function(n,i){Av=Je(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&OA(n,i),qx!==null&&qx(n,i)};var Fa=z(null);function dg(){var n=Fa.current;return n!==null?n:yt.pooledCache}function yh(n,i){i===null?ye(Fa,Fa.current):ye(Fa,i.pool)}function Hx(){var n=dg();return n===null?null:{parent:Kt._currentValue,pool:n}}var rl=Error(r(460)),hg=Error(r(474)),xh=Error(r(542)),bh={then:function(){}};function Gx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Kx(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(Nr,Nr),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Yx(n),n;default:if(typeof i.status=="string")i.then(Nr,Nr);else{if(n=yt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=u}},function(u){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Yx(n),n}throw Ha=i,rl}}function qa(n){try{var i=n._init;return i(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ha=o,rl):o}}var Ha=null;function Qx(){if(Ha===null)throw Error(r(459));var n=Ha;return Ha=null,n}function Yx(n){if(n===rl||n===xh)throw Error(r(483))}var sl=null,Jc=0;function vh(n){var i=Jc;return Jc+=1,sl===null&&(sl=[]),Kx(sl,n,i)}function Xc(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function _h(n,i){throw i.$$typeof===E?Error(r(525)):(n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Jx(n){function i(F,U){if(n){var Y=F.deletions;Y===null?(F.deletions=[U],F.flags|=16):Y.push(U)}}function o(F,U){if(!n)return null;for(;U!==null;)i(F,U),U=U.sibling;return null}function u(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function m(F,U){return F=Es(F,U),F.index=0,F.sibling=null,F}function p(F,U,Y){return F.index=Y,n?(Y=F.alternate,Y!==null?(Y=Y.index,Y<U?(F.flags|=67108866,U):Y):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function _(F){return n&&F.alternate===null&&(F.flags|=67108866),F}function N(F,U,Y,oe){return U===null||U.tag!==6?(U=eg(Y,F.mode,oe),U.return=F,U):(U=m(U,Y),U.return=F,U)}function P(F,U,Y,oe){var Ne=Y.type;return Ne===R?ae(F,U,Y.props.children,oe,Y.key):U!==null&&(U.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===T&&qa(Ne)===U.type)?(U=m(U,Y.props),Xc(U,Y),U.return=F,U):(U=fh(Y.type,Y.key,Y.props,null,F.mode,oe),Xc(U,Y),U.return=F,U)}function X(F,U,Y,oe){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=tg(Y,F.mode,oe),U.return=F,U):(U=m(U,Y.children||[]),U.return=F,U)}function ae(F,U,Y,oe,Ne){return U===null||U.tag!==7?(U=Ua(Y,F.mode,oe,Ne),U.return=F,U):(U=m(U,Y),U.return=F,U)}function ue(F,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=eg(""+U,F.mode,Y),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return Y=fh(U.type,U.key,U.props,null,F.mode,Y),Xc(Y,U),Y.return=F,Y;case I:return U=tg(U,F.mode,Y),U.return=F,U;case T:return U=qa(U),ue(F,U,Y)}if(Dt(U)||M(U))return U=Ua(U,F.mode,Y,null),U.return=F,U;if(typeof U.then=="function")return ue(F,vh(U),Y);if(U.$$typeof===q)return ue(F,ph(F,U),Y);_h(F,U)}return null}function Z(F,U,Y,oe){var Ne=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ne!==null?null:N(F,U,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return Y.key===Ne?P(F,U,Y,oe):null;case I:return Y.key===Ne?X(F,U,Y,oe):null;case T:return Y=qa(Y),Z(F,U,Y,oe)}if(Dt(Y)||M(Y))return Ne!==null?null:ae(F,U,Y,oe,null);if(typeof Y.then=="function")return Z(F,U,vh(Y),oe);if(Y.$$typeof===q)return Z(F,U,ph(F,Y),oe);_h(F,Y)}return null}function ne(F,U,Y,oe,Ne){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return F=F.get(Y)||null,N(U,F,""+oe,Ne);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case j:return F=F.get(oe.key===null?Y:oe.key)||null,P(U,F,oe,Ne);case I:return F=F.get(oe.key===null?Y:oe.key)||null,X(U,F,oe,Ne);case T:return oe=qa(oe),ne(F,U,Y,oe,Ne)}if(Dt(oe)||M(oe))return F=F.get(Y)||null,ae(U,F,oe,Ne,null);if(typeof oe.then=="function")return ne(F,U,Y,vh(oe),Ne);if(oe.$$typeof===q)return ne(F,U,Y,ph(U,oe),Ne);_h(U,oe)}return null}function ve(F,U,Y,oe){for(var Ne=null,Ze=null,we=U,Oe=U=0,He=null;we!==null&&Oe<Y.length;Oe++){we.index>Oe?(He=we,we=null):He=we.sibling;var et=Z(F,we,Y[Oe],oe);if(et===null){we===null&&(we=He);break}n&&we&&et.alternate===null&&i(F,we),U=p(et,U,Oe),Ze===null?Ne=et:Ze.sibling=et,Ze=et,we=He}if(Oe===Y.length)return o(F,we),Ye&&Ts(F,Oe),Ne;if(we===null){for(;Oe<Y.length;Oe++)we=ue(F,Y[Oe],oe),we!==null&&(U=p(we,U,Oe),Ze===null?Ne=we:Ze.sibling=we,Ze=we);return Ye&&Ts(F,Oe),Ne}for(we=u(we);Oe<Y.length;Oe++)He=ne(we,F,Oe,Y[Oe],oe),He!==null&&(n&&He.alternate!==null&&we.delete(He.key===null?Oe:He.key),U=p(He,U,Oe),Ze===null?Ne=He:Ze.sibling=He,Ze=He);return n&&we.forEach(function(Oi){return i(F,Oi)}),Ye&&Ts(F,Oe),Ne}function Ae(F,U,Y,oe){if(Y==null)throw Error(r(151));for(var Ne=null,Ze=null,we=U,Oe=U=0,He=null,et=Y.next();we!==null&&!et.done;Oe++,et=Y.next()){we.index>Oe?(He=we,we=null):He=we.sibling;var Oi=Z(F,we,et.value,oe);if(Oi===null){we===null&&(we=He);break}n&&we&&Oi.alternate===null&&i(F,we),U=p(Oi,U,Oe),Ze===null?Ne=Oi:Ze.sibling=Oi,Ze=Oi,we=He}if(et.done)return o(F,we),Ye&&Ts(F,Oe),Ne;if(we===null){for(;!et.done;Oe++,et=Y.next())et=ue(F,et.value,oe),et!==null&&(U=p(et,U,Oe),Ze===null?Ne=et:Ze.sibling=et,Ze=et);return Ye&&Ts(F,Oe),Ne}for(we=u(we);!et.done;Oe++,et=Y.next())et=ne(we,F,Oe,et.value,oe),et!==null&&(n&&et.alternate!==null&&we.delete(et.key===null?Oe:et.key),U=p(et,U,Oe),Ze===null?Ne=et:Ze.sibling=et,Ze=et);return n&&we.forEach(function(Y2){return i(F,Y2)}),Ye&&Ts(F,Oe),Ne}function gt(F,U,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===R&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:e:{for(var Ne=Y.key;U!==null;){if(U.key===Ne){if(Ne=Y.type,Ne===R){if(U.tag===7){o(F,U.sibling),oe=m(U,Y.props.children),oe.return=F,F=oe;break e}}else if(U.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===T&&qa(Ne)===U.type){o(F,U.sibling),oe=m(U,Y.props),Xc(oe,Y),oe.return=F,F=oe;break e}o(F,U);break}else i(F,U);U=U.sibling}Y.type===R?(oe=Ua(Y.props.children,F.mode,oe,Y.key),oe.return=F,F=oe):(oe=fh(Y.type,Y.key,Y.props,null,F.mode,oe),Xc(oe,Y),oe.return=F,F=oe)}return _(F);case I:e:{for(Ne=Y.key;U!==null;){if(U.key===Ne)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){o(F,U.sibling),oe=m(U,Y.children||[]),oe.return=F,F=oe;break e}else{o(F,U);break}else i(F,U);U=U.sibling}oe=tg(Y,F.mode,oe),oe.return=F,F=oe}return _(F);case T:return Y=qa(Y),gt(F,U,Y,oe)}if(Dt(Y))return ve(F,U,Y,oe);if(M(Y)){if(Ne=M(Y),typeof Ne!="function")throw Error(r(150));return Y=Ne.call(Y),Ae(F,U,Y,oe)}if(typeof Y.then=="function")return gt(F,U,vh(Y),oe);if(Y.$$typeof===q)return gt(F,U,ph(F,Y),oe);_h(F,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(o(F,U.sibling),oe=m(U,Y),oe.return=F,F=oe):(o(F,U),oe=eg(Y,F.mode,oe),oe.return=F,F=oe),_(F)):o(F,U)}return function(F,U,Y,oe){try{Jc=0;var Ne=gt(F,U,Y,oe);return sl=null,Ne}catch(we){if(we===rl||we===xh)throw we;var Ze=Gn(29,we,null,F.mode);return Ze.lanes=oe,Ze.return=F,Ze}}}var Ga=Jx(!0),Xx=Jx(!1),vi=!1;function fg(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mg(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function _i(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function wi(n,i,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(rt&2)!==0){var m=u.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),u.pending=i,i=hh(n),Mx(n,null,o),i}return dh(n,u,i,o),hh(n)}function Wc(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Nc(n,o)}}function gg(n,i){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?m=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?m=p=i:p=p.next=i}else m=p=i;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var pg=!1;function Zc(){if(pg){var n=nl;if(n!==null)throw n}}function eu(n,i,o,u){pg=!1;var m=n.updateQueue;vi=!1;var p=m.firstBaseUpdate,_=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var P=N,X=P.next;P.next=null,_===null?p=X:_.next=X,_=P;var ae=n.alternate;ae!==null&&(ae=ae.updateQueue,N=ae.lastBaseUpdate,N!==_&&(N===null?ae.firstBaseUpdate=X:N.next=X,ae.lastBaseUpdate=P))}if(p!==null){var ue=m.baseState;_=0,ae=X=P=null,N=p;do{var Z=N.lane&-536870913,ne=Z!==N.lane;if(ne?(qe&Z)===Z:(u&Z)===Z){Z!==0&&Z===tl&&(pg=!0),ae!==null&&(ae=ae.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ve=n,Ae=N;Z=i;var gt=o;switch(Ae.tag){case 1:if(ve=Ae.payload,typeof ve=="function"){ue=ve.call(gt,ue,Z);break e}ue=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ae.payload,Z=typeof ve=="function"?ve.call(gt,ue,Z):ve,Z==null)break e;ue=b({},ue,Z);break e;case 2:vi=!0}}Z=N.callback,Z!==null&&(n.flags|=64,ne&&(n.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[Z]:ne.push(Z))}else ne={lane:Z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ae===null?(X=ae=ne,P=ue):ae=ae.next=ne,_|=Z;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);ae===null&&(P=ue),m.baseState=P,m.firstBaseUpdate=X,m.lastBaseUpdate=ae,p===null&&(m.shared.lanes=0),Ai|=_,n.lanes=_,n.memoizedState=ue}}function Wx(n,i){if(typeof n!="function")throw Error(r(191,n));n.call(i)}function Zx(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Wx(o[n],i)}var il=z(null),wh=z(0);function eb(n,i){n=Vs,ye(wh,n),ye(il,i),Vs=n|i.baseLanes}function yg(){ye(wh,Vs),ye(il,il.current)}function xg(){Vs=wh.current,ce(il),ce(wh)}var Kn=z(null),mr=null;function Ei(n){var i=n.alternate;ye(Ut,Ut.current&1),ye(Kn,n),mr===null&&(i===null||il.current!==null||i.memoizedState!==null)&&(mr=n)}function bg(n){ye(Ut,Ut.current),ye(Kn,n),mr===null&&(mr=n)}function tb(n){n.tag===22?(ye(Ut,Ut.current),ye(Kn,n),mr===null&&(mr=n)):Ti()}function Ti(){ye(Ut,Ut.current),ye(Kn,Kn.current)}function Qn(n){ce(Kn),mr===n&&(mr=null),ce(Ut)}var Ut=z(0);function Eh(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||N0(o)||S0(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var As=0,Pe=null,ft=null,Qt=null,Th=!1,al=!1,Ka=!1,Nh=0,tu=0,ol=null,UA=0;function Mt(){throw Error(r(321))}function vg(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!Hn(n[o],i[o]))return!1;return!0}function _g(n,i,o,u,m,p){return As=p,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ie.H=n===null||n.memoizedState===null?Lb:Pg,Ka=!1,p=o(u,m),Ka=!1,al&&(p=rb(i,o,u,m)),nb(n),p}function nb(n){ie.H=su;var i=ft!==null&&ft.next!==null;if(As=0,Qt=ft=Pe=null,Th=!1,tu=0,ol=null,i)throw Error(r(300));n===null||Yt||(n=n.dependencies,n!==null&&gh(n)&&(Yt=!0))}function rb(n,i,o,u){Pe=n;var m=0;do{if(al&&(ol=null),tu=0,al=!1,25<=m)throw Error(r(301));if(m+=1,Qt=ft=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}ie.H=Ub,p=i(o,u)}while(al);return p}function $A(){var n=ie.H,i=n.useState()[0];return i=typeof i.then=="function"?nu(i):i,n=n.useState()[0],(ft!==null?ft.memoizedState:null)!==n&&(Pe.flags|=1024),i}function wg(){var n=Nh!==0;return Nh=0,n}function Eg(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function Tg(n){if(Th){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Th=!1}As=0,Qt=ft=Pe=null,al=!1,tu=Nh=0,ol=null}function Sn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Pe.memoizedState=Qt=n:Qt=Qt.next=n,Qt}function $t(){if(ft===null){var n=Pe.alternate;n=n!==null?n.memoizedState:null}else n=ft.next;var i=Qt===null?Pe.memoizedState:Qt.next;if(i!==null)Qt=i,ft=n;else{if(n===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));ft=n,n={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Qt===null?Pe.memoizedState=Qt=n:Qt=Qt.next=n}return Qt}function Sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nu(n){var i=tu;return tu+=1,ol===null&&(ol=[]),n=Kx(ol,n,i),i=Pe,(Qt===null?i.memoizedState:Qt.next)===null&&(i=i.alternate,ie.H=i===null||i.memoizedState===null?Lb:Pg),n}function Ah(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return nu(n);if(n.$$typeof===q)return gn(n)}throw Error(r(438,String(n)))}function Ng(n){var i=null,o=Pe.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Sh(),Pe.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),u=0;u<n;u++)o[u]=D;return i.index++,o}function Is(n,i){return typeof i=="function"?i(n):i}function Ih(n){var i=$t();return Sg(i,ft,n)}function Sg(n,i,o){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var m=n.baseQueue,p=u.pending;if(p!==null){if(m!==null){var _=m.next;m.next=p.next,p.next=_}i.baseQueue=m=p,u.pending=null}if(p=n.baseState,m===null)n.memoizedState=p;else{i=m.next;var N=_=null,P=null,X=i,ae=!1;do{var ue=X.lane&-536870913;if(ue!==X.lane?(qe&ue)===ue:(As&ue)===ue){var Z=X.revertLane;if(Z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ue===tl&&(ae=!0);else if((As&Z)===Z){X=X.next,Z===tl&&(ae=!0);continue}else ue={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},P===null?(N=P=ue,_=p):P=P.next=ue,Pe.lanes|=Z,Ai|=Z;ue=X.action,Ka&&o(p,ue),p=X.hasEagerState?X.eagerState:o(p,ue)}else Z={lane:ue,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},P===null?(N=P=Z,_=p):P=P.next=Z,Pe.lanes|=ue,Ai|=ue;X=X.next}while(X!==null&&X!==i);if(P===null?_=p:P.next=N,!Hn(p,n.memoizedState)&&(Yt=!0,ae&&(o=nl,o!==null)))throw o;n.memoizedState=p,n.baseState=_,n.baseQueue=P,u.lastRenderedState=p}return m===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Ag(n){var i=$t(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,m=o.pending,p=i.memoizedState;if(m!==null){o.pending=null;var _=m=m.next;do p=n(p,_.action),_=_.next;while(_!==m);Hn(p,i.memoizedState)||(Yt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,u]}function sb(n,i,o){var u=Pe,m=$t(),p=Ye;if(p){if(o===void 0)throw Error(r(407));o=o()}else o=i();var _=!Hn((ft||m).memoizedState,o);if(_&&(m.memoizedState=o,Yt=!0),m=m.queue,Cg(ob.bind(null,u,m,n),[n]),m.getSnapshot!==i||_||Qt!==null&&Qt.memoizedState.tag&1){if(u.flags|=2048,ll(9,{destroy:void 0},ab.bind(null,u,m,o,i),null),yt===null)throw Error(r(349));p||(As&127)!==0||ib(u,i,o)}return o}function ib(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Pe.updateQueue,i===null?(i=Sh(),Pe.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function ab(n,i,o,u){i.value=o,i.getSnapshot=u,lb(i)&&cb(n)}function ob(n,i,o){return o(function(){lb(i)&&cb(n)})}function lb(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!Hn(n,o)}catch{return!0}}function cb(n){var i=La(n,2);i!==null&&kn(i,n,2)}function Ig(n){var i=Sn();if(typeof n=="function"){var o=n;if(n=o(),Ka){sr(!0);try{o()}finally{sr(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:n},i}function ub(n,i,o,u){return n.baseState=o,Sg(n,ft,typeof u=="function"?u:Is)}function zA(n,i,o,u,m){if(Rh(n))throw Error(r(485));if(n=i.action,n!==null){var p={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};ie.T!==null?o(!0):p.isTransition=!1,u(p),o=i.pending,o===null?(p.next=i.pending=p,db(i,p)):(p.next=o.next,i.pending=o.next=p)}}function db(n,i){var o=i.action,u=i.payload,m=n.state;if(i.isTransition){var p=ie.T,_={};ie.T=_;try{var N=o(m,u),P=ie.S;P!==null&&P(_,N),hb(n,i,N)}catch(X){jg(n,i,X)}finally{p!==null&&_.types!==null&&(p.types=_.types),ie.T=p}}else try{p=o(m,u),hb(n,i,p)}catch(X){jg(n,i,X)}}function hb(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){fb(n,i,u)},function(u){return jg(n,i,u)}):fb(n,i,o)}function fb(n,i,o){i.status="fulfilled",i.value=o,mb(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,db(n,o)))}function jg(n,i,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,mb(i),i=i.next;while(i!==u)}n.action=null}function mb(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function gb(n,i){return i}function pb(n,i){if(Ye){var o=yt.formState;if(o!==null){e:{var u=Pe;if(Ye){if(wt){t:{for(var m=wt,p=fr;m.nodeType!==8;){if(!p){m=null;break t}if(m=gr(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){wt=gr(m.nextSibling),u=m.data==="F!";break e}}xi(u)}u=!1}u&&(i=o[0])}}return o=Sn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gb,lastRenderedState:i},o.queue=u,o=Vb.bind(null,Pe,u),u.dispatch=o,u=Ig(!1),p=Vg.bind(null,Pe,!1,u.queue),u=Sn(),m={state:i,dispatch:null,action:n,pending:null},u.queue=m,o=zA.bind(null,Pe,m,p,o),m.dispatch=o,u.memoizedState=n,[i,o,!1]}function yb(n){var i=$t();return xb(i,ft,n)}function xb(n,i,o){if(i=Sg(n,i,gb)[0],n=Ih(Is)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=nu(i)}catch(_){throw _===rl?xh:_}else u=i;i=$t();var m=i.queue,p=m.dispatch;return o!==i.memoizedState&&(Pe.flags|=2048,ll(9,{destroy:void 0},BA.bind(null,m,o),null)),[u,p,n]}function BA(n,i){n.action=i}function bb(n){var i=$t(),o=ft;if(o!==null)return xb(i,o,n);$t(),i=i.memoizedState,o=$t();var u=o.queue.dispatch;return o.memoizedState=n,[i,u,!1]}function ll(n,i,o,u){return n={tag:n,create:o,deps:u,inst:i,next:null},i=Pe.updateQueue,i===null&&(i=Sh(),Pe.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,i.lastEffect=n),n}function vb(){return $t().memoizedState}function jh(n,i,o,u){var m=Sn();Pe.flags|=n,m.memoizedState=ll(1|i,{destroy:void 0},o,u===void 0?null:u)}function Ch(n,i,o,u){var m=$t();u=u===void 0?null:u;var p=m.memoizedState.inst;ft!==null&&u!==null&&vg(u,ft.memoizedState.deps)?m.memoizedState=ll(i,p,o,u):(Pe.flags|=n,m.memoizedState=ll(1|i,p,o,u))}function _b(n,i){jh(8390656,8,n,i)}function Cg(n,i){Ch(2048,8,n,i)}function FA(n){Pe.flags|=4;var i=Pe.updateQueue;if(i===null)i=Sh(),Pe.updateQueue=i,i.events=[n];else{var o=i.events;o===null?i.events=[n]:o.push(n)}}function wb(n){var i=$t().memoizedState;return FA({ref:i,nextImpl:n}),function(){if((rt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Eb(n,i){return Ch(4,2,n,i)}function Tb(n,i){return Ch(4,4,n,i)}function Nb(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Sb(n,i,o){o=o!=null?o.concat([n]):null,Ch(4,4,Nb.bind(null,i,n),o)}function Rg(){}function Ab(n,i){var o=$t();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&vg(i,u[1])?u[0]:(o.memoizedState=[n,i],n)}function Ib(n,i){var o=$t();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&vg(i,u[1]))return u[0];if(u=n(),Ka){sr(!0);try{n()}finally{sr(!1)}}return o.memoizedState=[u,i],u}function Dg(n,i,o){return o===void 0||(As&1073741824)!==0&&(qe&261930)===0?n.memoizedState=i:(n.memoizedState=o,n=jv(),Pe.lanes|=n,Ai|=n,o)}function jb(n,i,o,u){return Hn(o,i)?o:il.current!==null?(n=Dg(n,o,u),Hn(n,i)||(Yt=!0),n):(As&42)===0||(As&1073741824)!==0&&(qe&261930)===0?(Yt=!0,n.memoizedState=o):(n=jv(),Pe.lanes|=n,Ai|=n,i)}function Cb(n,i,o,u,m){var p=pe.p;pe.p=p!==0&&8>p?p:8;var _=ie.T,N={};ie.T=N,Vg(n,!1,i,o);try{var P=m(),X=ie.S;if(X!==null&&X(N,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ae=LA(P,u);ru(n,i,ae,Xn(n))}else ru(n,i,u,Xn(n))}catch(ue){ru(n,i,{then:function(){},status:"rejected",reason:ue},Xn())}finally{pe.p=p,_!==null&&N.types!==null&&(_.types=N.types),ie.T=_}}function qA(){}function kg(n,i,o,u){if(n.tag!==5)throw Error(r(476));var m=Rb(n).queue;Cb(n,m,i,Te,o===null?qA:function(){return Db(n),o(u)})}function Rb(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:Te},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Db(n){var i=Rb(n);i.next===null&&(i=n.alternate.memoizedState),ru(n,i.next.queue,{},Xn())}function Mg(){return gn(vu)}function kb(){return $t().memoizedState}function Mb(){return $t().memoizedState}function HA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=Xn();n=_i(o);var u=wi(i,n,o);u!==null&&(kn(u,i,o),Wc(u,i,o)),i={cache:cg()},n.payload=i;return}i=i.return}}function GA(n,i,o){var u=Xn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Rh(n)?Pb(i,o):(o=Wm(n,i,o,u),o!==null&&(kn(o,n,u),Ob(o,i,u)))}function Vb(n,i,o){var u=Xn();ru(n,i,o,u)}function ru(n,i,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rh(n))Pb(i,m);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var _=i.lastRenderedState,N=p(_,o);if(m.hasEagerState=!0,m.eagerState=N,Hn(N,_))return dh(n,i,m,0),yt===null&&uh(),!1}catch{}if(o=Wm(n,i,m,u),o!==null)return kn(o,n,u),Ob(o,i,u),!0}return!1}function Vg(n,i,o,u){if(u={lane:2,revertLane:f0(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Rh(n)){if(i)throw Error(r(479))}else i=Wm(n,o,u,2),i!==null&&kn(i,n,2)}function Rh(n){var i=n.alternate;return n===Pe||i!==null&&i===Pe}function Pb(n,i){al=Th=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function Ob(n,i,o){if((o&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Nc(n,o)}}var su={readContext:gn,use:Ah,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};su.useEffectEvent=Mt;var Lb={readContext:gn,use:Ah,useCallback:function(n,i){return Sn().memoizedState=[n,i===void 0?null:i],n},useContext:gn,useEffect:_b,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,jh(4194308,4,Nb.bind(null,i,n),o)},useLayoutEffect:function(n,i){return jh(4194308,4,n,i)},useInsertionEffect:function(n,i){jh(4,2,n,i)},useMemo:function(n,i){var o=Sn();i=i===void 0?null:i;var u=n();if(Ka){sr(!0);try{n()}finally{sr(!1)}}return o.memoizedState=[u,i],u},useReducer:function(n,i,o){var u=Sn();if(o!==void 0){var m=o(i);if(Ka){sr(!0);try{o(i)}finally{sr(!1)}}}else m=i;return u.memoizedState=u.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},u.queue=n,n=n.dispatch=GA.bind(null,Pe,n),[u.memoizedState,n]},useRef:function(n){var i=Sn();return n={current:n},i.memoizedState=n},useState:function(n){n=Ig(n);var i=n.queue,o=Vb.bind(null,Pe,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:Rg,useDeferredValue:function(n,i){var o=Sn();return Dg(o,n,i)},useTransition:function(){var n=Ig(!1);return n=Cb.bind(null,Pe,n.queue,!0,!1),Sn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var u=Pe,m=Sn();if(Ye){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),yt===null)throw Error(r(349));(qe&127)!==0||ib(u,i,o)}m.memoizedState=o;var p={value:o,getSnapshot:i};return m.queue=p,_b(ob.bind(null,u,p,n),[n]),u.flags|=2048,ll(9,{destroy:void 0},ab.bind(null,u,p,o,i),null),o},useId:function(){var n=Sn(),i=yt.identifierPrefix;if(Ye){var o=ss,u=rs;o=(u&~(1<<32-Ot(u)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Nh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=UA++,i="_"+i+"r_"+o.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Mg,useFormState:pb,useActionState:pb,useOptimistic:function(n){var i=Sn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Vg.bind(null,Pe,!0,o),o.dispatch=i,[n,i]},useMemoCache:Ng,useCacheRefresh:function(){return Sn().memoizedState=HA.bind(null,Pe)},useEffectEvent:function(n){var i=Sn(),o={impl:n};return i.memoizedState=o,function(){if((rt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Pg={readContext:gn,use:Ah,useCallback:Ab,useContext:gn,useEffect:Cg,useImperativeHandle:Sb,useInsertionEffect:Eb,useLayoutEffect:Tb,useMemo:Ib,useReducer:Ih,useRef:vb,useState:function(){return Ih(Is)},useDebugValue:Rg,useDeferredValue:function(n,i){var o=$t();return jb(o,ft.memoizedState,n,i)},useTransition:function(){var n=Ih(Is)[0],i=$t().memoizedState;return[typeof n=="boolean"?n:nu(n),i]},useSyncExternalStore:sb,useId:kb,useHostTransitionStatus:Mg,useFormState:yb,useActionState:yb,useOptimistic:function(n,i){var o=$t();return ub(o,ft,n,i)},useMemoCache:Ng,useCacheRefresh:Mb};Pg.useEffectEvent=wb;var Ub={readContext:gn,use:Ah,useCallback:Ab,useContext:gn,useEffect:Cg,useImperativeHandle:Sb,useInsertionEffect:Eb,useLayoutEffect:Tb,useMemo:Ib,useReducer:Ag,useRef:vb,useState:function(){return Ag(Is)},useDebugValue:Rg,useDeferredValue:function(n,i){var o=$t();return ft===null?Dg(o,n,i):jb(o,ft.memoizedState,n,i)},useTransition:function(){var n=Ag(Is)[0],i=$t().memoizedState;return[typeof n=="boolean"?n:nu(n),i]},useSyncExternalStore:sb,useId:kb,useHostTransitionStatus:Mg,useFormState:bb,useActionState:bb,useOptimistic:function(n,i){var o=$t();return ft!==null?ub(o,ft,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Ng,useCacheRefresh:Mb};Ub.useEffectEvent=wb;function Og(n,i,o,u){i=n.memoizedState,o=o(u,i),o=o==null?i:b({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Lg={enqueueSetState:function(n,i,o){n=n._reactInternals;var u=Xn(),m=_i(u);m.payload=i,o!=null&&(m.callback=o),i=wi(n,m,u),i!==null&&(kn(i,n,u),Wc(i,n,u))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var u=Xn(),m=_i(u);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=wi(n,m,u),i!==null&&(kn(i,n,u),Wc(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Xn(),u=_i(o);u.tag=2,i!=null&&(u.callback=i),i=wi(n,u,o),i!==null&&(kn(i,n,o),Wc(i,n,o))}};function $b(n,i,o,u,m,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,_):i.prototype&&i.prototype.isPureReactComponent?!qc(o,u)||!qc(m,p):!0}function zb(n,i,o,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==n&&Lg.enqueueReplaceState(i,i.state,null)}function Qa(n,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(n=n.defaultProps){o===i&&(o=b({},o));for(var m in n)o[m]===void 0&&(o[m]=n[m])}return o}function Bb(n){ch(n)}function Fb(n){console.error(n)}function qb(n){ch(n)}function Dh(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Hb(n,i,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ug(n,i,o){return o=_i(o),o.tag=3,o.payload={element:null},o.callback=function(){Dh(n,i)},o}function Gb(n){return n=_i(n),n.tag=3,n}function Kb(n,i,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;n.payload=function(){return m(p)},n.callback=function(){Hb(i,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Hb(i,o,u),typeof m!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function KA(n,i,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&el(i,o,m,!0),o=Kn.current,o!==null){switch(o.tag){case 31:case 13:return mr===null?qh():o.alternate===null&&Vt===0&&(Vt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===bh?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),u0(n,u,m)),!1;case 22:return o.flags|=65536,u===bh?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),u0(n,u,m)),!1}throw Error(r(435,o.tag))}return u0(n,u,m),qh(),!1}if(Ye)return i=Kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,u!==sg&&(n=Error(r(422),{cause:u}),Kc(ur(n,o)))):(u!==sg&&(i=Error(r(423),{cause:u}),Kc(ur(i,o))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,u=ur(u,o),m=Ug(n.stateNode,u,m),gg(n,m),Vt!==4&&(Vt=2)),!1;var p=Error(r(520),{cause:u});if(p=ur(p,o),hu===null?hu=[p]:hu.push(p),Vt!==4&&(Vt=2),i===null)return!0;u=ur(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=m&-m,o.lanes|=n,n=Ug(o.stateNode,u,n),gg(o,n),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ii===null||!Ii.has(p))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Gb(m),Kb(m,n,o,u),gg(o,m),!1}o=o.return}while(o!==null);return!1}var $g=Error(r(461)),Yt=!1;function pn(n,i,o,u){i.child=n===null?Xx(i,null,o,u):Ga(i,n.child,o,u)}function Qb(n,i,o,u,m){o=o.render;var p=i.ref;if("ref"in u){var _={};for(var N in u)N!=="ref"&&(_[N]=u[N])}else _=u;return Ba(i),u=_g(n,i,o,_,p,m),N=wg(),n!==null&&!Yt?(Eg(n,i,m),js(n,i,m)):(Ye&&N&&ng(i),i.flags|=1,pn(n,i,u,m),i.child)}function Yb(n,i,o,u,m){if(n===null){var p=o.type;return typeof p=="function"&&!Zm(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,Jb(n,i,p,u,m)):(n=fh(o.type,null,u,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!Qg(n,m)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:qc,o(_,u)&&n.ref===i.ref)return js(n,i,m)}return i.flags|=1,n=Es(p,u),n.ref=i.ref,n.return=i,i.child=n}function Jb(n,i,o,u,m){if(n!==null){var p=n.memoizedProps;if(qc(p,u)&&n.ref===i.ref)if(Yt=!1,i.pendingProps=u=p,Qg(n,m))(n.flags&131072)!==0&&(Yt=!0);else return i.lanes=n.lanes,js(n,i,m)}return zg(n,i,o,u,m)}function Xb(n,i,o,u){var m=u.children,p=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,n!==null){for(u=i.child=n.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~p}else u=0,i.child=null;return Wb(n,i,p,o,u)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&yh(i,p!==null?p.cachePool:null),p!==null?eb(i,p):yg(),tb(i);else return u=i.lanes=536870912,Wb(n,i,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(yh(i,p.cachePool),eb(i,p),Ti(),i.memoizedState=null):(n!==null&&yh(i,null),yg(),Ti());return pn(n,i,m,o),i.child}function iu(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Wb(n,i,o,u,m){var p=dg();return p=p===null?null:{parent:Kt._currentValue,pool:p},i.memoizedState={baseLanes:o,cachePool:p},n!==null&&yh(i,null),yg(),tb(i),n!==null&&el(n,i,u,!0),i.childLanes=m,null}function kh(n,i){return i=Vh({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Zb(n,i,o){return Ga(i,n.child,null,o),n=kh(i,i.pendingProps),n.flags|=2,Qn(i),i.memoizedState=null,n}function QA(n,i,o){var u=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Ye){if(u.mode==="hidden")return n=kh(i,u),i.lanes=536870912,iu(null,n);if(bg(i),(n=wt)?(n=d_(n,fr),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:pi!==null?{id:rs,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},o=Px(n),o.return=i,i.child=o,mn=i,wt=null)):n=null,n===null)throw xi(i);return i.lanes=536870912,null}return kh(i,u)}var p=n.memoizedState;if(p!==null){var _=p.dehydrated;if(bg(i),m)if(i.flags&256)i.flags&=-257,i=Zb(n,i,o);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(r(558));else if(Yt||el(n,i,o,!1),m=(o&n.childLanes)!==0,Yt||m){if(u=yt,u!==null&&(_=Sc(u,o),_!==0&&_!==p.retryLane))throw p.retryLane=_,La(n,_),kn(u,n,_),$g;qh(),i=Zb(n,i,o)}else n=p.treeContext,wt=gr(_.nextSibling),mn=i,Ye=!0,yi=null,fr=!1,n!==null&&Ux(i,n),i=kh(i,u),i.flags|=4096;return i}return n=Es(n.child,{mode:u.mode,children:u.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Mh(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function zg(n,i,o,u,m){return Ba(i),o=_g(n,i,o,u,void 0,m),u=wg(),n!==null&&!Yt?(Eg(n,i,m),js(n,i,m)):(Ye&&u&&ng(i),i.flags|=1,pn(n,i,o,m),i.child)}function ev(n,i,o,u,m,p){return Ba(i),i.updateQueue=null,o=rb(i,u,o,m),nb(n),u=wg(),n!==null&&!Yt?(Eg(n,i,p),js(n,i,p)):(Ye&&u&&ng(i),i.flags|=1,pn(n,i,o,p),i.child)}function tv(n,i,o,u,m){if(Ba(i),i.stateNode===null){var p=Jo,_=o.contextType;typeof _=="object"&&_!==null&&(p=gn(_)),p=new o(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Lg,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},fg(i),_=o.contextType,p.context=typeof _=="object"&&_!==null?gn(_):Jo,p.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Og(i,o,_,u),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&Lg.enqueueReplaceState(p,p.state,null),eu(i,u,p,m),Zc(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){p=i.stateNode;var N=i.memoizedProps,P=Qa(o,N);p.props=P;var X=p.context,ae=o.contextType;_=Jo,typeof ae=="object"&&ae!==null&&(_=gn(ae));var ue=o.getDerivedStateFromProps;ae=typeof ue=="function"||typeof p.getSnapshotBeforeUpdate=="function",N=i.pendingProps!==N,ae||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(N||X!==_)&&zb(i,p,u,_),vi=!1;var Z=i.memoizedState;p.state=Z,eu(i,u,p,m),Zc(),X=i.memoizedState,N||Z!==X||vi?(typeof ue=="function"&&(Og(i,o,ue,u),X=i.memoizedState),(P=vi||$b(i,o,P,u,Z,X,_))?(ae||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=X),p.props=u,p.state=X,p.context=_,u=P):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,mg(n,i),_=i.memoizedProps,ae=Qa(o,_),p.props=ae,ue=i.pendingProps,Z=p.context,X=o.contextType,P=Jo,typeof X=="object"&&X!==null&&(P=gn(X)),N=o.getDerivedStateFromProps,(X=typeof N=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==ue||Z!==P)&&zb(i,p,u,P),vi=!1,Z=i.memoizedState,p.state=Z,eu(i,u,p,m),Zc();var ne=i.memoizedState;_!==ue||Z!==ne||vi||n!==null&&n.dependencies!==null&&gh(n.dependencies)?(typeof N=="function"&&(Og(i,o,N,u),ne=i.memoizedState),(ae=vi||$b(i,o,ae,u,Z,ne,P)||n!==null&&n.dependencies!==null&&gh(n.dependencies))?(X||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,ne,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,ne,P)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&Z===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Z===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=ne),p.props=u,p.state=ne,p.context=P,u=ae):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&Z===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Z===n.memoizedState||(i.flags|=1024),u=!1)}return p=u,Mh(n,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&u?(i.child=Ga(i,n.child,null,m),i.child=Ga(i,null,o,m)):pn(n,i,o,m),i.memoizedState=p.state,n=i.child):n=js(n,i,m),n}function nv(n,i,o,u){return $a(),i.flags|=256,pn(n,i,o,u),i.child}var Bg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fg(n){return{baseLanes:n,cachePool:Hx()}}function qg(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Jn),n}function rv(n,i,o){var u=i.pendingProps,m=!1,p=(i.flags&128)!==0,_;if((_=p)||(_=n!==null&&n.memoizedState===null?!1:(Ut.current&2)!==0),_&&(m=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ye){if(m?Ei(i):Ti(),(n=wt)?(n=d_(n,fr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:pi!==null?{id:rs,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},o=Px(n),o.return=i,i.child=o,mn=i,wt=null)):n=null,n===null)throw xi(i);return S0(n)?i.lanes=32:i.lanes=536870912,null}var N=u.children;return u=u.fallback,m?(Ti(),m=i.mode,N=Vh({mode:"hidden",children:N},m),u=Ua(u,m,o,null),N.return=i,u.return=i,N.sibling=u,i.child=N,u=i.child,u.memoizedState=Fg(o),u.childLanes=qg(n,_,o),i.memoizedState=Bg,iu(null,u)):(Ei(i),Hg(i,N))}var P=n.memoizedState;if(P!==null&&(N=P.dehydrated,N!==null)){if(p)i.flags&256?(Ei(i),i.flags&=-257,i=Gg(n,i,o)):i.memoizedState!==null?(Ti(),i.child=n.child,i.flags|=128,i=null):(Ti(),N=u.fallback,m=i.mode,u=Vh({mode:"visible",children:u.children},m),N=Ua(N,m,o,null),N.flags|=2,u.return=i,N.return=i,u.sibling=N,i.child=u,Ga(i,n.child,null,o),u=i.child,u.memoizedState=Fg(o),u.childLanes=qg(n,_,o),i.memoizedState=Bg,i=iu(null,u));else if(Ei(i),S0(N)){if(_=N.nextSibling&&N.nextSibling.dataset,_)var X=_.dgst;_=X,u=Error(r(419)),u.stack="",u.digest=_,Kc({value:u,source:null,stack:null}),i=Gg(n,i,o)}else if(Yt||el(n,i,o,!1),_=(o&n.childLanes)!==0,Yt||_){if(_=yt,_!==null&&(u=Sc(_,o),u!==0&&u!==P.retryLane))throw P.retryLane=u,La(n,u),kn(_,n,u),$g;N0(N)||qh(),i=Gg(n,i,o)}else N0(N)?(i.flags|=192,i.child=n.child,i=null):(n=P.treeContext,wt=gr(N.nextSibling),mn=i,Ye=!0,yi=null,fr=!1,n!==null&&Ux(i,n),i=Hg(i,u.children),i.flags|=4096);return i}return m?(Ti(),N=u.fallback,m=i.mode,P=n.child,X=P.sibling,u=Es(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,X!==null?N=Es(X,N):(N=Ua(N,m,o,null),N.flags|=2),N.return=i,u.return=i,u.sibling=N,i.child=u,iu(null,u),u=i.child,N=n.child.memoizedState,N===null?N=Fg(o):(m=N.cachePool,m!==null?(P=Kt._currentValue,m=m.parent!==P?{parent:P,pool:P}:m):m=Hx(),N={baseLanes:N.baseLanes|o,cachePool:m}),u.memoizedState=N,u.childLanes=qg(n,_,o),i.memoizedState=Bg,iu(n.child,u)):(Ei(i),o=n.child,n=o.sibling,o=Es(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=o,i.memoizedState=null,o)}function Hg(n,i){return i=Vh({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Vh(n,i){return n=Gn(22,n,null,i),n.lanes=0,n}function Gg(n,i,o){return Ga(i,n.child,null,o),n=Hg(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function sv(n,i,o){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),og(n.return,i,o)}function Kg(n,i,o,u,m,p){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:p}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=m,_.treeForkCount=p)}function iv(n,i,o){var u=i.pendingProps,m=u.revealOrder,p=u.tail;u=u.children;var _=Ut.current,N=(_&2)!==0;if(N?(_=_&1|2,i.flags|=128):_&=1,ye(Ut,_),pn(n,i,u,o),u=Ye?Gc:0,!N&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&sv(n,o,i);else if(n.tag===19)sv(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(o=i.child,m=null;o!==null;)n=o.alternate,n!==null&&Eh(n)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Kg(i,!1,m,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&Eh(n)===null){i.child=m;break}n=m.sibling,m.sibling=o,o=m,m=n}Kg(i,!0,o,null,p,u);break;case"together":Kg(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function js(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Ai|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(el(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,o=Es(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=Es(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function Qg(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&gh(n)))}function YA(n,i,o){switch(i.tag){case 3:Pt(i,i.stateNode.containerInfo),bi(i,Kt,n.memoizedState.cache),$a();break;case 27:case 5:ys(i);break;case 4:Pt(i,i.stateNode.containerInfo);break;case 10:bi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,bg(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Ei(i),i.flags|=128,null):(o&i.child.childLanes)!==0?rv(n,i,o):(Ei(i),n=js(n,i,o),n!==null?n.sibling:null);Ei(i);break;case 19:var m=(n.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(el(n,i,o,!1),u=(o&i.childLanes)!==0),m){if(u)return iv(n,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ye(Ut,Ut.current),u)break;return null;case 22:return i.lanes=0,Xb(n,i,o,i.pendingProps);case 24:bi(i,Kt,n.memoizedState.cache)}return js(n,i,o)}function av(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)Yt=!0;else{if(!Qg(n,o)&&(i.flags&128)===0)return Yt=!1,YA(n,i,o);Yt=(n.flags&131072)!==0}else Yt=!1,Ye&&(i.flags&1048576)!==0&&Lx(i,Gc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(n=qa(i.elementType),i.type=n,typeof n=="function")Zm(n)?(u=Qa(n,u),i.tag=1,i=tv(null,i,n,u,o)):(i.tag=0,i=zg(null,i,n,u,o));else{if(n!=null){var m=n.$$typeof;if(m===J){i.tag=11,i=Qb(null,i,n,u,o);break e}else if(m===S){i.tag=14,i=Yb(null,i,n,u,o);break e}}throw i=st(n)||n,Error(r(306,i,""))}}return i;case 0:return zg(n,i,i.type,i.pendingProps,o);case 1:return u=i.type,m=Qa(u,i.pendingProps),tv(n,i,u,m,o);case 3:e:{if(Pt(i,i.stateNode.containerInfo),n===null)throw Error(r(387));u=i.pendingProps;var p=i.memoizedState;m=p.element,mg(n,i),eu(i,u,null,o);var _=i.memoizedState;if(u=_.cache,bi(i,Kt,u),u!==p.cache&&lg(i,[Kt],o,!0),Zc(),u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=nv(n,i,u,o);break e}else if(u!==m){m=ur(Error(r(424)),i),Kc(m),i=nv(n,i,u,o);break e}else for(n=i.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,wt=gr(n.firstChild),mn=i,Ye=!0,yi=null,fr=!0,o=Xx(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if($a(),u===m){i=js(n,i,o);break e}pn(n,i,u,o)}i=i.child}return i;case 26:return Mh(n,i),n===null?(o=y_(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ye||(o=i.type,n=i.pendingProps,u=Xh(ke.current).createElement(o),u[qt]=i,u[rn]=n,yn(u,o,n),Ht(u),i.stateNode=u):i.memoizedState=y_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return ys(i),n===null&&Ye&&(u=i.stateNode=m_(i.type,i.pendingProps,ke.current),mn=i,fr=!0,m=wt,Di(i.type)?(A0=m,wt=gr(u.firstChild)):wt=m),pn(n,i,i.pendingProps.children,o),Mh(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ye&&((m=u=wt)&&(u=N2(u,i.type,i.pendingProps,fr),u!==null?(i.stateNode=u,mn=i,wt=gr(u.firstChild),fr=!1,m=!0):m=!1),m||xi(i)),ys(i),m=i.type,p=i.pendingProps,_=n!==null?n.memoizedProps:null,u=p.children,w0(m,p)?u=null:_!==null&&w0(m,_)&&(i.flags|=32),i.memoizedState!==null&&(m=_g(n,i,$A,null,null,o),vu._currentValue=m),Mh(n,i),pn(n,i,u,o),i.child;case 6:return n===null&&Ye&&((n=o=wt)&&(o=S2(o,i.pendingProps,fr),o!==null?(i.stateNode=o,mn=i,wt=null,n=!0):n=!1),n||xi(i)),null;case 13:return rv(n,i,o);case 4:return Pt(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=Ga(i,null,u,o):pn(n,i,u,o),i.child;case 11:return Qb(n,i,i.type,i.pendingProps,o);case 7:return pn(n,i,i.pendingProps,o),i.child;case 8:return pn(n,i,i.pendingProps.children,o),i.child;case 12:return pn(n,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,bi(i,i.type,u.value),pn(n,i,u.children,o),i.child;case 9:return m=i.type._context,u=i.pendingProps.children,Ba(i),m=gn(m),u=u(m),i.flags|=1,pn(n,i,u,o),i.child;case 14:return Yb(n,i,i.type,i.pendingProps,o);case 15:return Jb(n,i,i.type,i.pendingProps,o);case 19:return iv(n,i,o);case 31:return QA(n,i,o);case 22:return Xb(n,i,o,i.pendingProps);case 24:return Ba(i),u=gn(Kt),n===null?(m=dg(),m===null&&(m=yt,p=cg(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=o),m=p),i.memoizedState={parent:u,cache:m},fg(i),bi(i,Kt,m)):((n.lanes&o)!==0&&(mg(n,i),eu(i,null,null,o),Zc()),m=n.memoizedState,p=i.memoizedState,m.parent!==u?(m={parent:u,cache:u},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),bi(i,Kt,u)):(u=p.cache,bi(i,Kt,u),u!==m.cache&&lg(i,[Kt],o,!0))),pn(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Cs(n){n.flags|=4}function Yg(n,i,o,u,m){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(kv())n.flags|=8192;else throw Ha=bh,hg}else n.flags&=-16777217}function ov(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!w_(i))if(kv())n.flags|=8192;else throw Ha=bh,hg}function Ph(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Bd():536870912,n.lanes|=i,hl|=i)}function au(n,i){if(!Ye)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Et(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(i)for(var m=n.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=u,n.childLanes=o,i}function JA(n,i,o){var u=i.pendingProps;switch(rg(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(i),null;case 1:return Et(i),null;case 3:return o=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ss(Kt),vt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Zo(i)?Cs(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ig())),Et(i),null;case 26:var m=i.type,p=i.memoizedState;return n===null?(Cs(i),p!==null?(Et(i),ov(i,p)):(Et(i),Yg(i,m,null,u,o))):p?p!==n.memoizedState?(Cs(i),Et(i),ov(i,p)):(Et(i),i.flags&=-16777217):(n=n.memoizedProps,n!==u&&Cs(i),Et(i),Yg(i,m,n,u,o)),null;case 27:if(ri(i),o=ke.current,m=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Cs(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Et(i),null}n=be.current,Zo(i)?$x(i):(n=m_(m,u,o),i.stateNode=n,Cs(i))}return Et(i),null;case 5:if(ri(i),m=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Cs(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Et(i),null}if(p=be.current,Zo(i))$x(i);else{var _=Xh(ke.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?_.createElement(m,{is:u.is}):_.createElement(m)}}p[qt]=i,p[rn]=u;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=p;e:switch(yn(p,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Cs(i)}}return Et(i),Yg(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,o),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Cs(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(n=ke.current,Zo(i)){if(n=i.stateNode,o=i.memoizedProps,u=null,m=mn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}n[qt]=i,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||r_(n.nodeValue,o)),n||xi(i,!0)}else n=Xh(n).createTextNode(u),n[qt]=i,i.stateNode=n}return Et(i),null;case 31:if(o=i.memoizedState,n===null||n.memoizedState!==null){if(u=Zo(i),o!==null){if(n===null){if(!u)throw Error(r(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[qt]=i}else $a(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Et(i),n=!1}else o=ig(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return i.flags&256?(Qn(i),i):(Qn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Et(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=Zo(i),u!==null&&u.dehydrated!==null){if(n===null){if(!m)throw Error(r(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[qt]=i}else $a(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Et(i),m=!1}else m=ig(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Qn(i),i):(Qn(i),null)}return Qn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=i.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)),o!==n&&o&&(i.child.flags|=8192),Ph(i,i.updateQueue),Et(i),null);case 4:return vt(),n===null&&y0(i.stateNode.containerInfo),Et(i),null;case 10:return Ss(i.type),Et(i),null;case 19:if(ce(Ut),u=i.memoizedState,u===null)return Et(i),null;if(m=(i.flags&128)!==0,p=u.rendering,p===null)if(m)au(u,!1);else{if(Vt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(p=Eh(n),p!==null){for(i.flags|=128,au(u,!1),n=p.updateQueue,i.updateQueue=n,Ph(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)Vx(o,n),o=o.sibling;return ye(Ut,Ut.current&1|2),Ye&&Ts(i,u.treeForkCount),i.child}n=n.sibling}u.tail!==null&&Je()>zh&&(i.flags|=128,m=!0,au(u,!1),i.lanes=4194304)}else{if(!m)if(n=Eh(p),n!==null){if(i.flags|=128,m=!0,n=n.updateQueue,i.updateQueue=n,Ph(i,n),au(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ye)return Et(i),null}else 2*Je()-u.renderingStartTime>zh&&o!==536870912&&(i.flags|=128,m=!0,au(u,!1),i.lanes=4194304);u.isBackwards?(p.sibling=i.child,i.child=p):(n=u.last,n!==null?n.sibling=p:i.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Je(),n.sibling=null,o=Ut.current,ye(Ut,m?o&1|2:o&1),Ye&&Ts(i,u.treeForkCount),n):(Et(i),null);case 22:case 23:return Qn(i),xg(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(Et(i),i.subtreeFlags&6&&(i.flags|=8192)):Et(i),o=i.updateQueue,o!==null&&Ph(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),n!==null&&ce(Fa),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ss(Kt),Et(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function XA(n,i){switch(rg(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ss(Kt),vt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ri(i),null;case 31:if(i.memoizedState!==null){if(Qn(i),i.alternate===null)throw Error(r(340));$a()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(Qn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));$a()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ce(Ut),null;case 4:return vt(),null;case 10:return Ss(i.type),null;case 22:case 23:return Qn(i),xg(),n!==null&&ce(Fa),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ss(Kt),null;case 25:return null;default:return null}}function lv(n,i){switch(rg(i),i.tag){case 3:Ss(Kt),vt();break;case 26:case 27:case 5:ri(i);break;case 4:vt();break;case 31:i.memoizedState!==null&&Qn(i);break;case 13:Qn(i);break;case 19:ce(Ut);break;case 10:Ss(i.type);break;case 22:case 23:Qn(i),xg(),n!==null&&ce(Fa);break;case 24:Ss(Kt)}}function ou(n,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&n)===n){u=void 0;var p=o.create,_=o.inst;u=p(),_.destroy=u}o=o.next}while(o!==m)}}catch(N){lt(i,i.return,N)}}function Ni(n,i,o){try{var u=i.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&n)===n){var _=u.inst,N=_.destroy;if(N!==void 0){_.destroy=void 0,m=i;var P=o,X=N;try{X()}catch(ae){lt(m,P,ae)}}}u=u.next}while(u!==p)}}catch(ae){lt(i,i.return,ae)}}function cv(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{Zx(i,o)}catch(u){lt(n,n.return,u)}}}function uv(n,i,o){o.props=Qa(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){lt(n,i,u)}}function lu(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(m){lt(n,i,m)}}function is(n,i){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){lt(n,i,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){lt(n,i,m)}else o.current=null}function dv(n){var i=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){lt(n,n.return,m)}}function Jg(n,i,o){try{var u=n.stateNode;b2(u,n.type,o,i),u[rn]=i}catch(m){lt(n,n.return,m)}}function hv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Di(n.type)||n.tag===4}function Xg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||hv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Di(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wg(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Nr));else if(u!==4&&(u===27&&Di(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(Wg(n,i,o),n=n.sibling;n!==null;)Wg(n,i,o),n=n.sibling}function Oh(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(u!==4&&(u===27&&Di(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Oh(n,i,o),n=n.sibling;n!==null;)Oh(n,i,o),n=n.sibling}function fv(n){var i=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);yn(i,u,o),i[qt]=n,i[rn]=o}catch(p){lt(n,n.return,p)}}var Rs=!1,Jt=!1,Zg=!1,mv=typeof WeakSet=="function"?WeakSet:Set,an=null;function WA(n,i){if(n=n.containerInfo,v0=sf,n=Sx(n),Gm(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,N=-1,P=-1,X=0,ae=0,ue=n,Z=null;t:for(;;){for(var ne;ue!==o||m!==0&&ue.nodeType!==3||(N=_+m),ue!==p||u!==0&&ue.nodeType!==3||(P=_+u),ue.nodeType===3&&(_+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)Z=ue,ue=ne;for(;;){if(ue===n)break t;if(Z===o&&++X===m&&(N=_),Z===p&&++ae===u&&(P=_),(ne=ue.nextSibling)!==null)break;ue=Z,Z=ue.parentNode}ue=ne}o=N===-1||P===-1?null:{start:N,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(_0={focusedElem:n,selectionRange:o},sf=!1,an=i;an!==null;)if(i=an,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,an=n;else for(;an!==null;){switch(i=an,p=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)m=n[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=i,m=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var ve=Qa(o.type,m);n=u.getSnapshotBeforeUpdate(ve,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ae){lt(o,o.return,Ae)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)T0(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":T0(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=i.sibling,n!==null){n.return=i.return,an=n;break}an=i.return}}function gv(n,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ks(n,o),u&4&&ou(5,o);break;case 1:if(ks(n,o),u&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(_){lt(o,o.return,_)}else{var m=Qa(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(m,i,n.__reactInternalSnapshotBeforeUpdate)}catch(_){lt(o,o.return,_)}}u&64&&cv(o),u&512&&lu(o,o.return);break;case 3:if(ks(n,o),u&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Zx(n,i)}catch(_){lt(o,o.return,_)}}break;case 27:i===null&&u&4&&fv(o);case 26:case 5:ks(n,o),i===null&&u&4&&dv(o),u&512&&lu(o,o.return);break;case 12:ks(n,o);break;case 31:ks(n,o),u&4&&xv(n,o);break;case 13:ks(n,o),u&4&&bv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=o2.bind(null,o),A2(n,o))));break;case 22:if(u=o.memoizedState!==null||Rs,!u){i=i!==null&&i.memoizedState!==null||Jt,m=Rs;var p=Jt;Rs=u,(Jt=i)&&!p?Ms(n,o,(o.subtreeFlags&8772)!==0):ks(n,o),Rs=m,Jt=p}break;case 30:break;default:ks(n,o)}}function pv(n){var i=n.alternate;i!==null&&(n.alternate=null,pv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Po(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var It=null,jn=!1;function Ds(n,i,o){for(o=o.child;o!==null;)yv(n,i,o),o=o.sibling}function yv(n,i,o){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(_r,o)}catch{}switch(o.tag){case 26:Jt||is(o,i),Ds(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Jt||is(o,i);var u=It,m=jn;Di(o.type)&&(It=o.stateNode,jn=!1),Ds(n,i,o),yu(o.stateNode),It=u,jn=m;break;case 5:Jt||is(o,i);case 6:if(u=It,m=jn,It=null,Ds(n,i,o),It=u,jn=m,It!==null)if(jn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(o.stateNode)}catch(p){lt(o,i,p)}else try{It.removeChild(o.stateNode)}catch(p){lt(o,i,p)}break;case 18:It!==null&&(jn?(n=It,c_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),vl(n)):c_(It,o.stateNode));break;case 4:u=It,m=jn,It=o.stateNode.containerInfo,jn=!0,Ds(n,i,o),It=u,jn=m;break;case 0:case 11:case 14:case 15:Ni(2,o,i),Jt||Ni(4,o,i),Ds(n,i,o);break;case 1:Jt||(is(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&uv(o,i,u)),Ds(n,i,o);break;case 21:Ds(n,i,o);break;case 22:Jt=(u=Jt)||o.memoizedState!==null,Ds(n,i,o),Jt=u;break;default:Ds(n,i,o)}}function xv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{vl(n)}catch(o){lt(i,i.return,o)}}}function bv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{vl(n)}catch(o){lt(i,i.return,o)}}function ZA(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new mv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new mv),i;default:throw Error(r(435,n.tag))}}function Lh(n,i){var o=ZA(n);i.forEach(function(u){if(!o.has(u)){o.add(u);var m=l2.bind(null,n,u);u.then(m,m)}})}function Cn(n,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],p=n,_=i,N=_;e:for(;N!==null;){switch(N.tag){case 27:if(Di(N.type)){It=N.stateNode,jn=!1;break e}break;case 5:It=N.stateNode,jn=!1;break e;case 3:case 4:It=N.stateNode.containerInfo,jn=!0;break e}N=N.return}if(It===null)throw Error(r(160));yv(p,_,m),It=null,jn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)vv(i,n),i=i.sibling}var Rr=null;function vv(n,i){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Cn(i,n),Rn(n),u&4&&(Ni(3,n,n.return),ou(3,n),Ni(5,n,n.return));break;case 1:Cn(i,n),Rn(n),u&512&&(Jt||o===null||is(o,o.return)),u&64&&Rs&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Rr;if(Cn(i,n),Rn(n),u&512&&(Jt||o===null||is(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Hr]||p[qt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),yn(p,u,o),p[qt]=n,Ht(p),u=p;break e;case"link":var _=v_("link","href",m).get(u+(o.href||""));if(_){for(var N=0;N<_.length;N++)if(p=_[N],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(N,1);break t}}p=m.createElement(u),yn(p,u,o),m.head.appendChild(p);break;case"meta":if(_=v_("meta","content",m).get(u+(o.content||""))){for(N=0;N<_.length;N++)if(p=_[N],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(N,1);break t}}p=m.createElement(u),yn(p,u,o),m.head.appendChild(p);break;default:throw Error(r(468,u))}p[qt]=n,Ht(p),u=p}n.stateNode=u}else __(m,n.type,n.stateNode);else n.stateNode=b_(m,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?__(m,n.type,n.stateNode):b_(m,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Jg(n,n.memoizedProps,o.memoizedProps)}break;case 27:Cn(i,n),Rn(n),u&512&&(Jt||o===null||is(o,o.return)),o!==null&&u&4&&Jg(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Cn(i,n),Rn(n),u&512&&(Jt||o===null||is(o,o.return)),n.flags&32){m=n.stateNode;try{In(m,"")}catch(ve){lt(n,n.return,ve)}}u&4&&n.stateNode!=null&&(m=n.memoizedProps,Jg(n,m,o!==null?o.memoizedProps:m)),u&1024&&(Zg=!0);break;case 6:if(Cn(i,n),Rn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(ve){lt(n,n.return,ve)}}break;case 3:if(ef=null,m=Rr,Rr=Wh(i.containerInfo),Cn(i,n),Rr=m,Rn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{vl(i.containerInfo)}catch(ve){lt(n,n.return,ve)}Zg&&(Zg=!1,_v(n));break;case 4:u=Rr,Rr=Wh(n.stateNode.containerInfo),Cn(i,n),Rn(n),Rr=u;break;case 12:Cn(i,n),Rn(n);break;case 31:Cn(i,n),Rn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Lh(n,u)));break;case 13:Cn(i,n),Rn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($h=Je()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Lh(n,u)));break;case 22:m=n.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,X=Rs,ae=Jt;if(Rs=X||m,Jt=ae||P,Cn(i,n),Jt=ae,Rs=X,Rn(n),u&8192)e:for(i=n.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||P||Rs||Jt||Ya(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){P=o=i;try{if(p=P.stateNode,m)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{N=P.stateNode;var ue=P.memoizedProps.style,Z=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;N.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ve){lt(P,P.return,ve)}}}else if(i.tag===6){if(o===null){P=i;try{P.stateNode.nodeValue=m?"":P.memoizedProps}catch(ve){lt(P,P.return,ve)}}}else if(i.tag===18){if(o===null){P=i;try{var ne=P.stateNode;m?u_(ne,!0):u_(P.stateNode,!1)}catch(ve){lt(P,P.return,ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Lh(n,o))));break;case 19:Cn(i,n),Rn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Lh(n,u)));break;case 30:break;case 21:break;default:Cn(i,n),Rn(n)}}function Rn(n){var i=n.flags;if(i&2){try{for(var o,u=n.return;u!==null;){if(hv(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,p=Xg(n);Oh(n,p,m);break;case 5:var _=o.stateNode;o.flags&32&&(In(_,""),o.flags&=-33);var N=Xg(n);Oh(n,N,_);break;case 3:case 4:var P=o.stateNode.containerInfo,X=Xg(n);Wg(n,X,P);break;default:throw Error(r(161))}}catch(ae){lt(n,n.return,ae)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function _v(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;_v(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ks(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)gv(n,i.alternate,i),i=i.sibling}function Ya(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ni(4,i,i.return),Ya(i);break;case 1:is(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&uv(i,i.return,o),Ya(i);break;case 27:yu(i.stateNode);case 26:case 5:is(i,i.return),Ya(i);break;case 22:i.memoizedState===null&&Ya(i);break;case 30:Ya(i);break;default:Ya(i)}n=n.sibling}}function Ms(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,m=n,p=i,_=p.flags;switch(p.tag){case 0:case 11:case 15:Ms(m,p,o),ou(4,p);break;case 1:if(Ms(m,p,o),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){lt(u,u.return,X)}if(u=p,m=u.updateQueue,m!==null){var N=u.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)Wx(P[m],N)}catch(X){lt(u,u.return,X)}}o&&_&64&&cv(p),lu(p,p.return);break;case 27:fv(p);case 26:case 5:Ms(m,p,o),o&&u===null&&_&4&&dv(p),lu(p,p.return);break;case 12:Ms(m,p,o);break;case 31:Ms(m,p,o),o&&_&4&&xv(m,p);break;case 13:Ms(m,p,o),o&&_&4&&bv(m,p);break;case 22:p.memoizedState===null&&Ms(m,p,o),lu(p,p.return);break;case 30:break;default:Ms(m,p,o)}i=i.sibling}}function e0(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Qc(o))}function t0(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Qc(n))}function Dr(n,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wv(n,i,o,u),i=i.sibling}function wv(n,i,o,u){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Dr(n,i,o,u),m&2048&&ou(9,i);break;case 1:Dr(n,i,o,u);break;case 3:Dr(n,i,o,u),m&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Qc(n)));break;case 12:if(m&2048){Dr(n,i,o,u),n=i.stateNode;try{var p=i.memoizedProps,_=p.id,N=p.onPostCommit;typeof N=="function"&&N(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(P){lt(i,i.return,P)}}else Dr(n,i,o,u);break;case 31:Dr(n,i,o,u);break;case 13:Dr(n,i,o,u);break;case 23:break;case 22:p=i.stateNode,_=i.alternate,i.memoizedState!==null?p._visibility&2?Dr(n,i,o,u):cu(n,i):p._visibility&2?Dr(n,i,o,u):(p._visibility|=2,cl(n,i,o,u,(i.subtreeFlags&10256)!==0||!1)),m&2048&&e0(_,i);break;case 24:Dr(n,i,o,u),m&2048&&t0(i.alternate,i);break;default:Dr(n,i,o,u)}}function cl(n,i,o,u,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=n,_=i,N=o,P=u,X=_.flags;switch(_.tag){case 0:case 11:case 15:cl(p,_,N,P,m),ou(8,_);break;case 23:break;case 22:var ae=_.stateNode;_.memoizedState!==null?ae._visibility&2?cl(p,_,N,P,m):cu(p,_):(ae._visibility|=2,cl(p,_,N,P,m)),m&&X&2048&&e0(_.alternate,_);break;case 24:cl(p,_,N,P,m),m&&X&2048&&t0(_.alternate,_);break;default:cl(p,_,N,P,m)}i=i.sibling}}function cu(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,u=i,m=u.flags;switch(u.tag){case 22:cu(o,u),m&2048&&e0(u.alternate,u);break;case 24:cu(o,u),m&2048&&t0(u.alternate,u);break;default:cu(o,u)}i=i.sibling}}var uu=8192;function ul(n,i,o){if(n.subtreeFlags&uu)for(n=n.child;n!==null;)Ev(n,i,o),n=n.sibling}function Ev(n,i,o){switch(n.tag){case 26:ul(n,i,o),n.flags&uu&&n.memoizedState!==null&&U2(o,Rr,n.memoizedState,n.memoizedProps);break;case 5:ul(n,i,o);break;case 3:case 4:var u=Rr;Rr=Wh(n.stateNode.containerInfo),ul(n,i,o),Rr=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=uu,uu=16777216,ul(n,i,o),uu=u):ul(n,i,o));break;default:ul(n,i,o)}}function Tv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function du(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];an=u,Sv(u,n)}Tv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Nv(n),n=n.sibling}function Nv(n){switch(n.tag){case 0:case 11:case 15:du(n),n.flags&2048&&Ni(9,n,n.return);break;case 3:du(n);break;case 12:du(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Uh(n)):du(n);break;default:du(n)}}function Uh(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];an=u,Sv(u,n)}Tv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ni(8,i,i.return),Uh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Uh(i));break;default:Uh(i)}n=n.sibling}}function Sv(n,i){for(;an!==null;){var o=an;switch(o.tag){case 0:case 11:case 15:Ni(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Qc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,an=u;else e:for(o=n;an!==null;){u=an;var m=u.sibling,p=u.return;if(pv(u),u===o){an=null;break e}if(m!==null){m.return=p,an=m;break e}an=p}}}var e2={getCacheForType:function(n){var i=gn(Kt),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o},cacheSignal:function(){return gn(Kt).controller.signal}},t2=typeof WeakMap=="function"?WeakMap:Map,rt=0,yt=null,ze=null,qe=0,ot=0,Yn=null,Si=!1,dl=!1,n0=!1,Vs=0,Vt=0,Ai=0,Ja=0,r0=0,Jn=0,hl=0,hu=null,Dn=null,s0=!1,$h=0,Av=0,zh=1/0,Bh=null,Ii=null,Zt=0,ji=null,fl=null,Ps=0,i0=0,a0=null,Iv=null,fu=0,o0=null;function Xn(){return(rt&2)!==0&&qe!==0?qe&-qe:ie.T!==null?f0():Fd()}function jv(){if(Jn===0)if((qe&536870912)===0||Ye){var n=Ea;Ea<<=1,(Ea&3932160)===0&&(Ea=262144),Jn=n}else Jn=536870912;return n=Kn.current,n!==null&&(n.flags|=32),Jn}function kn(n,i,o){(n===yt&&(ot===2||ot===9)||n.cancelPendingCommit!==null)&&(ml(n,0),Ci(n,qe,Jn,!1)),Ta(n,o),((rt&2)===0||n!==yt)&&(n===yt&&((rt&2)===0&&(Ja|=o),Vt===4&&Ci(n,qe,Jn,!1)),as(n))}function Cv(n,i,o){if((rt&6)!==0)throw Error(r(327));var u=!o&&(i&127)===0&&(i&n.expiredLanes)===0||wr(n,i),m=u?s2(n,i):c0(n,i,!0),p=u;do{if(m===0){dl&&!u&&Ci(n,i,0,!1);break}else{if(o=n.current.alternate,p&&!n2(o)){m=c0(n,i,!1),p=!1;continue}if(m===2){if(p=i,n.errorRecoveryDisabledLanes&p)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var N=n;m=hu;var P=N.current.memoizedState.isDehydrated;if(P&&(ml(N,_).flags|=256),_=c0(N,_,!1),_!==2){if(n0&&!P){N.errorRecoveryDisabledLanes|=p,Ja|=p,m=4;break e}p=Dn,Dn=m,p!==null&&(Dn===null?Dn=p:Dn.push.apply(Dn,p))}m=_}if(p=!1,m!==2)continue}}if(m===1){ml(n,0),Ci(n,i,0,!0);break}e:{switch(u=n,p=m,p){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ci(u,i,Jn,!Si);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(m=$h+300-Je(),10<m)){if(Ci(u,i,Jn,!Si),Br(u,0,!0)!==0)break e;Ps=i,u.timeoutHandle=o_(Rv.bind(null,u,o,Dn,Bh,s0,i,Jn,Ja,hl,Si,p,"Throttled",-0,0),m);break e}Rv(u,o,Dn,Bh,s0,i,Jn,Ja,hl,Si,p,null,-0,0)}}break}while(!0);as(n)}function Rv(n,i,o,u,m,p,_,N,P,X,ae,ue,Z,ne){if(n.timeoutHandle=-1,ue=i.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nr},Ev(i,p,ue);var ve=(p&62914560)===p?$h-Je():(p&4194048)===p?Av-Je():0;if(ve=$2(ue,ve),ve!==null){Ps=p,n.cancelPendingCommit=ve(Uv.bind(null,n,i,p,o,u,m,_,N,P,ae,ue,null,Z,ne)),Ci(n,p,_,!X);return}}Uv(n,i,p,o,u,m,_,N,P)}function n2(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],p=m.getSnapshot;m=m.value;try{if(!Hn(p(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ci(n,i,o,u){i&=~r0,i&=~Ja,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var m=i;0<m;){var p=31-Ot(m),_=1<<p;u[p]=-1,m&=~_}o!==0&&Na(n,o,i)}function Fh(){return(rt&6)===0?(mu(0),!1):!0}function l0(){if(ze!==null){if(ot===0)var n=ze.return;else n=ze,Ns=za=null,Tg(n),sl=null,Jc=0,n=ze;for(;n!==null;)lv(n.alternate,n),n=n.return;ze=null}}function ml(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,w2(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Ps=0,l0(),yt=n,ze=o=Es(n.current,null),qe=i,ot=0,Yn=null,Si=!1,dl=wr(n,i),n0=!1,hl=Jn=r0=Ja=Ai=Vt=0,Dn=hu=null,s0=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var m=31-Ot(u),p=1<<m;i|=n[m],u&=~p}return Vs=i,uh(),o}function Dv(n,i){Pe=null,ie.H=su,i===rl||i===xh?(i=Qx(),ot=3):i===hg?(i=Qx(),ot=4):ot=i===$g?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Yn=i,ze===null&&(Vt=1,Dh(n,ur(i,n.current)))}function kv(){var n=Kn.current;return n===null?!0:(qe&4194048)===qe?mr===null:(qe&62914560)===qe||(qe&536870912)!==0?n===mr:!1}function Mv(){var n=ie.H;return ie.H=su,n===null?su:n}function Vv(){var n=ie.A;return ie.A=e2,n}function qh(){Vt=4,Si||(qe&4194048)!==qe&&Kn.current!==null||(dl=!0),(Ai&134217727)===0&&(Ja&134217727)===0||yt===null||Ci(yt,qe,Jn,!1)}function c0(n,i,o){var u=rt;rt|=2;var m=Mv(),p=Vv();(yt!==n||qe!==i)&&(Bh=null,ml(n,i)),i=!1;var _=Vt;e:do try{if(ot!==0&&ze!==null){var N=ze,P=Yn;switch(ot){case 8:l0(),_=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(i=!0);var X=ot;if(ot=0,Yn=null,gl(n,N,P,X),o&&dl){_=0;break e}break;default:X=ot,ot=0,Yn=null,gl(n,N,P,X)}}r2(),_=Vt;break}catch(ae){Dv(n,ae)}while(!0);return i&&n.shellSuspendCounter++,Ns=za=null,rt=u,ie.H=m,ie.A=p,ze===null&&(yt=null,qe=0,uh()),_}function r2(){for(;ze!==null;)Pv(ze)}function s2(n,i){var o=rt;rt|=2;var u=Mv(),m=Vv();yt!==n||qe!==i?(Bh=null,zh=Je()+500,ml(n,i)):dl=wr(n,i);e:do try{if(ot!==0&&ze!==null){i=ze;var p=Yn;t:switch(ot){case 1:ot=0,Yn=null,gl(n,i,p,1);break;case 2:case 9:if(Gx(p)){ot=0,Yn=null,Ov(i);break}i=function(){ot!==2&&ot!==9||yt!==n||(ot=7),as(n)},p.then(i,i);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Gx(p)?(ot=0,Yn=null,Ov(i)):(ot=0,Yn=null,gl(n,i,p,7));break;case 5:var _=null;switch(ze.tag){case 26:_=ze.memoizedState;case 5:case 27:var N=ze;if(_?w_(_):N.stateNode.complete){ot=0,Yn=null;var P=N.sibling;if(P!==null)ze=P;else{var X=N.return;X!==null?(ze=X,Hh(X)):ze=null}break t}}ot=0,Yn=null,gl(n,i,p,5);break;case 6:ot=0,Yn=null,gl(n,i,p,6);break;case 8:l0(),Vt=6;break e;default:throw Error(r(462))}}i2();break}catch(ae){Dv(n,ae)}while(!0);return Ns=za=null,ie.H=u,ie.A=m,rt=o,ze!==null?0:(yt=null,qe=0,uh(),Vt)}function i2(){for(;ze!==null&&!Se();)Pv(ze)}function Pv(n){var i=av(n.alternate,n,Vs);n.memoizedProps=n.pendingProps,i===null?Hh(n):ze=i}function Ov(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=ev(o,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=ev(o,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:Tg(i);default:lv(o,i),i=ze=Vx(i,Vs),i=av(o,i,Vs)}n.memoizedProps=n.pendingProps,i===null?Hh(n):ze=i}function gl(n,i,o,u){Ns=za=null,Tg(i),sl=null,Jc=0;var m=i.return;try{if(KA(n,m,i,o,qe)){Vt=1,Dh(n,ur(o,n.current)),ze=null;return}}catch(p){if(m!==null)throw ze=m,p;Vt=1,Dh(n,ur(o,n.current)),ze=null;return}i.flags&32768?(Ye||u===1?n=!0:dl||(qe&536870912)!==0?n=!1:(Si=n=!0,(u===2||u===9||u===3||u===6)&&(u=Kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Lv(i,n)):Hh(i)}function Hh(n){var i=n;do{if((i.flags&32768)!==0){Lv(i,Si);return}n=i.return;var o=JA(i.alternate,i,Vs);if(o!==null){ze=o;return}if(i=i.sibling,i!==null){ze=i;return}ze=i=n}while(i!==null);Vt===0&&(Vt=5)}function Lv(n,i){do{var o=XA(n.alternate,n);if(o!==null){o.flags&=32767,ze=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){ze=n;return}ze=n=o}while(n!==null);Vt=6,ze=null}function Uv(n,i,o,u,m,p,_,N,P){n.cancelPendingCommit=null;do Gh();while(Zt!==0);if((rt&6)!==0)throw Error(r(327));if(i!==null){if(i===n.current)throw Error(r(177));if(p=i.lanes|i.childLanes,p|=Xm,Bm(n,o,p,_,N,P),n===yt&&(ze=yt=null,qe=0),fl=i,ji=n,Ps=o,i0=p,a0=m,Iv=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,c2(ai,function(){return qv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=ie.T,ie.T=null,m=pe.p,pe.p=2,_=rt,rt|=4;try{WA(n,i,o)}finally{rt=_,pe.p=m,ie.T=u}}Zt=1,$v(),zv(),Bv()}}function $v(){if(Zt===1){Zt=0;var n=ji,i=fl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=ie.T,ie.T=null;var u=pe.p;pe.p=2;var m=rt;rt|=4;try{vv(i,n);var p=_0,_=Sx(n.containerInfo),N=p.focusedElem,P=p.selectionRange;if(_!==N&&N&&N.ownerDocument&&Nx(N.ownerDocument.documentElement,N)){if(P!==null&&Gm(N)){var X=P.start,ae=P.end;if(ae===void 0&&(ae=X),"selectionStart"in N)N.selectionStart=X,N.selectionEnd=Math.min(ae,N.value.length);else{var ue=N.ownerDocument||document,Z=ue&&ue.defaultView||window;if(Z.getSelection){var ne=Z.getSelection(),ve=N.textContent.length,Ae=Math.min(P.start,ve),gt=P.end===void 0?Ae:Math.min(P.end,ve);!ne.extend&&Ae>gt&&(_=gt,gt=Ae,Ae=_);var F=Tx(N,Ae),U=Tx(N,gt);if(F&&U&&(ne.rangeCount!==1||ne.anchorNode!==F.node||ne.anchorOffset!==F.offset||ne.focusNode!==U.node||ne.focusOffset!==U.offset)){var Y=ue.createRange();Y.setStart(F.node,F.offset),ne.removeAllRanges(),Ae>gt?(ne.addRange(Y),ne.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),ne.addRange(Y))}}}}for(ue=[],ne=N;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ue.length;N++){var oe=ue[N];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}sf=!!v0,_0=v0=null}finally{rt=m,pe.p=u,ie.T=o}}n.current=i,Zt=2}}function zv(){if(Zt===2){Zt=0;var n=ji,i=fl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=ie.T,ie.T=null;var u=pe.p;pe.p=2;var m=rt;rt|=4;try{gv(n,i.alternate,i)}finally{rt=m,pe.p=u,ie.T=o}}Zt=3}}function Bv(){if(Zt===4||Zt===3){Zt=0,Le();var n=ji,i=fl,o=Ps,u=Iv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Zt=5:(Zt=0,fl=ji=null,Fv(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(Ii=null),bs(o),i=i.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(_r,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=ie.T,m=pe.p,pe.p=2,ie.T=null;try{for(var p=n.onRecoverableError,_=0;_<u.length;_++){var N=u[_];p(N.value,{componentStack:N.stack})}}finally{ie.T=i,pe.p=m}}(Ps&3)!==0&&Gh(),as(n),m=n.pendingLanes,(o&261930)!==0&&(m&42)!==0?n===o0?fu++:(fu=0,o0=n):fu=0,mu(0)}}function Fv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Qc(i)))}function Gh(){return $v(),zv(),Bv(),qv()}function qv(){if(Zt!==5)return!1;var n=ji,i=i0;i0=0;var o=bs(Ps),u=ie.T,m=pe.p;try{pe.p=32>o?32:o,ie.T=null,o=a0,a0=null;var p=ji,_=Ps;if(Zt=0,fl=ji=null,Ps=0,(rt&6)!==0)throw Error(r(331));var N=rt;if(rt|=4,Nv(p.current),wv(p,p.current,_,o),rt=N,mu(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(_r,p)}catch{}return!0}finally{pe.p=m,ie.T=u,Fv(n,i)}}function Hv(n,i,o){i=ur(o,i),i=Ug(n.stateNode,i,2),n=wi(n,i,2),n!==null&&(Ta(n,2),as(n))}function lt(n,i,o){if(n.tag===3)Hv(n,n,o);else for(;i!==null;){if(i.tag===3){Hv(i,n,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ii===null||!Ii.has(u))){n=ur(o,n),o=Gb(2),u=wi(i,o,2),u!==null&&(Kb(o,u,i,n),Ta(u,2),as(u));break}}i=i.return}}function u0(n,i,o){var u=n.pingCache;if(u===null){u=n.pingCache=new t2;var m=new Set;u.set(i,m)}else m=u.get(i),m===void 0&&(m=new Set,u.set(i,m));m.has(o)||(n0=!0,m.add(o),n=a2.bind(null,n,i,o),i.then(n,n))}function a2(n,i,o){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,yt===n&&(qe&o)===o&&(Vt===4||Vt===3&&(qe&62914560)===qe&&300>Je()-$h?(rt&2)===0&&ml(n,0):r0|=o,hl===qe&&(hl=0)),as(n)}function Gv(n,i){i===0&&(i=Bd()),n=La(n,i),n!==null&&(Ta(n,i),as(n))}function o2(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Gv(n,o)}function l2(n,i){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,m=n.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),Gv(n,o)}function c2(n,i){return se(n,i)}var Kh=null,pl=null,d0=!1,Qh=!1,h0=!1,Ri=0;function as(n){n!==pl&&n.next===null&&(pl===null?Kh=pl=n:pl=pl.next=n),Qh=!0,d0||(d0=!0,d2())}function mu(n,i){if(!h0&&Qh){h0=!0;do for(var o=!1,u=Kh;u!==null;){if(n!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var _=u.suspendedLanes,N=u.pingedLanes;p=(1<<31-Ot(42|n)+1)-1,p&=m&~(_&~N),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Jv(u,p))}else p=qe,p=Br(u,u===yt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||wr(u,p)||(o=!0,Jv(u,p));u=u.next}while(o);h0=!1}}function u2(){Kv()}function Kv(){Qh=d0=!1;var n=0;Ri!==0&&_2()&&(n=Ri);for(var i=Je(),o=null,u=Kh;u!==null;){var m=u.next,p=Qv(u,i);p===0?(u.next=null,o===null?Kh=m:o.next=m,m===null&&(pl=o)):(o=u,(n!==0||(p&3)!==0)&&(Qh=!0)),u=m}Zt!==0&&Zt!==5||mu(n),Ri!==0&&(Ri=0)}function Qv(n,i){for(var o=n.suspendedLanes,u=n.pingedLanes,m=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var _=31-Ot(p),N=1<<_,P=m[_];P===-1?((N&o)===0||(N&u)!==0)&&(m[_]=zm(N,i)):P<=i&&(n.expiredLanes|=N),p&=~N}if(i=yt,o=qe,o=Br(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===i&&(ot===2||ot===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&he(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||wr(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(u!==null&&he(u),bs(o)){case 2:case 8:o=Tc;break;case 32:o=ai;break;case 268435456:o=Od;break;default:o=ai}return u=Yv.bind(null,n),o=se(o,u),n.callbackPriority=i,n.callbackNode=o,i}return u!==null&&u!==null&&he(u),n.callbackPriority=2,n.callbackNode=null,2}function Yv(n,i){if(Zt!==0&&Zt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Gh()&&n.callbackNode!==o)return null;var u=qe;return u=Br(n,n===yt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Cv(n,u,i),Qv(n,Je()),n.callbackNode!=null&&n.callbackNode===o?Yv.bind(null,n):null)}function Jv(n,i){if(Gh())return null;Cv(n,i,!0)}function d2(){E2(function(){(rt&6)!==0?se(Ec,u2):Kv()})}function f0(){if(Ri===0){var n=tl;n===0&&(n=$r,$r<<=1,($r&261888)===0&&($r=256)),Ri=n}return Ri}function Xv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:$o(""+n)}function Wv(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function h2(n,i,o,u,m){if(i==="submit"&&o&&o.stateNode===m){var p=Xv((m[rn]||null).action),_=u.submitter;_&&(i=(i=_[rn]||null)?Xv(i.formAction):_.getAttribute("formAction"),i!==null&&(p=i,_=null));var N=new Zr("action","action",null,u,m);n.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ri!==0){var P=_?Wv(m,_):new FormData(m);kg(o,{pending:!0,data:P,method:m.method,action:p},null,P)}}else typeof p=="function"&&(N.preventDefault(),P=_?Wv(m,_):new FormData(m),kg(o,{pending:!0,data:P,method:m.method,action:p},p,P))},currentTarget:m}]})}}for(var m0=0;m0<Jm.length;m0++){var g0=Jm[m0],f2=g0.toLowerCase(),m2=g0[0].toUpperCase()+g0.slice(1);Cr(f2,"on"+m2)}Cr(jx,"onAnimationEnd"),Cr(Cx,"onAnimationIteration"),Cr(Rx,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(CA,"onTransitionRun"),Cr(RA,"onTransitionStart"),Cr(DA,"onTransitionCancel"),Cr(Dx,"onTransitionEnd"),Yr("onMouseEnter",["mouseout","mouseover"]),Yr("onMouseLeave",["mouseout","mouseover"]),Yr("onPointerEnter",["pointerout","pointerover"]),Yr("onPointerLeave",["pointerout","pointerover"]),Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gu));function Zv(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],m=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var _=u.length-1;0<=_;_--){var N=u[_],P=N.instance,X=N.currentTarget;if(N=N.listener,P!==p&&m.isPropagationStopped())break e;p=N,m.currentTarget=X;try{p(m)}catch(ae){ch(ae)}m.currentTarget=null,p=P}else for(_=0;_<u.length;_++){if(N=u[_],P=N.instance,X=N.currentTarget,N=N.listener,P!==p&&m.isPropagationStopped())break e;p=N,m.currentTarget=X;try{p(m)}catch(ae){ch(ae)}m.currentTarget=null,p=P}}}}function Be(n,i){var o=i[Vo];o===void 0&&(o=i[Vo]=new Set);var u=n+"__bubble";o.has(u)||(e_(i,n,2,!1),o.add(u))}function p0(n,i,o){var u=0;i&&(u|=4),e_(o,n,u,i)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function y0(n){if(!n[Yh]){n[Yh]=!0,Ac.forEach(function(o){o!=="selectionchange"&&(g2.has(o)||p0(o,!1,n),p0(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Yh]||(i[Yh]=!0,p0("selectionchange",!1,i))}}function e_(n,i,o,u){switch(j_(i)){case 2:var m=F2;break;case 8:m=q2;break;default:m=D0}o=m.bind(null,i,o,n),m=void 0,!Ca||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),u?m!==void 0?n.addEventListener(i,o,{capture:!0,passive:m}):n.addEventListener(i,o,!0):m!==void 0?n.addEventListener(i,o,{passive:m}):n.addEventListener(i,o,!1)}function x0(n,i,o,u,m){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var N=u.stateNode.containerInfo;if(N===m)break;if(_===4)for(_=u.return;_!==null;){var P=_.tag;if((P===3||P===4)&&_.stateNode.containerInfo===m)return;_=_.return}for(;N!==null;){if(_=Gr(N),_===null)return;if(P=_.tag,P===5||P===6||P===26||P===27){u=p=_;continue e}N=N.parentNode}}u=u.return}hi(function(){var X=p,ae=ar(o),ue=[];e:{var Z=kx.get(n);if(Z!==void 0){var ne=Zr,ve=n;switch(n){case"keypress":if(Da(o)===0)break e;case"keydown":case"keyup":ne=ah;break;case"focusin":ve="focus",ne=Ma;break;case"focusout":ve="blur",ne=Ma;break;case"beforeblur":case"afterblur":ne=Ma;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Xd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=v;break;case jx:case Cx:case Rx:ne=Zd;break;case Dx:ne=A;break;case"scroll":case"scrollend":ne=Uc;break;case"wheel":ne=ee;break;case"copy":case"cut":case"paste":ne=eh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=ws;break;case"toggle":case"beforetoggle":ne=Ve}var Ae=(i&4)!==0,gt=!Ae&&(n==="scroll"||n==="scrollend"),F=Ae?Z!==null?Z+"Capture":null:Z;Ae=[];for(var U=X,Y;U!==null;){var oe=U;if(Y=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Y===null||F===null||(oe=Sr(U,F),oe!=null&&Ae.push(pu(U,oe,Y))),gt)break;U=U.return}0<Ae.length&&(Z=new ne(Z,ve,null,o,ae),ue.push({event:Z,listeners:Ae}))}}if((i&7)===0){e:{if(Z=n==="mouseover"||n==="pointerover",ne=n==="mouseout"||n==="pointerout",Z&&o!==Pc&&(ve=o.relatedTarget||o.fromElement)&&(Gr(ve)||ve[qr]))break e;if((ne||Z)&&(Z=ae.window===ae?ae:(Z=ae.ownerDocument)?Z.defaultView||Z.parentWindow:window,ne?(ve=o.relatedTarget||o.toElement,ne=X,ve=ve?Gr(ve):null,ve!==null&&(gt=c(ve),Ae=ve.tag,ve!==gt||Ae!==5&&Ae!==27&&Ae!==6)&&(ve=null)):(ne=null,ve=X),ne!==ve)){if(Ae=$c,oe="onMouseLeave",F="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=ws,oe="onPointerLeave",F="onPointerEnter",U="pointer"),gt=ne==null?Z:Fn(ne),Y=ve==null?Z:Fn(ve),Z=new Ae(oe,U+"leave",ne,o,ae),Z.target=gt,Z.relatedTarget=Y,oe=null,Gr(ae)===X&&(Ae=new Ae(F,U+"enter",ve,o,ae),Ae.target=Y,Ae.relatedTarget=gt,oe=Ae),gt=oe,ne&&ve)t:{for(Ae=p2,F=ne,U=ve,Y=0,oe=F;oe;oe=Ae(oe))Y++;oe=0;for(var Ne=U;Ne;Ne=Ae(Ne))oe++;for(;0<Y-oe;)F=Ae(F),Y--;for(;0<oe-Y;)U=Ae(U),oe--;for(;Y--;){if(F===U||U!==null&&F===U.alternate){Ae=F;break t}F=Ae(F),U=Ae(U)}Ae=null}else Ae=null;ne!==null&&t_(ue,Z,ne,Ae,!1),ve!==null&&gt!==null&&t_(ue,gt,ve,Ae,!0)}}e:{if(Z=X?Fn(X):window,ne=Z.nodeName&&Z.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Z.type==="file")var Ze=xx;else if(px(Z))if(bx)Ze=AA;else{Ze=NA;var we=TA}else ne=Z.nodeName,!ne||ne.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&Uo(X.elementType)&&(Ze=xx):Ze=SA;if(Ze&&(Ze=Ze(n,X))){yx(ue,Ze,o,ae);break e}we&&we(n,Z,X),n==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&kc(Z,"number",Z.value)}switch(we=X?Fn(X):window,n){case"focusin":(px(we)||we.contentEditable==="true")&&(Ko=we,Km=X,Hc=null);break;case"focusout":Hc=Km=Ko=null;break;case"mousedown":Qm=!0;break;case"contextmenu":case"mouseup":case"dragend":Qm=!1,Ax(ue,o,ae);break;case"selectionchange":if(jA)break;case"keydown":case"keyup":Ax(ue,o,ae)}var Oe;if(nt)e:{switch(n){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Go?Va(n,o)&&(He="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(He="onCompositionStart");He&&(ns&&o.locale!=="ko"&&(Go||He!=="onCompositionStart"?He==="onCompositionEnd"&&Go&&(Oe=Lc()):(Wr=ae,Oc="value"in Wr?Wr.value:Wr.textContent,Go=!0)),we=Jh(X,He),0<we.length&&(He=new ts(He,n,null,o,ae),ue.push({event:He,listeners:we}),Oe?He.data=Oe:(Oe=Ho(o),Oe!==null&&(He.data=Oe)))),(Oe=lr?vA(n,o):_A(n,o))&&(He=Jh(X,"onBeforeInput"),0<He.length&&(we=new ts("onBeforeInput","beforeinput",null,o,ae),ue.push({event:we,listeners:He}),we.data=Oe)),h2(ue,n,X,o,ae)}Zv(ue,i)})}function pu(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Jh(n,i){for(var o=i+"Capture",u=[];n!==null;){var m=n,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Sr(n,o),m!=null&&u.unshift(pu(n,m,p)),m=Sr(n,i),m!=null&&u.push(pu(n,m,p))),n.tag===3)return u;n=n.return}return[]}function p2(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function t_(n,i,o,u,m){for(var p=i._reactName,_=[];o!==null&&o!==u;){var N=o,P=N.alternate,X=N.stateNode;if(N=N.tag,P!==null&&P===u)break;N!==5&&N!==26&&N!==27||X===null||(P=X,m?(X=Sr(o,p),X!=null&&_.unshift(pu(o,X,P))):m||(X=Sr(o,p),X!=null&&_.push(pu(o,X,P)))),o=o.return}_.length!==0&&n.push({event:i,listeners:_})}var y2=/\r\n?/g,x2=/\u0000|\uFFFD/g;function n_(n){return(typeof n=="string"?n:""+n).replace(y2,`
`).replace(x2,"")}function r_(n,i){return i=n_(i),n_(n)===i}function mt(n,i,o,u,m,p){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||In(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&In(n,""+u);break;case"className":qn(n,"class",u);break;case"tabIndex":qn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(n,o,u);break;case"style":Vc(n,u,p);break;case"data":if(i!=="object"){qn(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=$o(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&mt(n,i,"name",m.name,m,null),mt(n,i,"formEncType",m.formEncType,m,null),mt(n,i,"formMethod",m.formMethod,m,null),mt(n,i,"formTarget",m.formTarget,m,null)):(mt(n,i,"encType",m.encType,m,null),mt(n,i,"method",m.method,m,null),mt(n,i,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=$o(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Nr);break;case"onScroll":u!=null&&Be("scroll",n);break;case"onScrollEnd":u!=null&&Be("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=$o(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Be("beforetoggle",n),Be("toggle",n),Oo(n,"popover",u);break;case"xlinkActuate":Gt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Gt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Gt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Gt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Gt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Gt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Oo(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Jd.get(o)||o,Oo(n,o,u))}}function b0(n,i,o,u,m,p){switch(o){case"style":Vc(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof u=="string"?In(n,u):(typeof u=="number"||typeof u=="bigint")&&In(n,""+u);break;case"onScroll":u!=null&&Be("scroll",n);break;case"onScrollEnd":u!=null&&Be("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ic.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),p=n[rn]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(i,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,u,m);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Oo(n,o,u)}}}function yn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",n),Be("load",n);var u=!1,m=!1,p;for(p in o)if(o.hasOwnProperty(p)){var _=o[p];if(_!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:mt(n,i,p,_,o,null)}}m&&mt(n,i,"srcSet",o.srcSet,o,null),u&&mt(n,i,"src",o.src,o,null);return;case"input":Be("invalid",n);var N=p=_=m=null,P=null,X=null;for(u in o)if(o.hasOwnProperty(u)){var ae=o[u];if(ae!=null)switch(u){case"name":m=ae;break;case"type":_=ae;break;case"checked":P=ae;break;case"defaultChecked":X=ae;break;case"value":p=ae;break;case"defaultValue":N=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,i));break;default:mt(n,i,u,ae,o,null)}}Kd(n,p,N,P,X,_,m,!1);return;case"select":Be("invalid",n),u=_=p=null;for(m in o)if(o.hasOwnProperty(m)&&(N=o[m],N!=null))switch(m){case"value":p=N;break;case"defaultValue":_=N;break;case"multiple":u=N;default:mt(n,i,m,N,o,null)}i=p,o=_,n.multiple=!!u,i!=null?li(n,!!u,i,!1):o!=null&&li(n,!!u,o,!0);return;case"textarea":Be("invalid",n),p=m=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(N=o[_],N!=null))switch(_){case"value":u=N;break;case"defaultValue":m=N;break;case"children":p=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:mt(n,i,_,N,o,null)}ci(n,u,m,p);return;case"option":for(P in o)o.hasOwnProperty(P)&&(u=o[P],u!=null)&&(P==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":mt(n,i,P,u,o,null));return;case"dialog":Be("beforetoggle",n),Be("toggle",n),Be("cancel",n),Be("close",n);break;case"iframe":case"object":Be("load",n);break;case"video":case"audio":for(u=0;u<gu.length;u++)Be(gu[u],n);break;case"image":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"embed":case"source":case"link":Be("error",n),Be("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(u=o[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:mt(n,i,X,u,o,null)}return;default:if(Uo(i)){for(ae in o)o.hasOwnProperty(ae)&&(u=o[ae],u!==void 0&&b0(n,i,ae,u,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(u=o[N],u!=null&&mt(n,i,N,u,o,null))}function b2(n,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,_=null,N=null,P=null,X=null,ae=null;for(ne in o){var ue=o[ne];if(o.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":P=ue;default:u.hasOwnProperty(ne)||mt(n,i,ne,null,u,ue)}}for(var Z in u){var ne=u[Z];if(ue=o[Z],u.hasOwnProperty(Z)&&(ne!=null||ue!=null))switch(Z){case"type":p=ne;break;case"name":m=ne;break;case"checked":X=ne;break;case"defaultChecked":ae=ne;break;case"value":_=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,i));break;default:ne!==ue&&mt(n,i,Z,ne,u,ue)}}Lo(n,_,N,P,X,ae,p,m);return;case"select":ne=_=N=Z=null;for(p in o)if(P=o[p],o.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":ne=P;default:u.hasOwnProperty(p)||mt(n,i,p,null,u,P)}for(m in u)if(p=u[m],P=o[m],u.hasOwnProperty(m)&&(p!=null||P!=null))switch(m){case"value":Z=p;break;case"defaultValue":N=p;break;case"multiple":_=p;default:p!==P&&mt(n,i,m,p,u,P)}i=N,o=_,u=ne,Z!=null?li(n,!!o,Z,!1):!!u!=!!o&&(i!=null?li(n,!!o,i,!0):li(n,!!o,o?[]:"",!1));return;case"textarea":ne=Z=null;for(N in o)if(m=o[N],o.hasOwnProperty(N)&&m!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:mt(n,i,N,null,u,m)}for(_ in u)if(m=u[_],p=o[_],u.hasOwnProperty(_)&&(m!=null||p!=null))switch(_){case"value":Z=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==p&&mt(n,i,_,m,u,p)}Qd(n,Z,ne);return;case"option":for(var ve in o)Z=o[ve],o.hasOwnProperty(ve)&&Z!=null&&!u.hasOwnProperty(ve)&&(ve==="selected"?n.selected=!1:mt(n,i,ve,null,u,Z));for(P in u)Z=u[P],ne=o[P],u.hasOwnProperty(P)&&Z!==ne&&(Z!=null||ne!=null)&&(P==="selected"?n.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":mt(n,i,P,Z,u,ne));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)Z=o[Ae],o.hasOwnProperty(Ae)&&Z!=null&&!u.hasOwnProperty(Ae)&&mt(n,i,Ae,null,u,Z);for(X in u)if(Z=u[X],ne=o[X],u.hasOwnProperty(X)&&Z!==ne&&(Z!=null||ne!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,i));break;default:mt(n,i,X,Z,u,ne)}return;default:if(Uo(i)){for(var gt in o)Z=o[gt],o.hasOwnProperty(gt)&&Z!==void 0&&!u.hasOwnProperty(gt)&&b0(n,i,gt,void 0,u,Z);for(ae in u)Z=u[ae],ne=o[ae],!u.hasOwnProperty(ae)||Z===ne||Z===void 0&&ne===void 0||b0(n,i,ae,Z,u,ne);return}}for(var F in o)Z=o[F],o.hasOwnProperty(F)&&Z!=null&&!u.hasOwnProperty(F)&&mt(n,i,F,null,u,Z);for(ue in u)Z=u[ue],ne=o[ue],!u.hasOwnProperty(ue)||Z===ne||Z==null&&ne==null||mt(n,i,ue,Z,u,ne)}function s_(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v2(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],p=m.transferSize,_=m.initiatorType,N=m.duration;if(p&&N&&s_(_)){for(_=0,N=m.responseEnd,u+=1;u<o.length;u++){var P=o[u],X=P.startTime;if(X>N)break;var ae=P.transferSize,ue=P.initiatorType;ae&&s_(ue)&&(P=P.responseEnd,_+=ae*(P<N?1:(N-X)/(P-X)))}if(--u,i+=8*(p+_)/(m.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var v0=null,_0=null;function Xh(n){return n.nodeType===9?n:n.ownerDocument}function i_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function w0(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var E0=null;function _2(){var n=window.event;return n&&n.type==="popstate"?n===E0?!1:(E0=n,!0):(E0=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,w2=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,E2=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(n){return l_.resolve(null).then(n).catch(T2)}:o_;function T2(n){setTimeout(function(){throw n})}function Di(n){return n==="head"}function c_(n,i){var o=i,u=0;do{var m=o.nextSibling;if(n.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(m),vl(i);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")yu(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,yu(o);for(var p=o.firstChild;p;){var _=p.nextSibling,N=p.nodeName;p[Hr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=_}}else o==="body"&&yu(n.ownerDocument.body);o=m}while(o);vl(i)}function u_(n,i){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function T0(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":T0(o),Po(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function N2(n,i,o,u){for(;n.nodeType===1;){var m=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Hr])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=gr(n.nextSibling),n===null)break}return null}function S2(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=gr(n.nextSibling),n===null))return null;return n}function d_(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=gr(n.nextSibling),n===null))return null;return n}function N0(n){return n.data==="$?"||n.data==="$~"}function S0(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function A2(n,i){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||o.readyState!=="loading")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function gr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var A0=null;function h_(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(i===0)return gr(n.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}n=n.nextSibling}return null}function f_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return n;i--}else o!=="/$"&&o!=="/&"||i++}n=n.previousSibling}return null}function m_(n,i,o){switch(i=Xh(o),n){case"html":if(n=i.documentElement,!n)throw Error(r(452));return n;case"head":if(n=i.head,!n)throw Error(r(453));return n;case"body":if(n=i.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function yu(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Po(n)}var pr=new Map,g_=new Set;function Wh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Os=pe.d;pe.d={f:I2,r:j2,D:C2,C:R2,L:D2,m:k2,X:V2,S:M2,M:P2};function I2(){var n=Os.f(),i=Fh();return n||i}function j2(n){var i=ir(n);i!==null&&i.tag===5&&i.type==="form"?Db(i):Os.r(n)}var yl=typeof document>"u"?null:document;function p_(n,i,o){var u=yl;if(u&&typeof i=="string"&&i){var m=An(i);m='link[rel="'+n+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),g_.has(m)||(g_.add(m),n={rel:n,crossOrigin:o,href:i},u.querySelector(m)===null&&(i=u.createElement("link"),yn(i,"link",n),Ht(i),u.head.appendChild(i)))}}function C2(n){Os.D(n),p_("dns-prefetch",n,null)}function R2(n,i){Os.C(n,i),p_("preconnect",n,i)}function D2(n,i,o){Os.L(n,i,o);var u=yl;if(u&&n&&i){var m='link[rel="preload"][as="'+An(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+An(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+An(o.imageSizes)+'"]')):m+='[href="'+An(n)+'"]';var p=m;switch(i){case"style":p=xl(n);break;case"script":p=bl(n)}pr.has(p)||(n=b({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),pr.set(p,n),u.querySelector(m)!==null||i==="style"&&u.querySelector(xu(p))||i==="script"&&u.querySelector(bu(p))||(i=u.createElement("link"),yn(i,"link",n),Ht(i),u.head.appendChild(i)))}}function k2(n,i){Os.m(n,i);var o=yl;if(o&&n){var u=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+An(u)+'"][href="'+An(n)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=bl(n)}if(!pr.has(p)&&(n=b({rel:"modulepreload",href:n},i),pr.set(p,n),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(bu(p)))return}u=o.createElement("link"),yn(u,"link",n),Ht(u),o.head.appendChild(u)}}}function M2(n,i,o){Os.S(n,i,o);var u=yl;if(u&&n){var m=Kr(u).hoistableStyles,p=xl(n);i=i||"default";var _=m.get(p);if(!_){var N={loading:0,preload:null};if(_=u.querySelector(xu(p)))N.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":i},o),(o=pr.get(p))&&I0(n,o);var P=_=u.createElement("link");Ht(P),yn(P,"link",n),P._p=new Promise(function(X,ae){P.onload=X,P.onerror=ae}),P.addEventListener("load",function(){N.loading|=1}),P.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Zh(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:N},m.set(p,_)}}}function V2(n,i){Os.X(n,i);var o=yl;if(o&&n){var u=Kr(o).hoistableScripts,m=bl(n),p=u.get(m);p||(p=o.querySelector(bu(m)),p||(n=b({src:n,async:!0},i),(i=pr.get(m))&&j0(n,i),p=o.createElement("script"),Ht(p),yn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function P2(n,i){Os.M(n,i);var o=yl;if(o&&n){var u=Kr(o).hoistableScripts,m=bl(n),p=u.get(m);p||(p=o.querySelector(bu(m)),p||(n=b({src:n,async:!0,type:"module"},i),(i=pr.get(m))&&j0(n,i),p=o.createElement("script"),Ht(p),yn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function y_(n,i,o,u){var m=(m=ke.current)?Wh(m):null;if(!m)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=xl(o.href),o=Kr(m).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=xl(o.href);var p=Kr(m).hoistableStyles,_=p.get(n);if(_||(m=m.ownerDocument||m,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,_),(p=m.querySelector(xu(n)))&&!p._p&&(_.instance=p,_.state.loading=5),pr.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},pr.set(n,o),p||O2(m,n,o,_.state))),i&&u===null)throw Error(r(528,""));return _}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=bl(o),o=Kr(m).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function xl(n){return'href="'+An(n)+'"'}function xu(n){return'link[rel="stylesheet"]['+n+"]"}function x_(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function O2(n,i,o,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),yn(i,"link",o),Ht(i),n.head.appendChild(i))}function bl(n){return'[src="'+An(n)+'"]'}function bu(n){return"script[async]"+n}function b_(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+An(o.href)+'"]');if(u)return i.instance=u,Ht(u),u;var m=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ht(u),yn(u,"style",m),Zh(u,o.precedence,n),i.instance=u;case"stylesheet":m=xl(o.href);var p=n.querySelector(xu(m));if(p)return i.state.loading|=4,i.instance=p,Ht(p),p;u=x_(o),(m=pr.get(m))&&I0(u,m),p=(n.ownerDocument||n).createElement("link"),Ht(p);var _=p;return _._p=new Promise(function(N,P){_.onload=N,_.onerror=P}),yn(p,"link",u),i.state.loading|=4,Zh(p,o.precedence,n),i.instance=p;case"script":return p=bl(o.src),(m=n.querySelector(bu(p)))?(i.instance=m,Ht(m),m):(u=o,(m=pr.get(p))&&(u=b({},o),j0(u,m)),n=n.ownerDocument||n,m=n.createElement("script"),Ht(m),yn(m,"link",u),n.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Zh(u,o.precedence,n));return i.instance}function Zh(n,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,_=0;_<u.length;_++){var N=u[_];if(N.dataset.precedence===i)p=N;else if(p!==m)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function I0(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function j0(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var ef=null;function v_(n,i,o){if(ef===null){var u=new Map,m=ef=new Map;m.set(o,u)}else m=ef,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),m=0;m<o.length;m++){var p=o[m];if(!(p[Hr]||p[qt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(i)||"";_=n+_;var N=u.get(_);N?N.push(p):u.set(_,[p])}}return u}function __(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function L2(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(n=i.disabled,typeof i.precedence=="string"&&n==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function w_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function U2(n,i,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=xl(u.href),p=i.querySelector(xu(m));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=tf.bind(n),i.then(n,n)),o.state.loading|=4,o.instance=p,Ht(p);return}p=i.ownerDocument||i,u=x_(u),(m=pr.get(m))&&I0(u,m),p=p.createElement("link"),Ht(p);var _=p;_._p=new Promise(function(N,P){_.onload=N,_.onerror=P}),yn(p,"link",u),o.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=tf.bind(n),i.addEventListener("load",o),i.addEventListener("error",o))}}var C0=0;function $2(n,i){return n.stylesheets&&n.count===0&&rf(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&rf(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+i);0<n.imgBytes&&C0===0&&(C0=62500*v2());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&rf(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>C0?50:800)+i);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function tf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var nf=null;function rf(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,nf=new Map,i.forEach(z2,n),nf=null,tf.call(n))}function z2(n,i){if(!(i.state.loading&4)){var o=nf.get(n);if(o)var u=o.get(null);else{o=new Map,nf.set(n,o);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var _=m[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}m=i.instance,_=m.getAttribute("data-precedence"),p=o.get(_)||u,p===u&&o.set(null,m),o.set(_,m),this.count++,u=tf.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),i.state.loading|=4}}var vu={$$typeof:q,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function B2(n,i,o,u,m,p,_,N,P){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fr(0),this.hiddenUpdates=Fr(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function E_(n,i,o,u,m,p,_,N,P,X,ae,ue){return n=new B2(n,i,o,_,P,X,ae,ue,N),i=1,p===!0&&(i|=24),p=Gn(3,null,null,i),n.current=p,p.stateNode=n,i=cg(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:i},fg(p),n}function T_(n){return n?(n=Jo,n):Jo}function N_(n,i,o,u,m,p){m=T_(m),u.context===null?u.context=m:u.pendingContext=m,u=_i(i),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=wi(n,u,i),o!==null&&(kn(o,n,i),Wc(o,n,i))}function S_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function R0(n,i){S_(n,i),(n=n.alternate)&&S_(n,i)}function A_(n){if(n.tag===13||n.tag===31){var i=La(n,67108864);i!==null&&kn(i,n,67108864),R0(n,67108864)}}function I_(n){if(n.tag===13||n.tag===31){var i=Xn();i=Sa(i);var o=La(n,i);o!==null&&kn(o,n,i),R0(n,i)}}var sf=!0;function F2(n,i,o,u){var m=ie.T;ie.T=null;var p=pe.p;try{pe.p=2,D0(n,i,o,u)}finally{pe.p=p,ie.T=m}}function q2(n,i,o,u){var m=ie.T;ie.T=null;var p=pe.p;try{pe.p=8,D0(n,i,o,u)}finally{pe.p=p,ie.T=m}}function D0(n,i,o,u){if(sf){var m=k0(u);if(m===null)x0(n,i,u,af,o),C_(n,u);else if(G2(m,n,i,o,u))u.stopPropagation();else if(C_(n,u),i&4&&-1<H2.indexOf(n)){for(;m!==null;){var p=ir(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=zr(p.pendingLanes);if(_!==0){var N=p;for(N.pendingLanes|=2,N.entangledLanes|=2;_;){var P=1<<31-Ot(_);N.entanglements[1]|=P,_&=~P}as(p),(rt&6)===0&&(zh=Je()+500,mu(0))}}break;case 31:case 13:N=La(p,2),N!==null&&kn(N,p,2),Fh(),R0(p,2)}if(p=k0(u),p===null&&x0(n,i,u,af,o),p===m)break;m=p}m!==null&&u.stopPropagation()}else x0(n,i,u,null,o)}}function k0(n){return n=ar(n),M0(n)}var af=null;function M0(n){if(af=null,n=Gr(n),n!==null){var i=c(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=d(i),n!==null)return n;n=null}else if(o===31){if(n=h(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return af=n,null}function j_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bn()){case Ec:return 2;case Tc:return 8;case ai:case $m:return 32;case Od:return 268435456;default:return 32}default:return 32}}var V0=!1,ki=null,Mi=null,Vi=null,_u=new Map,wu=new Map,Pi=[],H2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(n,i){switch(n){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":_u.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(i.pointerId)}}function Eu(n,i,o,u,m,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},i!==null&&(i=ir(i),i!==null&&A_(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function G2(n,i,o,u,m){switch(i){case"focusin":return ki=Eu(ki,n,i,o,u,m),!0;case"dragenter":return Mi=Eu(Mi,n,i,o,u,m),!0;case"mouseover":return Vi=Eu(Vi,n,i,o,u,m),!0;case"pointerover":var p=m.pointerId;return _u.set(p,Eu(_u.get(p)||null,n,i,o,u,m)),!0;case"gotpointercapture":return p=m.pointerId,wu.set(p,Eu(wu.get(p)||null,n,i,o,u,m)),!0}return!1}function R_(n){var i=Gr(n.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){n.blockedOn=i,Er(n.priority,function(){I_(o)});return}}else if(i===31){if(i=h(o),i!==null){n.blockedOn=i,Er(n.priority,function(){I_(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function of(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=k0(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Pc=u,o.target.dispatchEvent(u),Pc=null}else return i=ir(o),i!==null&&A_(i),n.blockedOn=o,!1;i.shift()}return!0}function D_(n,i,o){of(n)&&o.delete(i)}function K2(){V0=!1,ki!==null&&of(ki)&&(ki=null),Mi!==null&&of(Mi)&&(Mi=null),Vi!==null&&of(Vi)&&(Vi=null),_u.forEach(D_),wu.forEach(D_)}function lf(n,i){n.blockedOn===i&&(n.blockedOn=null,V0||(V0=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,K2)))}var cf=null;function k_(n){cf!==n&&(cf=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){cf===n&&(cf=null);for(var i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],m=n[i+2];if(typeof u!="function"){if(M0(u||o)===null)continue;break}var p=ir(o);p!==null&&(n.splice(i,3),i-=3,kg(p,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function vl(n){function i(P){return lf(P,n)}ki!==null&&lf(ki,n),Mi!==null&&lf(Mi,n),Vi!==null&&lf(Vi,n),_u.forEach(i),wu.forEach(i);for(var o=0;o<Pi.length;o++){var u=Pi[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Pi.length&&(o=Pi[0],o.blockedOn===null);)R_(o),o.blockedOn===null&&Pi.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],p=o[u+1],_=m[rn]||null;if(typeof p=="function")_||k_(o);else if(_){var N=null;if(p&&p.hasAttribute("formAction")){if(m=p,_=p[rn]||null)N=_.formAction;else if(M0(m)!==null)continue}else N=_.action;typeof N=="function"?o[u+1]=N:(o.splice(u,3),u-=3),k_(o)}}}function M_(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return m=_})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function P0(n){this._internalRoot=n}uf.prototype.render=P0.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,u=Xn();N_(o,u,n,i,null,null)},uf.prototype.unmount=P0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;N_(n.current,2,null,n,null,null),Fh(),i[qr]=null}};function uf(n){this._internalRoot=n}uf.prototype.unstable_scheduleHydration=function(n){if(n){var i=Fd();n={blockedOn:null,target:n,priority:i};for(var o=0;o<Pi.length&&i!==0&&i<Pi[o].priority;o++);Pi.splice(o,0,n),o===0&&R_(n)}};var V_=e.version;if(V_!=="19.2.4")throw Error(r(527,V_,"19.2.4"));pe.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=y(i),n=n!==null?x(n):null,n=n===null?null:n.stateNode,n};var Q2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{_r=df.inject(Q2),hn=df}catch{}}return Nu.createRoot=function(n,i){if(!a(n))throw Error(r(299));var o=!1,u="",m=Bb,p=Fb,_=qb;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=E_(n,1,!1,null,null,o,u,null,m,p,_,M_),n[qr]=i.current,y0(n),new P0(i)},Nu.hydrateRoot=function(n,i,o){if(!a(n))throw Error(r(299));var u=!1,m="",p=Bb,_=Fb,N=qb,P=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.formState!==void 0&&(P=o.formState)),i=E_(n,1,!0,i,o??null,u,m,P,p,_,N,M_),i.context=T_(null),o=i.current,u=Xn(),u=Sa(u),m=_i(u),m.callback=null,wi(o,m,u),o=u,i.current.lanes=o,Ta(i,o),as(i),n[qr]=i.current,y0(n),new uf(i)},Nu.version="19.2.4",Nu}var H_;function sI(){if(H_)return U0.exports;H_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),U0.exports=rI(),U0.exports}var iI=sI();const aI="modulepreload",oI=function(s,e){return new URL(s,e).href},G_={},lI=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let y=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};const d=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),g=h?.nonce||h?.getAttribute("nonce");a=y(t.map(x=>{if(x=oI(x,r),x in G_)return;G_[x]=!0;const b=x.endsWith(".css"),E=b?'[rel="stylesheet"]':"";if(r)for(let I=d.length-1;I>=0;I--){const R=d[I];if(R.href===x&&(!b||R.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${x}"]${E}`))return;const j=document.createElement("link");if(j.rel=b?"stylesheet":aI,b||(j.as="script"),j.crossOrigin="",j.href=x,g&&j.setAttribute("nonce",g),document.head.appendChild(j),b)return new Promise((I,R)=>{j.addEventListener("load",I),j.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${x}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return a.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return e().catch(c)})},cI=()=>{};var K_={};const sE=function(s){const e=[];let t=0;for(let r=0;r<s.length;r++){let a=s.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},uI=function(s){const e=[];let t=0,r=0;for(;t<s.length;){const a=s[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const c=s[t++];e[r++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=s[t++],d=s[t++],h=s[t++],g=((a&7)<<18|(c&63)<<12|(d&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[t++],d=s[t++];e[r++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return e.join("")},iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<s.length;a+=3){const c=s[a],d=a+1<s.length,h=d?s[a+1]:0,g=a+2<s.length,y=g?s[a+2]:0,x=c>>2,b=(c&3)<<4|h>>4;let E=(h&15)<<2|y>>6,j=y&63;g||(j=64,d||(E=64)),r.push(t[x],t[b],t[E],t[j])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(sE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):uI(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<s.length;){const c=t[s.charAt(a++)],h=a<s.length?t[s.charAt(a)]:0;++a;const y=a<s.length?t[s.charAt(a)]:64;++a;const b=a<s.length?t[s.charAt(a)]:64;if(++a,c==null||h==null||y==null||b==null)throw new dI;const E=c<<2|h>>4;if(r.push(E),y!==64){const j=h<<4&240|y>>2;if(r.push(j),b!==64){const I=y<<6&192|b;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class dI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hI=function(s){const e=sE(s);return iE.encodeByteArray(e,!0)},Pf=function(s){return hI(s).replace(/\./g,"")},aE=function(s){try{return iE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fI=()=>oE().__FIREBASE_DEFAULTS__,mI=()=>{if(typeof process>"u"||typeof K_>"u")return;const s=K_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},gI=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&aE(s[1]);return e&&JSON.parse(e)},lm=()=>{try{return cI()||fI()||mI()||gI()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},lE=s=>lm()?.emulatorHosts?.[s],pI=s=>{const e=lE(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},cE=()=>lm()?.config,uE=s=>lm()?.[`_${s}`];class yI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Ao(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qp(s){return(await fetch(s,{credentials:"include"})).ok}function xI(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Pf(JSON.stringify(t)),Pf(JSON.stringify(d)),""].join(".")}const Uu={};function bI(){const s={prod:[],emulator:[]};for(const e of Object.keys(Uu))Uu[e]?s.emulator.push(e):s.prod.push(e);return s}function vI(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let Q_=!1;function dE(s,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||Uu[s]===e||Uu[s]||Q_)return;Uu[s]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",c=bI().prod.length>0;function d(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function g(E,j){E.setAttribute("width","24"),E.setAttribute("id",j),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function y(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Q_=!0,d()},E}function x(E,j){E.setAttribute("id",j),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=vI(r),j=t("text"),I=document.getElementById(j)||document.createElement("span"),R=t("learnmore"),V=document.getElementById(R)||document.createElement("a"),O=t("preprendIcon"),Q=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;h(q),x(V,R);const J=y();g(Q,O),q.append(Q,I,V,J),document.body.appendChild(q)}c?(I.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _I(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function hE(){const s=lm()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EI(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function TI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NI(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function fE(){return!hE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mE(){return!hE()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function gE(){try{return typeof indexedDB=="object"}catch{return!1}}function SI(){return new Promise((s,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),s(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const AI="FirebaseError";class Ws extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=AI,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,md.prototype.create)}}class md{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,c=this.errors[e],d=c?II(c,r):"Error",h=`${this.serviceName}: ${d} (${a}).`;return new Ws(a,h,r)}}function II(s,e){return s.replace(jI,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const jI=/\{\$([^}]+)}/g;function CI(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ur(s,e){if(s===e)return!0;const t=Object.keys(s),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const c=s[a],d=e[a];if(Y_(c)&&Y_(d)){if(!Ur(c,d))return!1}else if(c!==d)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Y_(s){return s!==null&&typeof s=="object"}function gd(s){const e=[];for(const[t,r]of Object.entries(s))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ku(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,c]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(c)}}),e}function Mu(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function RI(s,e){const t=new DI(s,e);return t.subscribe.bind(t)}class DI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");kI(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=F0),a.error===void 0&&(a.error=F0),a.complete===void 0&&(a.complete=F0);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kI(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function F0(){}function bt(s){return s&&s._delegate?s._delegate:s}class ho{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wa="[DEFAULT]";class MI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new yI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PI(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:a});r.resolve(c)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[c,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);r===h&&d.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const c=this.instances.get(r);return c&&e(c,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VI(s){return s===Wa?void 0:s}function PI(s){return s.instantiationMode==="EAGER"}class OI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new MI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ge||(Ge={}));const LI={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},UI=Ge.INFO,$I={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},zI=(s,e,...t)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),a=$I[e];if(a)console[a](`[${r}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=UI,this._logHandler=zI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const BI=(s,e)=>e.some(t=>s instanceof t);let J_,X_;function FI(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qI(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pE=new WeakMap,ap=new WeakMap,yE=new WeakMap,q0=new WeakMap,Gp=new WeakMap;function HI(s){const e=new Promise((t,r)=>{const a=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{t(Yi(s.result)),a()},d=()=>{r(s.error),a()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&pE.set(t,s)}).catch(()=>{}),Gp.set(e,s),e}function GI(s){if(ap.has(s))return;const e=new Promise((t,r)=>{const a=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{t(),a()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});ap.set(s,e)}let op={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return ap.get(s);if(e==="objectStoreNames")return s.objectStoreNames||yE.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yi(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function KI(s){op=s(op)}function QI(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=s.call(H0(this),e,...t);return yE.set(r,e.sort?e.sort():[e]),Yi(r)}:qI().includes(s)?function(...e){return s.apply(H0(this),e),Yi(pE.get(this))}:function(...e){return Yi(s.apply(H0(this),e))}}function YI(s){return typeof s=="function"?QI(s):(s instanceof IDBTransaction&&GI(s),BI(s,FI())?new Proxy(s,op):s)}function Yi(s){if(s instanceof IDBRequest)return HI(s);if(q0.has(s))return q0.get(s);const e=YI(s);return e!==s&&(q0.set(s,e),Gp.set(e,s)),e}const H0=s=>Gp.get(s);function JI(s,e,{blocked:t,upgrade:r,blocking:a,terminated:c}={}){const d=indexedDB.open(s,e),h=Yi(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Yi(d.result),g.oldVersion,g.newVersion,Yi(d.transaction),g)}),t&&d.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),h.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const XI=["get","getKey","getAll","getAllKeys","count"],WI=["put","add","delete","clear"],G0=new Map;function W_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(G0.get(e))return G0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=WI.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||XI.includes(t)))return;const c=async function(d,...h){const g=this.transaction(d,a?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(h.shift())),(await Promise.all([y[t](...h),a&&g.done]))[0]};return G0.set(e,c),c}KI(s=>({...s,get:(e,t,r)=>W_(e,t)||s.get(e,t,r),has:(e,t)=>!!W_(e,t)||s.has(e,t)}));class ZI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ej(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ej(s){return s.getComponent()?.type==="VERSION"}const lp="@firebase/app",Z_="0.14.8";const Ks=new Hp("@firebase/app"),tj="@firebase/app-compat",nj="@firebase/analytics-compat",rj="@firebase/analytics",sj="@firebase/app-check-compat",ij="@firebase/app-check",aj="@firebase/auth",oj="@firebase/auth-compat",lj="@firebase/database",cj="@firebase/data-connect",uj="@firebase/database-compat",dj="@firebase/functions",hj="@firebase/functions-compat",fj="@firebase/installations",mj="@firebase/installations-compat",gj="@firebase/messaging",pj="@firebase/messaging-compat",yj="@firebase/performance",xj="@firebase/performance-compat",bj="@firebase/remote-config",vj="@firebase/remote-config-compat",_j="@firebase/storage",wj="@firebase/storage-compat",Ej="@firebase/firestore",Tj="@firebase/ai",Nj="@firebase/firestore-compat",Sj="firebase",Aj="12.9.0";const Of="[DEFAULT]",Ij={[lp]:"fire-core",[tj]:"fire-core-compat",[rj]:"fire-analytics",[nj]:"fire-analytics-compat",[ij]:"fire-app-check",[sj]:"fire-app-check-compat",[aj]:"fire-auth",[oj]:"fire-auth-compat",[lj]:"fire-rtdb",[cj]:"fire-data-connect",[uj]:"fire-rtdb-compat",[dj]:"fire-fn",[hj]:"fire-fn-compat",[fj]:"fire-iid",[mj]:"fire-iid-compat",[gj]:"fire-fcm",[pj]:"fire-fcm-compat",[yj]:"fire-perf",[xj]:"fire-perf-compat",[bj]:"fire-rc",[vj]:"fire-rc-compat",[_j]:"fire-gcs",[wj]:"fire-gcs-compat",[Ej]:"fire-fst",[Nj]:"fire-fst-compat",[Tj]:"fire-vertex","fire-js":"fire-js",[Sj]:"fire-js-all"};const Lf=new Map,jj=new Map,cp=new Map;function ew(s,e){try{s.container.addComponent(e)}catch(t){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function Ll(s){const e=s.name;if(cp.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;cp.set(e,s);for(const t of Lf.values())ew(t,s);for(const t of jj.values())ew(t,s);return!0}function pd(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function Cj(s,e,t=Of){pd(s,e).clearInstance(t)}function Zn(s){return s==null?!1:s.settings!==void 0}const Rj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new md("app","Firebase",Rj);class Dj{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}const cc=Aj;function xE(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const r={name:Of,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Ji.create("bad-app-name",{appName:String(a)});if(t||(t=cE()),!t)throw Ji.create("no-options");const c=Lf.get(a);if(c){if(Ur(t,c.options)&&Ur(r,c.config))return c;throw Ji.create("duplicate-app",{appName:a})}const d=new OI(a);for(const g of cp.values())d.addComponent(g);const h=new Dj(t,r,d);return Lf.set(a,h),h}function bE(s=Of){const e=Lf.get(s);if(!e&&s===Of&&cE())return xE();if(!e)throw Ji.create("no-app",{appName:s});return e}function Xi(s,e,t){let r=Ij[s]??s;t&&(r+=`-${t}`);const a=r.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${r}" with version "${e}":`];a&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(d.join(" "));return}Ll(new ho(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const kj="firebase-heartbeat-database",Mj=1,Xu="firebase-heartbeat-store";let K0=null;function vE(){return K0||(K0=JI(kj,Mj,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Xu)}catch(t){console.warn(t)}}}}).catch(s=>{throw Ji.create("idb-open",{originalErrorMessage:s.message})})),K0}async function Vj(s){try{const t=(await vE()).transaction(Xu),r=await t.objectStore(Xu).get(_E(s));return await t.done,r}catch(e){if(e instanceof Ws)Ks.warn(e.message);else{const t=Ji.create("idb-get",{originalErrorMessage:e?.message});Ks.warn(t.message)}}}async function tw(s,e){try{const r=(await vE()).transaction(Xu,"readwrite");await r.objectStore(Xu).put(e,_E(s)),await r.done}catch(t){if(t instanceof Ws)Ks.warn(t.message);else{const r=Ji.create("idb-set",{originalErrorMessage:t?.message});Ks.warn(r.message)}}}function _E(s){return`${s.name}!${s.options.appId}`}const Pj=1024,Oj=30;class Lj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $j(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>Oj){const a=zj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ks.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nw(),{heartbeatsToSend:t,unsentEntries:r}=Uj(this._heartbeatsCache.heartbeats),a=Pf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ks.warn(e),""}}}function nw(){return new Date().toISOString().substring(0,10)}function Uj(s,e=Pj){const t=[];let r=s.slice();for(const a of s){const c=t.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),rw(t)>e){c.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),rw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class $j{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gE()?SI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Vj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function rw(s){return Pf(JSON.stringify({version:2,heartbeats:s})).length}function zj(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let r=1;r<s.length;r++)s[r].date<t&&(t=s[r].date,e=r);return e}function Bj(s){Ll(new ho("platform-logger",e=>new ZI(e),"PRIVATE")),Ll(new ho("heartbeat",e=>new Lj(e),"PRIVATE")),Xi(lp,Z_,s),Xi(lp,Z_,"esm2020"),Xi("fire-js","")}Bj("");var Fj="firebase",qj="12.9.0";Xi(Fj,qj,"app");function wE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hj=wE,EE=new md("auth","Firebase",wE());const Uf=new Hp("@firebase/auth");function Gj(s,...e){Uf.logLevel<=Ge.WARN&&Uf.warn(`Auth (${cc}): ${s}`,...e)}function wf(s,...e){Uf.logLevel<=Ge.ERROR&&Uf.error(`Auth (${cc}): ${s}`,...e)}function vr(s,...e){throw Qp(s,...e)}function Vr(s,...e){return Qp(s,...e)}function Kp(s,e,t){const r={...Hj(),[e]:t};return new md("auth","Firebase",r).create(e,{appName:s.name})}function Gs(s){return Kp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kj(s,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&vr(s,"argument-error"),Kp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qp(s,...e){if(typeof s!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(t,...r)}return EE.create(s,...e)}function Ie(s,e,...t){if(!s)throw Qp(e,...t)}function zs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw wf(e),new Error(e)}function Qs(s,e){s||zs(e)}function up(){return typeof self<"u"&&self.location?.href||""}function Qj(){return sw()==="http:"||sw()==="https:"}function sw(){return typeof self<"u"&&self.location?.protocol||null}function Yj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qj()||EI()||"connection"in navigator)?navigator.onLine:!0}function Jj(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class yd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qs(t>e,"Short delay should be less than long delay!"),this.isMobile=_I()||TI()}get(){return Yj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yp(s,e){Qs(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class TE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Wj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Zj=new yd(3e4,6e4);function ca(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ua(s,e,t,r,a={}){return NE(s,a,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const h=gd({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return wI()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Ao(s.emulatorConfig.host)&&(y.credentials="include"),TE.fetch()(await SE(s,s.config.apiHost,t,h),y)})}async function NE(s,e,t){s._canInitEmulator=!1;const r={...Xj,...e};try{const a=new tC(s),c=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw hf(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const h=c.ok?d.errorMessage:d.error.message,[g,y]=h.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw hf(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw hf(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw hf(s,"user-disabled",d);const x=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Kp(s,x,y);vr(s,x)}}catch(a){if(a instanceof Ws)throw a;vr(s,"network-request-failed",{message:String(a)})}}async function xd(s,e,t,r,a={}){const c=await ua(s,e,t,r,a);return"mfaPendingCredential"in c&&vr(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function SE(s,e,t,r){const a=`${e}${t}?${r}`,c=s,d=c.config.emulator?Yp(s.config,a):`${s.config.apiScheme}://${a}`;return Wj.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function eC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Vr(this.auth,"network-request-failed")),Zj.get())})}}function hf(s,e,t){const r={appName:s.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Vr(s,e,r);return a.customData._tokenResponse=t,a}function iw(s){return s!==void 0&&s.enterprise!==void 0}class nC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return eC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rC(s,e){return ua(s,"GET","/v2/recaptchaConfig",ca(s,e))}async function sC(s,e){return ua(s,"POST","/v1/accounts:delete",e)}async function $f(s,e){return ua(s,"POST","/v1/accounts:lookup",e)}function $u(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iC(s,e=!1){const t=bt(s),r=await t.getIdToken(e),a=Jp(r);Ie(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,d=c?.sign_in_provider;return{claims:a,token:r,authTime:$u(Q0(a.auth_time)),issuedAtTime:$u(Q0(a.iat)),expirationTime:$u(Q0(a.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Q0(s){return Number(s)*1e3}function Jp(s){const[e,t,r]=s.split(".");if(e===void 0||t===void 0||r===void 0)return wf("JWT malformed, contained fewer than 3 sections"),null;try{const a=aE(t);return a?JSON.parse(a):(wf("Failed to decode base64 JWT payload"),null)}catch(a){return wf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function aw(s){const e=Jp(s);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wu(s,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ws&&aC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function aC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class oC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zf(s){const e=s.auth,t=await s.getIdToken(),r=await Wu(s,$f(e,{idToken:t}));Ie(r?.users.length,e,"internal-error");const a=r.users[0];s._notifyReloadListener(a);const c=a.providerUserInfo?.length?AE(a.providerUserInfo):[],d=cC(s.providerData,c),h=s.isAnonymous,g=!(s.email&&a.passwordHash)&&!d?.length,y=h?g:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new dp(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(s,x)}async function lC(s){const e=bt(s);await zf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cC(s,e){return[...s.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function AE(s){return s.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function uC(s,e){const t=await NE(s,{},async()=>{const r=gd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=s.config,d=await SE(s,a,"/v1/token",`key=${c}`),h=await s._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:h,body:r};return s.emulatorConfig&&Ao(s.emulatorConfig.host)&&(g.credentials="include"),TE.fetch()(d,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function dC(s,e){return ua(s,"POST","/v2/accounts:revokeToken",ca(s,e))}class Rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=aw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:c}=await uC(e,t);this.updateTokensAndExpiration(r,a,Number(c))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:c}=t,d=new Rl;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),a&&(Ie(typeof a=="string","internal-error",{appName:e}),d.accessToken=a),c&&(Ie(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rl,this.toJSON())}_performRefresh(){return zs("not implemented")}}function Li(s,e){Ie(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Mr{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new oC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new dp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iC(this,e)}reload(){return lC(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await zf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Gs(this.auth));const e=await this.getIdToken();return await Wu(this,sC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,c=t.phoneNumber??void 0,d=t.photoURL??void 0,h=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,x=t.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:j,providerData:I,stsTokenManager:R}=t;Ie(b&&R,e,"internal-error");const V=Rl.fromJSON(this.name,R);Ie(typeof b=="string",e,"internal-error"),Li(r,e.name),Li(a,e.name),Ie(typeof E=="boolean",e,"internal-error"),Ie(typeof j=="boolean",e,"internal-error"),Li(c,e.name),Li(d,e.name),Li(h,e.name),Li(g,e.name),Li(y,e.name),Li(x,e.name);const O=new Mr({uid:b,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:j,photoURL:d,phoneNumber:c,tenantId:h,stsTokenManager:V,createdAt:y,lastLoginAt:x});return I&&Array.isArray(I)&&(O.providerData=I.map(Q=>({...Q}))),g&&(O._redirectEventId=g),O}static async _fromIdTokenResponse(e,t,r=!1){const a=new Rl;a.updateFromServerResponse(t);const c=new Mr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await zf(c),c}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ie(a.localId!==void 0,"internal-error");const c=a.providerUserInfo!==void 0?AE(a.providerUserInfo):[],d=!(a.email&&a.passwordHash)&&!c?.length,h=new Rl;h.updateFromIdToken(r);const g=new Mr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:d}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new dp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const ow=new Map;function Bs(s){Qs(s instanceof Function,"Expected a class definition");let e=ow.get(s);return e?(Qs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,ow.set(s,e),e)}class IE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}IE.type="NONE";const lw=IE;function Ef(s,e,t){return`firebase:${s}:${e}:${t}`}class Dl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:c}=this.auth;this.fullUserKey=Ef(this.userKey,a.apiKey,c),this.fullPersistenceKey=Ef("persistence",a.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await $f(this.auth,{idToken:e}).catch(()=>{});return t?Mr._fromGetAccountInfoResponse(this.auth,t,e):null}return Mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Dl(Bs(lw),e,r);const a=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=a[0]||Bs(lw);const d=Ef(r,e.config.apiKey,e.name);let h=null;for(const y of t)try{const x=await y._get(d);if(x){let b;if(typeof x=="string"){const E=await $f(e,{idToken:x}).catch(()=>{});if(!E)break;b=await Mr._fromGetAccountInfoResponse(e,E,x)}else b=Mr._fromJSON(e,x);y!==c&&(h=b),c=y;break}}catch{}const g=a.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Dl(c,e,r):(c=g[0],h&&await c._set(d,h.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Dl(c,e,r))}}function cw(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ME(e))return"Blackberry";if(VE(e))return"Webos";if(CE(e))return"Safari";if((e.includes("chrome/")||RE(e))&&!e.includes("edge/"))return"Chrome";if(kE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(t);if(r?.length===2)return r[1]}return"Other"}function jE(s=en()){return/firefox\//i.test(s)}function CE(s=en()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RE(s=en()){return/crios\//i.test(s)}function DE(s=en()){return/iemobile/i.test(s)}function kE(s=en()){return/android/i.test(s)}function ME(s=en()){return/blackberry/i.test(s)}function VE(s=en()){return/webos/i.test(s)}function Xp(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function hC(s=en()){return Xp(s)&&!!window.navigator?.standalone}function fC(){return NI()&&document.documentMode===10}function PE(s=en()){return Xp(s)||kE(s)||VE(s)||ME(s)||/windows phone/i.test(s)||DE(s)}function OE(s,e=[]){let t;switch(s){case"Browser":t=cw(en());break;case"Worker":t=`${cw(en())}-${s}`;break;default:t=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${cc}/${r}`}class mC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=c=>new Promise((d,h)=>{try{const g=e(c);d(g)}catch(g){h(g)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function gC(s,e={}){return ua(s,"GET","/v2/passwordPolicy",ca(s,e))}const pC=6;class yC{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??pC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class xC{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uw(this),this.idTokenSubscription=new uw(this),this.beforeStateQueue=new mC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $f(this,{idToken:e}),r=await Mr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Jj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Gs(this));const t=e?bt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gC(this),t=new yC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new md("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await dC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bs(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Dl.create(this,[Bs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(h,this,"internal-error"),h.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,r,a);return()=>{d=!0,g()}}else{const g=e.addObserver(t);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Gj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function da(s){return bt(s)}class uw{constructor(e){this.auth=e,this.observer=null,this.addObserver=RI(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bC(s){cm=s}function LE(s){return cm.loadJS(s)}function vC(){return cm.recaptchaEnterpriseScript}function _C(){return cm.gapiScript}function wC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class EC{constructor(){this.enterprise=new TC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class TC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const NC="recaptcha-enterprise",UE="NO_RECAPTCHA";class SC{constructor(e){this.type=NC,this.auth=da(e)}async verify(e="verify",t=!1){async function r(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,h)=>{rC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const y=new nC(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{h(g)})})}function a(c,d,h){const g=window.grecaptcha;iw(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(UE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(h=>{if(!t&&iw(window.grecaptcha))a(h,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=vC();g.length!==0&&(g+=h),LE(g).then(()=>{a(h,c,d)}).catch(y=>{d(y)})}}).catch(h=>{d(h)})})}}async function dw(s,e,t,r=!1,a=!1){const c=new SC(s);let d;if(a)d=UE;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const g=h.phoneEnrollmentInfo.phoneNumber,y=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const g=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:d}):Object.assign(h,{captchaResponse:d}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function hp(s,e,t,r,a){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await dw(s,e,t,t==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await dw(s,e,t,t==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function AC(s,e){const t=pd(s,"auth");if(t.isInitialized()){const a=t.getImmediate(),c=t.getOptions();if(Ur(c,e??{}))return a;vr(a,"already-initialized")}return t.initialize({options:e})}function IC(s,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Bs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function $E(s,e,t){const r=da(s);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,c=zE(e),{host:d,port:h}=jC(e),g=h===null?"":`:${h}`,y={url:`${c}//${d}${g}/`},x=Object.freeze({host:d,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(Ur(y,r.config.emulator)&&Ur(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Ao(d)?(qp(`${c}//${d}${g}`),dE("Auth",!0)):CC()}function zE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function jC(s){const e=zE(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const c=a[1];return{host:c,port:hw(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:hw(d)}}}function hw(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function CC(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Wp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zs("not implemented")}_getIdTokenResponse(e){return zs("not implemented")}_linkToIdToken(e,t){return zs("not implemented")}_getReauthenticationResolver(e){return zs("not implemented")}}async function RC(s,e){return ua(s,"POST","/v1/accounts:signUp",e)}async function DC(s,e){return xd(s,"POST","/v1/accounts:signInWithPassword",ca(s,e))}async function kC(s,e){return xd(s,"POST","/v1/accounts:signInWithEmailLink",ca(s,e))}async function MC(s,e){return xd(s,"POST","/v1/accounts:signInWithEmailLink",ca(s,e))}class Zu extends Wp{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Zu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Zu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,t,"signInWithPassword",DC);case"emailLink":return kC(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,r,"signUpPassword",RC);case"emailLink":return MC(e,{idToken:t,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function kl(s,e){return xd(s,"POST","/v1/accounts:signInWithIdp",ca(s,e))}const VC="http://localhost";class fo extends Wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...c}=t;if(!r||!a)return null;const d=new fo(r,a);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return kl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,kl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,kl(e,t)}buildRequest(){const e={requestUri:VC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gd(t)}return e}}function PC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OC(s){const e=ku(Mu(s)).link,t=e?ku(Mu(e)).deep_link_id:null,r=ku(Mu(s)).deep_link_id;return(r?ku(Mu(r)).link:null)||r||t||e||s}class Zp{constructor(e){const t=ku(Mu(e)),r=t.apiKey??null,a=t.oobCode??null,c=PC(t.mode??null);Ie(r&&a&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=OC(e);try{return new Zp(t)}catch{return null}}}class uc{constructor(){this.providerId=uc.PROVIDER_ID}static credential(e,t){return Zu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Zp.parseLink(t);return Ie(r,"argument-error"),Zu._fromEmailAndCode(e,r.code,r.tenantId)}}uc.PROVIDER_ID="password";uc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ey{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bd extends ey{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bi extends bd{constructor(){super("facebook.com")}static credential(e){return fo._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";class Us extends bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fo._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Us.credential(t,r)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";class Fi extends bd{constructor(){super("github.com")}static credential(e){return fo._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";class qi extends bd{constructor(){super("twitter.com")}static credential(e,t){return fo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return qi.credential(t,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";async function LC(s,e){return xd(s,"POST","/v1/accounts:signUp",ca(s,e))}class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const c=await Mr._fromIdTokenResponse(e,r,a),d=fw(r);return new mo({user:c,providerId:d,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=fw(r);return new mo({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function fw(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Bf extends Ws{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Bf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Bf(e,t,r,a)}}function BE(s,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Bf._fromErrorAndOperation(s,c,e,r):c})}async function UC(s,e,t=!1){const r=await Wu(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return mo._forOperation(s,"link",r)}async function $C(s,e,t=!1){const{auth:r}=s;if(Zn(r.app))return Promise.reject(Gs(r));const a="reauthenticate";try{const c=await Wu(s,BE(r,a,e,s),t);Ie(c.idToken,r,"internal-error");const d=Jp(c.idToken);Ie(d,r,"internal-error");const{sub:h}=d;return Ie(s.uid===h,r,"user-mismatch"),mo._forOperation(s,a,c)}catch(c){throw c?.code==="auth/user-not-found"&&vr(r,"user-mismatch"),c}}async function FE(s,e,t=!1){if(Zn(s.app))return Promise.reject(Gs(s));const r="signIn",a=await BE(s,r,e),c=await mo._fromIdTokenResponse(s,r,a);return t||await s._updateCurrentUser(c.user),c}async function zC(s,e){return FE(da(s),e)}async function qE(s){const e=da(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BC(s,e,t){if(Zn(s.app))return Promise.reject(Gs(s));const r=da(s),d=await hp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&qE(s),g}),h=await mo._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(h.user),h}function FC(s,e,t){return Zn(s.app)?Promise.reject(Gs(s)):zC(bt(s),uc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qE(s),r})}function qC(s,e,t,r){return bt(s).onIdTokenChanged(e,t,r)}function HC(s,e,t){return bt(s).beforeAuthStateChanged(e,t)}function mw(s,e,t,r){return bt(s).onAuthStateChanged(e,t,r)}const Ff="__sak";class HE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const GC=1e3,KC=10;class GE extends HE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,h,g)=>{this.notifyListeners(d,g)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const d=this.storage.getItem(r);!t&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);fC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,KC):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}GE.type="LOCAL";const QC=GE;class KE extends HE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}KE.type="SESSION";const QE=KE;function YC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new um(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:c}=t.data,d=this.handlersMap[a];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(d).map(async y=>y(t.origin,c)),g=await YC(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}um.receivers=[];function ty(s="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return s+t}class JC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,d;return new Promise((h,g)=>{const y=ty("",20);a.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:a,onMessage(b){const E=b;if(E.data.eventId===y)switch(E.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),h(E.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),a.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[a.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ds(){return window}function XC(s){ds().location.href=s}function YE(){return typeof ds().WorkerGlobalScope<"u"&&typeof ds().importScripts=="function"}async function WC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZC(){return navigator?.serviceWorker?.controller||null}function e4(){return YE()?self:null}const JE="firebaseLocalStorageDb",t4=1,qf="firebaseLocalStorage",XE="fbase_key";class vd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dm(s,e){return s.transaction([qf],e?"readwrite":"readonly").objectStore(qf)}function n4(){const s=indexedDB.deleteDatabase(JE);return new vd(s).toPromise()}function fp(){const s=indexedDB.open(JE,t4);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(qf,{keyPath:XE})}catch(a){t(a)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(qf)?e(r):(r.close(),await n4(),e(await fp()))})})}async function gw(s,e,t){const r=dm(s,!0).put({[XE]:e,value:t});return new vd(r).toPromise()}async function r4(s,e){const t=dm(s,!1).get(e),r=await new vd(t).toPromise();return r===void 0?null:r.value}function pw(s,e){const t=dm(s,!0).delete(e);return new vd(t).toPromise()}const s4=800,i4=3;class WE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>i4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=um._getInstance(e4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await WC(),!this.activeServiceWorker)return;this.sender=new JC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fp();return await gw(e,Ff,"1"),await pw(e,Ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>gw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>r4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=dm(a,!1).getAll();return new vd(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:c}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WE.type="LOCAL";const a4=WE;new yd(3e4,6e4);function ZE(s,e){return e?Bs(e):(Ie(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class ny extends Wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return kl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function o4(s){return FE(s.auth,new ny(s),s.bypassAuthState)}function l4(s){const{auth:e,user:t}=s;return Ie(t,e,"internal-error"),$C(t,new ny(s),s.bypassAuthState)}async function c4(s){const{auth:e,user:t}=s;return Ie(t,e,"internal-error"),UC(t,new ny(s),s.bypassAuthState)}class eT{constructor(e,t,r,a,c=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:c,error:d,type:h}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:t,sessionId:r,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o4;case"linkViaPopup":case"linkViaRedirect":return c4;case"reauthViaPopup":case"reauthViaRedirect":return l4;default:vr(this.auth,"internal-error")}}resolve(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const u4=new yd(2e3,1e4);async function tT(s,e,t){if(Zn(s.app))return Promise.reject(Vr(s,"operation-not-supported-in-this-environment"));const r=da(s);Kj(s,e,ey);const a=ZE(r,t);return new ao(r,"signInViaPopup",e,a).executeNotNull()}class ao extends eT{constructor(e,t,r,a,c){super(e,t,a,c),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Qs(this.filter.length===1,"Popup operations only handle one event");const e=ty();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u4.get())};e()}}ao.currentPopupAction=null;const d4="pendingRedirect",Tf=new Map;class h4 extends eT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Tf.get(this.auth._key());if(!e){try{const r=await f4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Tf.set(this.auth._key(),e)}return this.bypassAuthState||Tf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f4(s,e){const t=p4(e),r=g4(s);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function m4(s,e){Tf.set(s._key(),e)}function g4(s){return Bs(s._redirectPersistence)}function p4(s){return Ef(d4,s.config.apiKey,s.name)}async function y4(s,e,t=!1){if(Zn(s.app))return Promise.reject(Gs(s));const r=da(s),a=ZE(r,e),d=await new h4(r,a,t).execute();return d&&!t&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const x4=600*1e3;class b4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!nT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Vr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x4&&this.cachedEventUids.clear(),this.cachedEventUids.has(yw(e))}saveEventToCache(e){this.cachedEventUids.add(yw(e)),this.lastProcessedEventTime=Date.now()}}function yw(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function nT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function v4(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nT(s);default:return!1}}async function _4(s,e={}){return ua(s,"GET","/v1/projects",e)}const w4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E4=/^https?/;async function T4(s){if(s.config.emulator)return;const{authorizedDomains:e}=await _4(s);for(const t of e)try{if(N4(t))return}catch{}vr(s,"unauthorized-domain")}function N4(s){const e=up(),{protocol:t,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===r}if(!E4.test(t))return!1;if(w4.test(s))return r===s;const a=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const S4=new yd(3e4,6e4);function xw(){const s=ds().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function A4(s){return new Promise((e,t)=>{function r(){xw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xw(),t(Vr(s,"network-request-failed"))},timeout:S4.get()})}if(ds().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ds().gapi?.load)r();else{const a=wC("iframefcb");return ds()[a]=()=>{gapi.load?r():t(Vr(s,"network-request-failed"))},LE(`${_C()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Nf=null,e})}let Nf=null;function I4(s){return Nf=Nf||A4(s),Nf}const j4=new yd(5e3,15e3),C4="__/auth/iframe",R4="emulator/auth/iframe",D4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M4(s){const e=s.config;Ie(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?Yp(e,R4):`https://${s.config.authDomain}/${C4}`,r={apiKey:e.apiKey,appName:s.name,v:cc},a=k4.get(s.config.apiHost);a&&(r.eid=a);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${t}?${gd(r).slice(1)}`}async function V4(s){const e=await I4(s),t=ds().gapi;return Ie(t,s,"internal-error"),e.open({where:document.body,url:M4(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D4,dontclear:!0},r=>new Promise(async(a,c)=>{await r.restyle({setHideOnLeave:!1});const d=Vr(s,"network-request-failed"),h=ds().setTimeout(()=>{c(d)},j4.get());function g(){ds().clearTimeout(h),a(r)}r.ping(g).then(g,()=>{c(d)})}))}const P4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O4=500,L4=600,U4="_blank",$4="http://localhost";class bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z4(s,e,t,r=O4,a=L4){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const g={...P4,width:r.toString(),height:a.toString(),top:c,left:d},y=en().toLowerCase();t&&(h=RE(y)?U4:t),jE(y)&&(e=e||$4,g.scrollbars="yes");const x=Object.entries(g).reduce((E,[j,I])=>`${E}${j}=${I},`,"");if(hC(y)&&h!=="_self")return B4(e||"",h),new bw(null);const b=window.open(e||"",h,x);Ie(b,s,"popup-blocked");try{b.focus()}catch{}return new bw(b)}function B4(s,e){const t=document.createElement("a");t.href=s,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const F4="__/auth/handler",q4="emulator/auth/handler",H4=encodeURIComponent("fac");async function vw(s,e,t,r,a,c){Ie(s.config.authDomain,s,"auth-domain-config-required"),Ie(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:r,v:cc,eventId:a};if(e instanceof ey){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",CI(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,b]of Object.entries({}))d[x]=b}if(e instanceof bd){const x=e.getScopes().filter(b=>b!=="");x.length>0&&(d.scopes=x.join(","))}s.tenantId&&(d.tid=s.tenantId);const h=d;for(const x of Object.keys(h))h[x]===void 0&&delete h[x];const g=await s._getAppCheckToken(),y=g?`#${H4}=${encodeURIComponent(g)}`:"";return`${G4(s)}?${gd(h).slice(1)}${y}`}function G4({config:s}){return s.emulator?Yp(s,q4):`https://${s.authDomain}/${F4}`}const Y0="webStorageSupport";class K4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QE,this._completeRedirectFn=y4,this._overrideRedirectResult=m4}async _openPopup(e,t,r,a){Qs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await vw(e,t,r,up(),a);return z4(e,c,ty())}async _openRedirect(e,t,r,a){await this._originValidation(e);const c=await vw(e,t,r,up(),a);return XC(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:c}=this.eventManagers[t];return a?Promise.resolve(a):(Qs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await V4(e),r=new b4(e);return t.register("authEvent",a=>(Ie(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Y0,{type:Y0},a=>{const c=a?.[0]?.[Y0];c!==void 0&&t(!!c),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=T4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PE()||CE()||Xp()}}const Q4=K4;var _w="@firebase/auth",ww="1.12.0";class Y4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function J4(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X4(s){Ll(new ho("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:h}=r.options;Ie(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:h,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OE(s)},y=new xC(r,a,c,g);return IC(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ll(new ho("auth-internal",e=>{const t=da(e.getProvider("auth").getImmediate());return(r=>new Y4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(_w,ww,J4(s)),Xi(_w,ww,"esm2020")}const W4=300,Z4=uE("authIdTokenMaxAge")||W4;let Ew=null;const eR=s=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Z4)return;const a=t?.token;Ew!==a&&(Ew=a,await fetch(s,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function tR(s=bE()){const e=pd(s,"auth");if(e.isInitialized())return e.getImmediate();const t=AC(s,{popupRedirectResolver:Q4,persistence:[a4,QC,QE]}),r=uE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=eR(c.toString());HC(t,d,()=>d(t.currentUser)),qC(t,h=>d(h))}}const a=lE("auth");return a&&$E(t,`http://${a}`),t}function nR(){return document.getElementsByTagName("head")?.[0]??document}bC({loadJS(s){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=a=>{const c=Vr("internal-error");c.customData=a,t(c)},r.type="text/javascript",r.charset="UTF-8",nR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X4("Browser");var Tw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wi,rT;(function(){var s;function e(S,T){function C(){}C.prototype=T.prototype,S.F=T.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(D,L,M){for(var k=Array(arguments.length-2),st=2;st<arguments.length;st++)k[st-2]=arguments[st];return T.prototype[L].apply(D,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,T,C){C||(C=0);const D=Array(16);if(typeof T=="string")for(var L=0;L<16;++L)D[L]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(L=0;L<16;++L)D[L]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=S.g[0],C=S.g[1],L=S.g[2];let M=S.g[3],k;k=T+(M^C&(L^M))+D[0]+3614090360&4294967295,T=C+(k<<7&4294967295|k>>>25),k=M+(L^T&(C^L))+D[1]+3905402710&4294967295,M=T+(k<<12&4294967295|k>>>20),k=L+(C^M&(T^C))+D[2]+606105819&4294967295,L=M+(k<<17&4294967295|k>>>15),k=C+(T^L&(M^T))+D[3]+3250441966&4294967295,C=L+(k<<22&4294967295|k>>>10),k=T+(M^C&(L^M))+D[4]+4118548399&4294967295,T=C+(k<<7&4294967295|k>>>25),k=M+(L^T&(C^L))+D[5]+1200080426&4294967295,M=T+(k<<12&4294967295|k>>>20),k=L+(C^M&(T^C))+D[6]+2821735955&4294967295,L=M+(k<<17&4294967295|k>>>15),k=C+(T^L&(M^T))+D[7]+4249261313&4294967295,C=L+(k<<22&4294967295|k>>>10),k=T+(M^C&(L^M))+D[8]+1770035416&4294967295,T=C+(k<<7&4294967295|k>>>25),k=M+(L^T&(C^L))+D[9]+2336552879&4294967295,M=T+(k<<12&4294967295|k>>>20),k=L+(C^M&(T^C))+D[10]+4294925233&4294967295,L=M+(k<<17&4294967295|k>>>15),k=C+(T^L&(M^T))+D[11]+2304563134&4294967295,C=L+(k<<22&4294967295|k>>>10),k=T+(M^C&(L^M))+D[12]+1804603682&4294967295,T=C+(k<<7&4294967295|k>>>25),k=M+(L^T&(C^L))+D[13]+4254626195&4294967295,M=T+(k<<12&4294967295|k>>>20),k=L+(C^M&(T^C))+D[14]+2792965006&4294967295,L=M+(k<<17&4294967295|k>>>15),k=C+(T^L&(M^T))+D[15]+1236535329&4294967295,C=L+(k<<22&4294967295|k>>>10),k=T+(L^M&(C^L))+D[1]+4129170786&4294967295,T=C+(k<<5&4294967295|k>>>27),k=M+(C^L&(T^C))+D[6]+3225465664&4294967295,M=T+(k<<9&4294967295|k>>>23),k=L+(T^C&(M^T))+D[11]+643717713&4294967295,L=M+(k<<14&4294967295|k>>>18),k=C+(M^T&(L^M))+D[0]+3921069994&4294967295,C=L+(k<<20&4294967295|k>>>12),k=T+(L^M&(C^L))+D[5]+3593408605&4294967295,T=C+(k<<5&4294967295|k>>>27),k=M+(C^L&(T^C))+D[10]+38016083&4294967295,M=T+(k<<9&4294967295|k>>>23),k=L+(T^C&(M^T))+D[15]+3634488961&4294967295,L=M+(k<<14&4294967295|k>>>18),k=C+(M^T&(L^M))+D[4]+3889429448&4294967295,C=L+(k<<20&4294967295|k>>>12),k=T+(L^M&(C^L))+D[9]+568446438&4294967295,T=C+(k<<5&4294967295|k>>>27),k=M+(C^L&(T^C))+D[14]+3275163606&4294967295,M=T+(k<<9&4294967295|k>>>23),k=L+(T^C&(M^T))+D[3]+4107603335&4294967295,L=M+(k<<14&4294967295|k>>>18),k=C+(M^T&(L^M))+D[8]+1163531501&4294967295,C=L+(k<<20&4294967295|k>>>12),k=T+(L^M&(C^L))+D[13]+2850285829&4294967295,T=C+(k<<5&4294967295|k>>>27),k=M+(C^L&(T^C))+D[2]+4243563512&4294967295,M=T+(k<<9&4294967295|k>>>23),k=L+(T^C&(M^T))+D[7]+1735328473&4294967295,L=M+(k<<14&4294967295|k>>>18),k=C+(M^T&(L^M))+D[12]+2368359562&4294967295,C=L+(k<<20&4294967295|k>>>12),k=T+(C^L^M)+D[5]+4294588738&4294967295,T=C+(k<<4&4294967295|k>>>28),k=M+(T^C^L)+D[8]+2272392833&4294967295,M=T+(k<<11&4294967295|k>>>21),k=L+(M^T^C)+D[11]+1839030562&4294967295,L=M+(k<<16&4294967295|k>>>16),k=C+(L^M^T)+D[14]+4259657740&4294967295,C=L+(k<<23&4294967295|k>>>9),k=T+(C^L^M)+D[1]+2763975236&4294967295,T=C+(k<<4&4294967295|k>>>28),k=M+(T^C^L)+D[4]+1272893353&4294967295,M=T+(k<<11&4294967295|k>>>21),k=L+(M^T^C)+D[7]+4139469664&4294967295,L=M+(k<<16&4294967295|k>>>16),k=C+(L^M^T)+D[10]+3200236656&4294967295,C=L+(k<<23&4294967295|k>>>9),k=T+(C^L^M)+D[13]+681279174&4294967295,T=C+(k<<4&4294967295|k>>>28),k=M+(T^C^L)+D[0]+3936430074&4294967295,M=T+(k<<11&4294967295|k>>>21),k=L+(M^T^C)+D[3]+3572445317&4294967295,L=M+(k<<16&4294967295|k>>>16),k=C+(L^M^T)+D[6]+76029189&4294967295,C=L+(k<<23&4294967295|k>>>9),k=T+(C^L^M)+D[9]+3654602809&4294967295,T=C+(k<<4&4294967295|k>>>28),k=M+(T^C^L)+D[12]+3873151461&4294967295,M=T+(k<<11&4294967295|k>>>21),k=L+(M^T^C)+D[15]+530742520&4294967295,L=M+(k<<16&4294967295|k>>>16),k=C+(L^M^T)+D[2]+3299628645&4294967295,C=L+(k<<23&4294967295|k>>>9),k=T+(L^(C|~M))+D[0]+4096336452&4294967295,T=C+(k<<6&4294967295|k>>>26),k=M+(C^(T|~L))+D[7]+1126891415&4294967295,M=T+(k<<10&4294967295|k>>>22),k=L+(T^(M|~C))+D[14]+2878612391&4294967295,L=M+(k<<15&4294967295|k>>>17),k=C+(M^(L|~T))+D[5]+4237533241&4294967295,C=L+(k<<21&4294967295|k>>>11),k=T+(L^(C|~M))+D[12]+1700485571&4294967295,T=C+(k<<6&4294967295|k>>>26),k=M+(C^(T|~L))+D[3]+2399980690&4294967295,M=T+(k<<10&4294967295|k>>>22),k=L+(T^(M|~C))+D[10]+4293915773&4294967295,L=M+(k<<15&4294967295|k>>>17),k=C+(M^(L|~T))+D[1]+2240044497&4294967295,C=L+(k<<21&4294967295|k>>>11),k=T+(L^(C|~M))+D[8]+1873313359&4294967295,T=C+(k<<6&4294967295|k>>>26),k=M+(C^(T|~L))+D[15]+4264355552&4294967295,M=T+(k<<10&4294967295|k>>>22),k=L+(T^(M|~C))+D[6]+2734768916&4294967295,L=M+(k<<15&4294967295|k>>>17),k=C+(M^(L|~T))+D[13]+1309151649&4294967295,C=L+(k<<21&4294967295|k>>>11),k=T+(L^(C|~M))+D[4]+4149444226&4294967295,T=C+(k<<6&4294967295|k>>>26),k=M+(C^(T|~L))+D[11]+3174756917&4294967295,M=T+(k<<10&4294967295|k>>>22),k=L+(T^(M|~C))+D[2]+718787259&4294967295,L=M+(k<<15&4294967295|k>>>17),k=C+(M^(L|~T))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+L&4294967295,S.g[3]=S.g[3]+M&4294967295}r.prototype.v=function(S,T){T===void 0&&(T=S.length);const C=T-this.blockSize,D=this.C;let L=this.h,M=0;for(;M<T;){if(L==0)for(;M<=C;)a(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<T;)if(D[L++]=S.charCodeAt(M++),L==this.blockSize){a(this,D),L=0;break}}else for(;M<T;)if(D[L++]=S[M++],L==this.blockSize){a(this,D),L=0;break}}this.h=L,this.o+=T},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;T=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=T&255,T/=256;for(this.v(S),S=Array(16),T=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)S[T++]=this.g[C]>>>D&255;return S};function c(S,T){var C=h;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=T(S)}function d(S,T){this.h=T;const C=[];let D=!0;for(let L=S.length-1;L>=0;L--){const M=S[L]|0;D&&M==T||(C[L]=M,D=!1)}this.g=C}var h={};function g(S){return-128<=S&&S<128?c(S,function(T){return new d([T|0],T<0?-1:0)}):new d([S|0],S<0?-1:0)}function y(S){if(isNaN(S)||!isFinite(S))return b;if(S<0)return V(y(-S));const T=[];let C=1;for(let D=0;S>=C;D++)T[D]=S/C|0,C*=4294967296;return new d(T,0)}function x(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return V(x(S.substring(1),T));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(T,8));let D=b;for(let M=0;M<S.length;M+=8){var L=Math.min(8,S.length-M);const k=parseInt(S.substring(M,M+L),T);L<8?(L=y(Math.pow(T,L)),D=D.j(L).add(y(k))):(D=D.j(C),D=D.add(y(k)))}return D}var b=g(0),E=g(1),j=g(16777216);s=d.prototype,s.m=function(){if(R(this))return-V(this).m();let S=0,T=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);S+=(D>=0?D:4294967296+D)*T,T*=4294967296}return S},s.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I(this))return"0";if(R(this))return"-"+V(this).toString(S);const T=y(Math.pow(S,6));var C=this;let D="";for(;;){const L=J(C,T).g;C=O(C,L.j(T));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=L,I(C))return M+D;for(;M.length<6;)M="0"+M;D=M+D}},s.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function I(S){if(S.h!=0)return!1;for(let T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function R(S){return S.h==-1}s.l=function(S){return S=O(this,S),R(S)?-1:I(S)?0:1};function V(S){const T=S.g.length,C=[];for(let D=0;D<T;D++)C[D]=~S.g[D];return new d(C,~S.h).add(E)}s.abs=function(){return R(this)?V(this):this},s.add=function(S){const T=Math.max(this.g.length,S.g.length),C=[];let D=0;for(let L=0;L<=T;L++){let M=D+(this.i(L)&65535)+(S.i(L)&65535),k=(M>>>16)+(this.i(L)>>>16)+(S.i(L)>>>16);D=k>>>16,M&=65535,k&=65535,C[L]=k<<16|M}return new d(C,C[C.length-1]&-2147483648?-1:0)};function O(S,T){return S.add(V(T))}s.j=function(S){if(I(this)||I(S))return b;if(R(this))return R(S)?V(this).j(V(S)):V(V(this).j(S));if(R(S))return V(this.j(V(S)));if(this.l(j)<0&&S.l(j)<0)return y(this.m()*S.m());const T=this.g.length+S.g.length,C=[];for(var D=0;D<2*T;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let L=0;L<S.g.length;L++){const M=this.i(D)>>>16,k=this.i(D)&65535,st=S.i(L)>>>16,Dt=S.i(L)&65535;C[2*D+2*L]+=k*Dt,Q(C,2*D+2*L),C[2*D+2*L+1]+=M*Dt,Q(C,2*D+2*L+1),C[2*D+2*L+1]+=k*st,Q(C,2*D+2*L+1),C[2*D+2*L+2]+=M*st,Q(C,2*D+2*L+2)}for(S=0;S<T;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=T;S<2*T;S++)C[S]=0;return new d(C,0)};function Q(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function q(S,T){this.g=S,this.h=T}function J(S,T){if(I(T))throw Error("division by zero");if(I(S))return new q(b,b);if(R(S))return T=J(V(S),T),new q(V(T.g),V(T.h));if(R(T))return T=J(S,V(T)),new q(V(T.g),T.h);if(S.g.length>30){if(R(S)||R(T))throw Error("slowDivide_ only works with positive integers.");for(var C=E,D=T;D.l(S)<=0;)C=te(C),D=te(D);var L=re(C,1),M=re(D,1);for(D=re(D,2),C=re(C,2);!I(D);){var k=M.add(D);k.l(S)<=0&&(L=L.add(C),M=k),D=re(D,1),C=re(C,1)}return T=O(S,L.j(T)),new q(L,T)}for(L=b;S.l(T)>=0;){for(C=Math.max(1,Math.floor(S.m()/T.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),M=y(C),k=M.j(T);R(k)||k.l(S)>0;)C-=D,M=y(C),k=M.j(T);I(M)&&(M=E),L=L.add(M),S=O(S,k)}return new q(L,S)}s.B=function(S){return J(this,S).h},s.and=function(S){const T=Math.max(this.g.length,S.g.length),C=[];for(let D=0;D<T;D++)C[D]=this.i(D)&S.i(D);return new d(C,this.h&S.h)},s.or=function(S){const T=Math.max(this.g.length,S.g.length),C=[];for(let D=0;D<T;D++)C[D]=this.i(D)|S.i(D);return new d(C,this.h|S.h)},s.xor=function(S){const T=Math.max(this.g.length,S.g.length),C=[];for(let D=0;D<T;D++)C[D]=this.i(D)^S.i(D);return new d(C,this.h^S.h)};function te(S){const T=S.g.length+1,C=[];for(let D=0;D<T;D++)C[D]=S.i(D)<<1|S.i(D-1)>>>31;return new d(C,S.h)}function re(S,T){const C=T>>5;T%=32;const D=S.g.length-C,L=[];for(let M=0;M<D;M++)L[M]=T>0?S.i(M+C)>>>T|S.i(M+C+1)<<32-T:S.i(M+C);return new d(L,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=x,Wi=d}).apply(typeof Tw<"u"?Tw:typeof self<"u"?self:typeof window<"u"?window:{});var ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sT,Vu,iT,Sf,mp,aT,oT,lT;(function(){var s,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof ff=="object"&&ff];for(var v=0;v<f.length;++v){var w=f[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function a(f,v){if(v)e:{var w=r;f=f.split(".");for(var A=0;A<f.length-1;A++){var G=f[A];if(!(G in w))break e;w=w[G]}f=f[f.length-1],A=w[f],v=v(A),v!=A&&v!=null&&e(w,f,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(v){var w=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&w.push([A,v[A]]);return w}});var c=c||{},d=this||self;function h(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function g(f,v,w){return f.call.apply(f.bind,arguments)}function y(f,v,w){return y=g,y.apply(null,arguments)}function x(f,v){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function b(f,v){function w(){}w.prototype=v.prototype,f.Z=v.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(A,G,ee){for(var me=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)me[Ve-2]=arguments[Ve];return v.prototype[G].apply(A,me)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function j(f){const v=f.length;if(v>0){const w=Array(v);for(let A=0;A<v;A++)w[A]=f[A];return w}return[]}function I(f,v){for(let A=1;A<arguments.length;A++){const G=arguments[A];var w=typeof G;if(w=w!="object"?w:G?Array.isArray(G)?"array":w:"null",w=="array"||w=="object"&&typeof G.length=="number"){w=f.length||0;const ee=G.length||0;f.length=w+ee;for(let me=0;me<ee;me++)f[w+me]=G[me]}else f.push(G)}}class R{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(f){d.setTimeout(()=>{throw f},0)}function O(){var f=S;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Q{constructor(){this.h=this.g=null}add(v,w){const A=q.get();A.set(v,w),this.h?this.h.next=A:this.g=A,this.h=A}}var q=new R(()=>new J,f=>f.reset());class J{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let te,re=!1,S=new Q,T=()=>{const f=Promise.resolve(void 0);te=()=>{f.then(C)}};function C(){for(var f;f=O();){try{f.h.call(f.g)}catch(w){V(w)}var v=q;v.j(f),v.h<100&&(v.h++,f.next=v.g,v.g=f)}re=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};d.addEventListener("test",w,v),d.removeEventListener("test",w,v)}catch{}return f})();function k(f){return/^[\s\xa0]*$/.test(f)}function st(f,v){L.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,v)}b(st,L),st.prototype.init=function(f,v){const w=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget,v||(w=="mouseover"?v=f.fromElement:w=="mouseout"&&(v=f.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),ie=0;function pe(f,v,w,A,G){this.listener=f,this.proxy=null,this.src=v,this.type=w,this.capture=!!A,this.ha=G,this.key=++ie,this.da=this.fa=!1}function Te(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Qe(f,v,w){for(const A in f)v.call(w,f[A],A,f)}function tt(f,v){for(const w in f)v.call(void 0,f[w],w,f)}function z(f){const v={};for(const w in f)v[w]=f[w];return v}const ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(f,v){let w,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(w in A)f[w]=A[w];for(let ee=0;ee<ce.length;ee++)w=ce[ee],Object.prototype.hasOwnProperty.call(A,w)&&(f[w]=A[w])}}function be(f){this.src=f,this.g={},this.h=0}be.prototype.add=function(f,v,w,A,G){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const me=ke(f,v,A,G);return me>-1?(v=f[me],w||(v.fa=!1)):(v=new pe(v,this.src,ee,!!A,G),v.fa=w,f.push(v)),v};function Re(f,v){const w=v.type;if(w in f.g){var A=f.g[w],G=Array.prototype.indexOf.call(A,v,void 0),ee;(ee=G>=0)&&Array.prototype.splice.call(A,G,1),ee&&(Te(v),f.g[w].length==0&&(delete f.g[w],f.h--))}}function ke(f,v,w,A){for(let G=0;G<f.length;++G){const ee=f[G];if(!ee.da&&ee.listener==v&&ee.capture==!!w&&ee.ha==A)return G}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Pt={};function vt(f,v,w,A,G){if(Array.isArray(v)){for(let ee=0;ee<v.length;ee++)vt(f,v[ee],w,A,G);return null}return w=K(w),f&&f[Dt]?f.J(v,w,h(A)?!!A.capture:!1,G):ys(f,v,w,!1,A,G)}function ys(f,v,w,A,G,ee){if(!v)throw Error("Invalid event type");const me=h(G)?!!G.capture:!!G;let Ve=xs(f);if(Ve||(f[Fe]=Ve=new be(f)),w=Ve.add(v,w,A,me,ee),w.proxy)return w;if(A=ri(),w.proxy=A,A.src=f,A.listener=w,f.addEventListener)M||(G=me),G===void 0&&(G=!1),f.addEventListener(v.toString(),A,G);else if(f.attachEvent)f.attachEvent(rr(v.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ri(){function f(w){return v.call(f.src,f.listener,w)}const v=_a;return f}function si(f,v,w,A,G){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)si(f,v[ee],w,A,G);else A=h(A)?!!A.capture:!!A,w=K(w),f&&f[Dt]?(f=f.i,ee=String(v).toString(),ee in f.g&&(v=f.g[ee],w=ke(v,w,A,G),w>-1&&(Te(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete f.g[ee],f.h--)))):f&&(f=xs(f))&&(v=f.g[v.toString()],f=-1,v&&(f=ke(v,w,A,G)),(w=f>-1?v[f]:null)&&ii(w))}function ii(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Dt])Re(v.i,f);else{var w=f.type,A=f.proxy;v.removeEventListener?v.removeEventListener(w,A,f.capture):v.detachEvent?v.detachEvent(rr(w),A):v.addListener&&v.removeListener&&v.removeListener(A),(w=xs(v))?(Re(w,f),w.h==0&&(w.src=null,v[Fe]=null)):Te(f)}}}function rr(f){return f in Pt?Pt[f]:Pt[f]="on"+f}function _a(f,v){if(f.da)f=!0;else{v=new st(v,this);const w=f.listener,A=f.ha||f.src;f.fa&&ii(f),f=w.call(A,v)}return f}function xs(f){return f=f[Fe],f instanceof be?f:null}var wa="__closure_events_fn_"+(Math.random()*1e9>>>0);function K(f){return typeof f=="function"?f:(f[wa]||(f[wa]=function(v){return f.handleEvent(v)}),f[wa])}function B(){D.call(this),this.i=new be(this),this.M=this,this.G=null}b(B,D),B.prototype[Dt]=!0,B.prototype.removeEventListener=function(f,v,w,A){si(this,f,v,w,A)};function se(f,v){var w,A=f.G;if(A)for(w=[];A;A=A.G)w.push(A);if(f=f.M,A=v.type||v,typeof v=="string")v=new L(v,f);else if(v instanceof L)v.target=v.target||f;else{var G=v;v=new L(A,f),ye(v,G)}G=!0;let ee,me;if(w)for(me=w.length-1;me>=0;me--)ee=v.g=w[me],G=he(ee,A,!0,v)&&G;if(ee=v.g=f,G=he(ee,A,!0,v)&&G,G=he(ee,A,!1,v)&&G,w)for(me=0;me<w.length;me++)ee=v.g=w[me],G=he(ee,A,!1,v)&&G}B.prototype.N=function(){if(B.Z.N.call(this),this.i){var f=this.i;for(const v in f.g){const w=f.g[v];for(let A=0;A<w.length;A++)Te(w[A]);delete f.g[v],f.h--}}this.G=null},B.prototype.J=function(f,v,w,A){return this.i.add(String(f),v,!1,w,A)},B.prototype.K=function(f,v,w,A){return this.i.add(String(f),v,!0,w,A)};function he(f,v,w,A){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();let G=!0;for(let ee=0;ee<v.length;++ee){const me=v[ee];if(me&&!me.da&&me.capture==w){const Ve=me.listener,Lt=me.ha||me.src;me.fa&&Re(f.i,me),G=Ve.call(Lt,A)!==!1&&G}}return G&&!A.defaultPrevented}function Se(f,v){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=y(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(f,v||0)}function Le(f){f.g=Se(()=>{f.g=null,f.i&&(f.i=!1,Le(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class Je extends D{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Le(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bn(f){D.call(this),this.h=f,this.g={}}b(Bn,D);var Ec=[];function Tc(f){Qe(f.g,function(v,w){this.g.hasOwnProperty(w)&&ii(v)},f),f.g={}}Bn.prototype.N=function(){Bn.Z.N.call(this),Tc(this)},Bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=d.JSON.stringify,$m=d.JSON.parse,Od=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Ld(){}function Ud(){}var _r={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function hn(){L.call(this,"d")}b(hn,L);function sr(){L.call(this,"c")}b(sr,L);var Ot={},$d=null;function Mo(){return $d=$d||new B}Ot.Ia="serverreachability";function zd(f){L.call(this,Ot.Ia,f)}b(zd,L);function $r(f){const v=Mo();se(v,new zd(v))}Ot.STAT_EVENT="statevent";function Ea(f,v){L.call(this,Ot.STAT_EVENT,f),this.stat=v}b(Ea,L);function Ft(f){const v=Mo();se(v,new Ea(v,f))}Ot.Ja="timingevent";function zr(f,v){L.call(this,Ot.Ja,f),this.size=v}b(zr,L);function Br(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},v)}function wr(){this.g=!0}wr.prototype.ua=function(){this.g=!1};function zm(f,v,w,A,G,ee){f.info(function(){if(f.g)if(ee){var me="",Ve=ee.split("&");for(let nt=0;nt<Ve.length;nt++){var Lt=Ve[nt].split("=");if(Lt.length>1){const At=Lt[0];Lt=Lt[1];const lr=At.split("_");me=lr.length>=2&&lr[1]=="type"?me+(At+"="+Lt+"&"):me+(At+"=redacted&")}}}else me=null;else me=ee;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+v+`
`+w+`
`+me})}function Bd(f,v,w,A,G,ee,me){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+v+`
`+w+`
`+ee+" "+me})}function Fr(f,v,w,A){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Bm(f,w)+(A?" "+A:"")})}function Ta(f,v){f.info(function(){return"TIMEOUT: "+v})}wr.prototype.info=function(){};function Bm(f,v){if(!f.g)return v;if(!v)return null;try{const ee=JSON.parse(v);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var w=ee[f];if(!(w.length<2)){var A=w[1];if(Array.isArray(A)&&!(A.length<1)){var G=A[0];if(G!="noop"&&G!="stop"&&G!="close")for(let me=1;me<A.length;me++)A[me]=""}}}}return ai(ee)}catch{return v}}var Na={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sc;function Sa(){}b(Sa,Ld),Sa.prototype.g=function(){return new XMLHttpRequest},Sc=new Sa;function bs(f){return encodeURIComponent(String(f))}function Fd(f){var v=1;f=f.split(":");const w=[];for(;v>0&&f.length;)w.push(f.shift()),v--;return f.length&&w.push(f.join(":")),w}function Er(f,v,w,A){this.j=f,this.i=v,this.l=w,this.S=A||1,this.V=new Bn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Tr}function Tr(){this.i=null,this.g="",this.h=!1}var qt={},rn={};function qr(f,v,w){f.M=1,f.A=Aa(Gt(v)),f.u=w,f.R=!0,Vo(f,null)}function Vo(f,v){f.F=Date.now(),Hr(f),f.B=Gt(f.A);var w=f.B,A=f.S;Array.isArray(A)||(A=[String(A)]),Uo(w.i,"t",A),f.C=0,w=f.j.L,f.h=new Tr,f.g=sh(f.j,w?v:null,!f.u),f.P>0&&(f.O=new Je(y(f.Y,f,f.g),f.P)),v=f.V,w=f.g,A=f.ba;var G="readystatechange";Array.isArray(G)||(G&&(Ec[0]=G.toString()),G=Ec);for(let ee=0;ee<G.length;ee++){const me=vt(w,G[ee],A||v.handleEvent,!1,v.h||v);if(!me)break;v.g[me.key]=me}v=f.J?z(f.J):{},f.u?(f.v||(f.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,v)):(f.v="GET",f.g.ea(f.B,f.v,null,v)),$r(),zm(f.i,f.v,f.B,f.l,f.S,f.u)}Er.prototype.ba=function(f){f=f.target;const v=this.O;v&&Ar(f)==3?v.j():this.Y(f)},Er.prototype.Y=function(f){try{if(f==this.g)e:{const Ve=Ar(this.g),Lt=this.g.ya(),nt=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||fn(this.g)))){this.K||Ve!=4||Lt==7||(Lt==8||nt<=0?$r(3):$r(2)),Gr(this);var v=this.g.ca();this.X=v;var w=Fm(this);if(this.o=v==200,Bd(this.i,this.v,this.B,this.l,this.S,Ve,v),this.o){if(this.U&&!this.L){t:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(A)){var ee=A;break t}}ee=null}if(f=ee)Fr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Kr(this,f);else{this.o=!1,this.m=3,Ft(12),Fn(this),ir(this);break e}}if(this.R){f=!0;let At;for(;!this.K&&this.C<w.length;)if(At=Hd(this,w),At==rn){Ve==4&&(this.m=4,Ft(14),f=!1),Fr(this.i,this.l,null,"[Incomplete Response]");break}else if(At==qt){this.m=4,Ft(15),Fr(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else Fr(this.i,this.l,At,null),Kr(this,At);if(qd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||w.length!=0||this.h.h||(this.m=1,Ft(16),f=!1),this.o=this.o&&f,!f)Fr(this.i,this.l,w,"[Invalid Chunked Response]"),Fn(this),ir(this);else if(w.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),zc(me),me.P=!0,Ft(11))}}else Fr(this.i,this.l,w,null),Kr(this,w);Ve==4&&Fn(this),this.o&&!this.K&&(Ve==4?eh(this.j,this):(this.o=!1,Hr(this)))}else _s(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ft(12)):(this.m=0,Ft(13)),Fn(this),ir(this)}}}catch{}};function Fm(f){if(!qd(f))return f.g.la();const v=fn(f.g);if(v==="")return"";let w="";const A=v.length,G=Ar(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Fn(f),ir(f),"";f.h.i=new d.TextDecoder}for(let ee=0;ee<A;ee++)f.h.h=!0,w+=f.h.i.decode(v[ee],{stream:!(G&&ee==A-1)});return v.length=0,f.h.g+=w,f.C=0,f.h.g}function qd(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Hd(f,v){var w=f.C,A=v.indexOf(`
`,w);return A==-1?rn:(w=Number(v.substring(w,A)),isNaN(w)?qt:(A+=1,A+w>v.length?rn:(v=v.slice(A,A+w),f.C=A+w,v)))}Er.prototype.cancel=function(){this.K=!0,Fn(this)};function Hr(f){f.T=Date.now()+f.H,Po(f,f.H)}function Po(f,v){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Br(y(f.aa,f),v)}function Gr(f){f.D&&(d.clearTimeout(f.D),f.D=null)}Er.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Ta(this.i,this.B),this.M!=2&&($r(),Ft(17)),Fn(this),this.m=2,ir(this)):Po(this,this.T-f)};function ir(f){f.j.I==0||f.K||eh(f.j,f)}function Fn(f){Gr(f);var v=f.O;v&&typeof v.dispose=="function"&&v.dispose(),f.O=null,Tc(f.V),f.g&&(v=f.g,f.g=null,v.abort(),v.dispose())}function Kr(f,v){try{var w=f.j;if(w.I!=0&&(w.g==f||Yr(w.h,f))){if(!f.L&&Yr(w.h,f)&&w.I==3){try{var A=w.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)qo(w),mi(w);else break e;Ma(w),Ft(18)}}else w.xa=G[1],0<w.xa-w.K&&G[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Br(y(w.Va,w),6e3));Qr(w.h)<=1&&w.ta&&(w.ta=void 0)}else ts(w,11)}else if((f.L||w.g==f)&&qo(w),!k(v))for(G=w.Ba.g.parse(v),v=0;v<G.length;v++){let nt=G[v];const At=nt[0];if(!(At<=w.K))if(w.K=At,nt=nt[1],w.I==2)if(nt[0]=="c"){w.M=nt[1],w.ba=nt[2];const lr=nt[3];lr!=null&&(w.ka=lr,w.j.info("VER="+w.ka));const ns=nt[4];ns!=null&&(w.za=ns,w.j.info("SVER="+w.za));const Ir=nt[5];Ir!=null&&typeof Ir=="number"&&Ir>0&&(A=1.5*Ir,w.O=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const jr=f.g;if(jr){const Va=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Va){var ee=A.h;ee.g||Va.indexOf("spdy")==-1&&Va.indexOf("quic")==-1&&Va.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(jc(ee,ee.h),ee.h=null))}if(A.G){const Ho=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(A.wa=Ho,at(A.J,A.G,Ho))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),A=w;var me=f;if(A.na=rh(A,A.L?A.ba:null,A.W),me.L){Cc(A.h,me);var Ve=me,Lt=A.O;Lt&&(Ve.H=Lt),Ve.D&&(Gr(Ve),Hr(Ve)),A.g=me}else Wd(A);w.i.length>0&&es(w)}else nt[0]!="stop"&&nt[0]!="close"||ts(w,7);else w.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ts(w,7):Uc(w):nt[0]!="noop"&&w.l&&w.l.qa(nt),w.A=0)}}$r(4)}catch{}}var Ht=class{constructor(f,v){this.g=f,this.map=v}};function Ac(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ic(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Qr(f){return f.h?1:f.g?f.g.size:0}function Yr(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function jc(f,v){f.g?f.g.add(v):f.h=v}function Cc(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Ac.prototype.cancel=function(){if(this.i=Rc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Rc(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const w of f.g.values())v=v.concat(w.G);return v}return j(f.i)}var Gd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oo(f,v){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const A=f[w].indexOf("=");let G,ee=null;A>=0?(G=f[w].substring(0,A),ee=f[w].substring(A+1)):G=f[w],v(G,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function qn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;f instanceof qn?(this.l=f.l,sn(this,f.j),this.o=f.o,this.g=f.g,oi(this,f.u),this.h=f.h,Dc(this,Jd(f.i)),this.m=f.m):f&&(v=String(f).match(Gd))?(this.l=!1,sn(this,v[1]||"",!0),this.o=Jr(v[2]||""),this.g=Jr(v[3]||"",!0),oi(this,v[4]),this.h=Jr(v[5]||"",!0),Dc(this,v[6]||"",!0),this.m=Jr(v[7]||"")):(this.l=!1,this.i=new ci(null,this.l))}qn.prototype.toString=function(){const f=[];var v=this.j;v&&f.push(Ia(v,Lo,!0),":");var w=this.g;return(w||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Ia(v,Lo,!0),"@"),f.push(bs(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(Ia(w,w.charAt(0)=="/"?kc:Kd,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",Ia(w,Qd)),f.join("")},qn.prototype.resolve=function(f){const v=Gt(this);let w=!!f.j;w?sn(v,f.j):w=!!f.o,w?v.o=f.o:w=!!f.g,w?v.g=f.g:w=f.u!=null;var A=f.h;if(w)oi(v,f.u);else if(w=!!f.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var G=v.h.lastIndexOf("/");G!=-1&&(A=v.h.slice(0,G+1)+A)}if(G=A,G==".."||G==".")A="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){A=G.lastIndexOf("/",0)==0,G=G.split("/");const ee=[];for(let me=0;me<G.length;){const Ve=G[me++];Ve=="."?A&&me==G.length&&ee.push(""):Ve==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),A&&me==G.length&&ee.push("")):(ee.push(Ve),A=!0)}A=ee.join("/")}else A=G}return w?v.h=A:w=f.i.toString()!=="",w?Dc(v,Jd(f.i)):w=!!f.m,w&&(v.m=f.m),v};function Gt(f){return new qn(f)}function sn(f,v,w){f.j=w?Jr(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function oi(f,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);f.u=v}else f.u=null}function Dc(f,v,w){v instanceof ci?(f.i=v,$o(f.i,f.l)):(w||(v=Ia(v,li)),f.i=new ci(v,f.l))}function at(f,v,w){f.i.set(v,w)}function Aa(f){return at(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Jr(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ia(f,v,w){return typeof f=="string"?(f=encodeURI(f).replace(v,An),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function An(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Lo=/[#\/\?@]/g,Kd=/[#\?:]/g,kc=/[#\?]/g,li=/[#\?@]/g,Qd=/#/g;function ci(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function In(f){f.g||(f.g=new Map,f.h=0,f.i&&Oo(f.i,function(v,w){f.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}s=ci.prototype,s.add=function(f,v){In(this),this.i=null,f=ui(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(v),this.h+=1,this};function Yd(f,v){In(f),v=ui(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Mc(f,v){return In(f),v=ui(f,v),f.g.has(v)}s.forEach=function(f,v){In(this),this.g.forEach(function(w,A){w.forEach(function(G){f.call(v,G,A,this)},this)},this)};function Vc(f,v){In(f);let w=[];if(typeof v=="string")Mc(f,v)&&(w=w.concat(f.g.get(ui(f,v))));else for(f=Array.from(f.g.values()),v=0;v<f.length;v++)w=w.concat(f[v]);return w}s.set=function(f,v){return In(this),this.i=null,f=ui(this,f),Mc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},s.get=function(f,v){return f?(f=Vc(this,f),f.length>0?String(f[0]):v):v};function Uo(f,v,w){Yd(f,v),w.length>0&&(f.i=null,f.g.set(ui(f,v),j(w)),f.h+=w.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var w=v[A];const G=bs(w);w=Vc(this,w);for(let ee=0;ee<w.length;ee++){let me=G;w[ee]!==""&&(me+="="+bs(w[ee])),f.push(me)}}return this.i=f.join("&")};function Jd(f){const v=new ci;return v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),v}function ui(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function $o(f,v){v&&!f.j&&(In(f),f.i=null,f.g.forEach(function(w,A){const G=A.toLowerCase();A!=G&&(Yd(this,A),Uo(this,G,w))},f)),f.j=v}function Nr(f,v){const w=new wr;if(d.Image){const A=new Image;A.onload=x(ar,w,"TestLoadImage: loaded",!0,v,A),A.onerror=x(ar,w,"TestLoadImage: error",!1,v,A),A.onabort=x(ar,w,"TestLoadImage: abort",!1,v,A),A.ontimeout=x(ar,w,"TestLoadImage: timeout",!1,v,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else v(!1)}function Pc(f,v){const w=new wr,A=new AbortController,G=setTimeout(()=>{A.abort(),ar(w,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:A.signal}).then(ee=>{clearTimeout(G),ee.ok?ar(w,"TestPingServer: ok",!0,v):ar(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),ar(w,"TestPingServer: error",!1,v)})}function ar(f,v,w,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(w)}catch{}}function di(){this.g=new Od}function Xr(f){this.i=f.Sb||null,this.h=f.ab||!1}b(Xr,Ld),Xr.prototype.g=function(){return new ja(this.i,this.h)};function ja(f,v){B.call(this),this.H=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ja,B),s=ja.prototype,s.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=v,this.readyState=1,Sr(this)},s.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(v.body=f),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},s.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function zo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}s.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?hi(this):Sr(this),this.readyState==3&&zo(this)}},s.Oa=function(f){this.g&&(this.response=this.responseText=f,hi(this))},s.Na=function(f){this.g&&(this.response=f,hi(this))},s.ga=function(){this.g&&hi(this)};function hi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Sr(f)}s.setRequestHeader=function(f,v){this.A.append(f,v)},s.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=v.next();return f.join(`\r
`)};function Sr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function or(f){let v="";return Qe(f,function(w,A){v+=A,v+=":",v+=w,v+=`\r
`}),v}function Ca(f,v,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=or(w),typeof f=="string"?w!=null&&bs(w):at(f,v,w))}function ht(f){B.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ht,B);var Wr=/^https?$/i,Oc=["POST","PUT"];s=ht.prototype,s.Fa=function(f){this.H=f},s.ea=function(f,v,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sc.g(),this.g.onreadystatechange=E(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ee){Ra(this,ee);return}if(f=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)w.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())w.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(ee=>ee.toLowerCase()=="content-type"),G=d.FormData&&f instanceof d.FormData,!(Array.prototype.indexOf.call(Oc,v,void 0)>=0)||A||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of w)this.g.setRequestHeader(ee,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){Ra(this,ee)}};function Ra(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.o=5,Lc(f),vs(f)}function Lc(f){f.A||(f.A=!0,se(f,"complete"),se(f,"error"))}s.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,se(this,"complete"),se(this,"abort"),vs(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vs(this,!0)),ht.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Da(this):this.Xa())},s.Xa=function(){Da(this)};function Da(f){if(f.h&&typeof c<"u"){if(f.v&&Ar(f)==4)setTimeout(f.Ca.bind(f),0);else if(se(f,"readystatechange"),Ar(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var A;if(A=ee===0){let me=String(f.D).match(Gd)[1]||null;!me&&d.self&&d.self.location&&(me=d.self.location.protocol.slice(0,-1)),A=!Wr.test(me?me.toLowerCase():"")}w=A}if(w)se(f,"complete"),se(f,"success");else{f.o=6;try{var G=Ar(f)>2?f.g.statusText:""}catch{G=""}f.l=G+" ["+f.ca()+"]",Lc(f)}}finally{vs(f)}}}}function vs(f,v){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,v||se(f,"ready");try{w.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ar(f){return f.g?f.g.readyState:0}s.ca=function(){try{return Ar(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),$m(v)}};function fn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function _s(f){const v={};f=(f.g&&Ar(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(k(f[A]))continue;var w=Fd(f[A]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ee=v[G]||[];v[G]=ee,ee.push(w)}tt(v,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(f,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||v}function fi(f){this.za=0,this.i=[],this.j=new wr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zr("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zr("baseRetryDelayMs",5e3,f),this.Za=Zr("retryDelaySeedMs",1e4,f),this.Ta=Zr("forwardChannelMaxRetries",2,f),this.va=Zr("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Ac(f&&f.concurrentRequestLimit),this.Ba=new di,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=fi.prototype,s.ka=8,s.I=1,s.connect=function(f,v,w,A){Ft(0),this.W=f,this.H=v||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.J=rh(this,null,this.W),es(this)};function Uc(f){if(Bo(f),f.I==3){var v=f.V++,w=Gt(f.J);if(at(w,"SID",f.M),at(w,"RID",v),at(w,"TYPE","terminate"),ka(f,w),v=new Er(f,f.j,v),v.M=2,v.A=Aa(Gt(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&d.Image&&(new Image().src=v.A,w=!0),w||(v.g=sh(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Hr(v)}nh(f)}function mi(f){f.g&&(zc(f),f.g.cancel(),f.g=null)}function Bo(f){mi(f),f.v&&(d.clearTimeout(f.v),f.v=null),qo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&d.clearTimeout(f.m),f.m=null)}function es(f){if(!Ic(f.h)&&!f.m){f.m=!0;var v=f.Ea;te||T(),re||(te(),re=!0),S.add(v,f),f.D=0}}function Fo(f,v){return Qr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=v.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Br(y(f.Ea,f,v),th(f,f.D)),f.D++,!0)}s.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const G=new Er(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=z(ee),ye(ee,this.U)):ee=this.U),this.u!==null||this.R||(G.J=ee,ee=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Xd(this,G,v),w=Gt(this.J),at(w,"RID",f),at(w,"CVER",22),this.G&&at(w,"X-HTTP-Session-Id",this.G),ka(this,w),ee&&(this.R?v="headers="+bs(or(ee))+"&"+v:this.u&&Ca(w,this.u,ee)),jc(this.h,G),this.Ra&&at(w,"TYPE","init"),this.S?(at(w,"$req",v),at(w,"SID","null"),G.U=!0,qr(G,w,null)):qr(G,w,v),this.I=2}}else this.I==3&&(f?$c(this,f):this.i.length==0||Ic(this.h)||$c(this))};function $c(f,v){var w;v?w=v.l:w=f.V++;const A=Gt(f.J);at(A,"SID",f.M),at(A,"RID",w),at(A,"AID",f.K),ka(f,A),f.u&&f.o&&Ca(A,f.u,f.o),w=new Er(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),v&&(f.i=v.G.concat(f.i)),v=Xd(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),jc(f.h,w),qr(w,A,v)}function ka(f,v){f.H&&Qe(f.H,function(w,A){at(v,A,w)}),f.l&&Qe({},function(w,A){at(v,A,w)})}function Xd(f,v,w){w=Math.min(f.i.length,w);const A=f.l?y(f.l.Ka,f.l,f):null;e:{var G=f.i;let Ve=-1;for(;;){const Lt=["count="+w];Ve==-1?w>0?(Ve=G[0].g,Lt.push("ofs="+Ve)):Ve=0:Lt.push("ofs="+Ve);let nt=!0;for(let At=0;At<w;At++){var ee=G[At].g;const lr=G[At].map;if(ee-=Ve,ee<0)Ve=Math.max(0,G[At].g-100),nt=!1;else try{ee="req"+ee+"_"||"";try{var me=lr instanceof Map?lr:Object.entries(lr);for(const[ns,Ir]of me){let jr=Ir;h(Ir)&&(jr=ai(Ir)),Lt.push(ee+ns+"="+encodeURIComponent(jr))}}catch(ns){throw Lt.push(ee+"type="+encodeURIComponent("_badmap")),ns}}catch{A&&A(lr)}}if(nt){me=Lt.join("&");break e}}me=void 0}return f=f.i.splice(0,w),v.G=f,me}function Wd(f){if(!f.g&&!f.v){f.Y=1;var v=f.Da;te||T(),re||(te(),re=!0),S.add(v,f),f.A=0}}function Ma(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Br(y(f.Da,f),th(f,f.A)),f.A++,!0)}s.Da=function(){if(this.v=null,Zd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Br(y(this.Wa,this),f)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ft(10),mi(this),Zd(this))};function zc(f){f.B!=null&&(d.clearTimeout(f.B),f.B=null)}function Zd(f){f.g=new Er(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var v=Gt(f.na);at(v,"RID","rpc"),at(v,"SID",f.M),at(v,"AID",f.K),at(v,"CI",f.F?"0":"1"),!f.F&&f.ia&&at(v,"TO",f.ia),at(v,"TYPE","xmlhttp"),ka(f,v),f.u&&f.o&&Ca(v,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=Aa(Gt(v)),w.u=null,w.R=!0,Vo(w,f)}s.Va=function(){this.C!=null&&(this.C=null,mi(this),Ma(this),Ft(19))};function qo(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function eh(f,v){var w=null;if(f.g==v){qo(f),zc(f),f.g=null;var A=2}else if(Yr(f.h,v))w=v.G,Cc(f.h,v),A=1;else return;if(f.I!=0){if(v.o)if(A==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var G=f.D;A=Mo(),se(A,new zr(A,w)),es(f)}else Wd(f);else if(G=v.m,G==3||G==0&&v.X>0||!(A==1&&Fo(f,v)||A==2&&Ma(f)))switch(w&&w.length>0&&(v=f.h,v.i=v.i.concat(w)),G){case 1:ts(f,5);break;case 4:ts(f,10);break;case 3:ts(f,6);break;default:ts(f,2)}}}function th(f,v){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*v}function ts(f,v){if(f.j.info("Error code "+v),v==2){var w=y(f.bb,f),A=f.Ua;const G=!A;A=new qn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||sn(A,"https"),Aa(A),G?Nr(A.toString(),w):Pc(A.toString(),w)}else Ft(2);f.I=0,f.l&&f.l.pa(v),nh(f),Bo(f)}s.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function nh(f){if(f.I=0,f.ja=[],f.l){const v=Rc(f.h);(v.length!=0||f.i.length!=0)&&(I(f.ja,v),I(f.ja,f.i),f.h.i.length=0,j(f.i),f.i.length=0),f.l.oa()}}function rh(f,v,w){var A=w instanceof qn?Gt(w):new qn(w);if(A.g!="")v&&(A.g=v+"."+A.g),oi(A,A.u);else{var G=d.location;A=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;const ee=new qn(null);A&&sn(ee,A),v&&(ee.g=v),G&&oi(ee,G),w&&(ee.h=w),A=ee}return w=f.G,v=f.wa,w&&v&&at(A,w,v),at(A,"VER",f.ka),ka(f,A),A}function sh(f,v,w){if(v&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Aa&&!f.ma?new ht(new Xr({ab:w})):new ht(f.ma),v.Fa(f.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ih(){}s=ih.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function gi(){}gi.prototype.g=function(f,v){return new Nn(f,v)};function Nn(f,v){B.call(this),this.g=new fi(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(f?f["X-WebChannel-Client-Profile"]=v.sa:f={"X-WebChannel-Client-Profile":v.sa}),this.g.U=f,(f=v&&v.Qb)&&!k(f)&&(this.g.u=f),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new ws(this)}b(Nn,B),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){Uc(this.g)},Nn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=ai(f),f=w);v.i.push(new Ht(v.Ya++,f)),v.I==3&&es(v)},Nn.prototype.N=function(){this.g.l=null,delete this.j,Uc(this.g),delete this.g,Nn.Z.N.call(this)};function ah(f){hn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const w in v){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}b(ah,hn);function oh(){sr.call(this),this.status=1}b(oh,sr);function ws(f){this.g=f}b(ws,ih),ws.prototype.ra=function(){se(this.g,"a")},ws.prototype.qa=function(f){se(this.g,new ah(f))},ws.prototype.pa=function(f){se(this.g,new oh)},ws.prototype.oa=function(){se(this.g,"b")},gi.prototype.createWebChannel=gi.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,lT=function(){return new gi},oT=function(){return Mo()},aT=Ot,mp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Na.NO_ERROR=0,Na.TIMEOUT=8,Na.HTTP_ERROR=6,Sf=Na,Nc.COMPLETE="complete",iT=Nc,Ud.EventType=_r,_r.OPEN="a",_r.CLOSE="b",_r.ERROR="c",_r.MESSAGE="d",B.prototype.listen=B.prototype.J,Vu=Ud,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,sT=ht}).apply(typeof ff<"u"?ff:typeof self<"u"?self:typeof window<"u"?window:{});let ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let dc="12.9.0";function rR(s){dc=s}const ea=new Hp("@firebase/firestore");function Al(){return ea.logLevel}function sR(s){ea.setLogLevel(s)}function de(s,...e){if(ea.logLevel<=Ge.DEBUG){const t=e.map(ry);ea.debug(`Firestore (${dc}): ${s}`,...t)}}function zt(s,...e){if(ea.logLevel<=Ge.ERROR){const t=e.map(ry);ea.error(`Firestore (${dc}): ${s}`,...t)}}function zn(s,...e){if(ea.logLevel<=Ge.WARN){const t=e.map(ry);ea.warn(`Firestore (${dc}): ${s}`,...t)}}function ry(s){if(typeof s=="string")return s;try{return(function(t){return JSON.stringify(t)})(s)}catch{return s}}function xe(s,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,cT(s,r,t)}function cT(s,e,t){let r=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zt(r),new Error(r)}function _e(s,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,s||cT(e,a,r)}function iR(s,e){s||xe(57014,e)}function ge(s,e){return s}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ws{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class uT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ln.UNAUTHENTICATED)))}shutdown(){}}class aR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class oR{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_e(this.o===void 0,42304);let r=this.i;const a=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let c=new dn;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new dn,e.enqueueRetryable((()=>a(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},h=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>h(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?h(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new dn)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new uT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class lR{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class cR{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new lR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_e(this.o===void 0,3512);const r=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const a=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(_e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new gp(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class dR{getToken(){return Promise.resolve(new gp(""))}invalidateToken(){}start(e,t){}shutdown(){}}function hR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<s;r++)t[r]=Math.floor(256*Math.random());return t}class hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=hR(40);for(let c=0;c<a.length;++c)r.length<20&&a[c]<t&&(r+=e.charAt(a[c]%62))}return r}}function je(s,e){return s<e?-1:s>e?1:0}function pp(s,e){const t=Math.min(s.length,e.length);for(let r=0;r<t;r++){const a=s.charAt(r),c=e.charAt(r);if(a!==c)return J0(a)===J0(c)?je(a,c):J0(a)?1:-1}return je(s.length,e.length)}const fR=55296,mR=57343;function J0(s){const e=s.charCodeAt(0);return e>=fR&&e<=mR}function Ul(s,e,t){return s.length===e.length&&s.every(((r,a)=>t(r,e[a])))}function hT(s){return s+"\0"}const yp="__name__";class os{constructor(e,t,r){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&xe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return os.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof os?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const c=os.compareSegments(e.get(a),t.get(a));if(c!==0)return c}return je(e.length,t.length)}static compareSegments(e,t){const r=os.isNumericId(e),a=os.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?os.extractNumericId(e).compare(os.extractNumericId(t)):pp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wi.fromString(e.substring(4,e.length-2))}}class Ue extends os{construct(e,t,r){return new Ue(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new Ue(t)}static emptyPath(){return new Ue([])}}const gR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends os{construct(e,t,r){return new St(e,t,r)}static isValidIdentifier(e){return gR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yp}static keyField(){return new St([yp])}static fromServerFormat(e){const t=[];let r="",a=0;const c=()=>{if(r.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,a+=2}else h==="`"?(d=!d,a++):h!=="."||d?(r+=h,a++):(c(),a++)}if(c(),d)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(t)}static emptyPath(){return new St([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Ue.fromString(e))}static fromName(e){return new fe(Ue.fromString(e).popFirst(5))}static empty(){return new fe(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ue.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Ue(e.slice()))}}function sy(s,e,t){if(!t)throw new le(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function fT(s,e,t,r){if(e===!0&&r===!0)throw new le(W.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Nw(s){if(!fe.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Sw(s){if(fe.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function mT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function fm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":xe(12329,{type:typeof s})}function $e(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fm(s);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function gT(s,e){if(e<=0)throw new le(W.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}function Wt(s,e){const t={typeString:s};return e&&(t.value=e),t}function Io(s,e){if(!mT(s))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){t=`JSON missing required field: '${r}'`;break}const d=s[r];if(a&&typeof d!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(c!==void 0&&d!==c.value){t=`Expected '${r}' field to equal '${c.value}'`;break}}if(t)throw new le(W.INVALID_ARGUMENT,t);return!0}const Aw=-62135596800,Iw=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Iw);return new it(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Aw)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iw}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Io(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Aw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Wt("string",it._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new it(0,0))}static max(){return new Ee(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;class zl{constructor(e,t,r,a){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=a}}function xp(s){return s.fields.find((e=>e.kind===2))}function Za(s){return s.fields.filter((e=>e.kind!==2))}function pR(s,e){let t=je(s.collectionGroup,e.collectionGroup);if(t!==0)return t;for(let r=0;r<Math.min(s.fields.length,e.fields.length);++r)if(t=yR(s.fields[r],e.fields[r]),t!==0)return t;return je(s.fields.length,e.fields.length)}zl.UNKNOWN_ID=-1;class lo{constructor(e,t){this.fieldPath=e,this.kind=t}}function yR(s,e){const t=St.comparator(s.fieldPath,e.fieldPath);return t!==0?t:je(s.kind,e.kind)}class Bl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Bl(0,nr.min())}}function pT(s,e){const t=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(r===1e9?new it(t+1,0):new it(t,r));return new nr(a,fe.empty(),e)}function yT(s){return new nr(s.readTime,s.key,$l)}class nr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new nr(Ee.min(),fe.empty(),$l)}static max(){return new nr(Ee.max(),fe.empty(),$l)}}function iy(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(s.documentKey,e.documentKey),t!==0?t:je(s.largestBatchId,e.largestBatchId))}const xT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ha(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==xT)throw s;de("LocalStore","Unexpectedly lost primary lease")}class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H(((r,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):H.reject(t)}static resolve(e){return new H(((t,r)=>{t(e)}))}static reject(e){return new H(((t,r)=>{r(e)}))}static waitFor(e){return new H(((t,r)=>{let a=0,c=0,d=!1;e.forEach((h=>{++a,h.next((()=>{++c,d&&c===a&&t()}),(g=>r(g)))})),d=!0,c===a&&t()}))}static or(e){let t=H.resolve(!1);for(const r of e)t=t.next((a=>a?H.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,c)=>{r.push(t.call(this,a,c))})),this.waitFor(r)}static mapArray(e,t){return new H(((r,a)=>{const c=e.length,d=new Array(c);let h=0;for(let g=0;g<c;g++){const y=g;t(e[y]).next((x=>{d[y]=x,++h,h===c&&r(d)}),(x=>a(x)))}}))}static doWhile(e,t){return new H(((r,a)=>{const c=()=>{e()===!0?t().next((()=>{c()}),a):r()};c()}))}}const Wn="SimpleDb";class mm{static open(e,t,r,a){try{return new mm(t,e.transaction(a,r))}catch(c){throw new zu(t,c)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new dn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new zu(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=ay(r.target.error);this.S.reject(new zu(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(de(Wn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bR(t)}}class hs{static delete(e){return de(Wn,"Removing database:",e),to(oE().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!gE())return!1;if(hs.F())return!0;const e=en(),t=hs.M(e),r=0<t&&t<10,a=vT(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,hs.M(en())===12.2&&zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(de(Wn,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=c=>{const d=c.target.result;t(d)},a.onblocked=()=>{r(new zu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const d=c.target.error;d.name==="VersionError"?r(new le(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):d.name==="InvalidStateError"?r(new le(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d)):r(new zu(e,d))},a.onupgradeneeded=c=>{de(Wn,'Database "'+this.name+'" requires upgrade from version:',c.oldVersion);const d=c.target.result;this.N.k(d,a.transaction,c.oldVersion,this.version).next((()=>{de(Wn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,a){const c=t==="readonly";let d=0;for(;;){++d;try{this.db=await this.L(e);const h=mm.open(this.db,e,c?"readonly":"readwrite",r),g=a(h).next((y=>(h.C(),y))).catch((y=>(h.abort(y),H.reject(y)))).toPromise();return g.catch((()=>{})),await h.D,g}catch(h){const g=h,y=g.name!=="FirebaseError"&&d<3;if(de(Wn,"Transaction failed with error:",g.message,"Retrying:",y),this.close(),!y)return Promise.reject(g)}}}close(){this.db&&this.db.close(),this.db=void 0}}function vT(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class xR{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return to(this.U.delete())}}class zu extends le{constructor(e,t){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fa(s){return s.name==="IndexedDbTransactionError"}class bR{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(de(Wn,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(de(Wn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),to(r)}add(e){return de(Wn,"ADD",this.store.name,e,e),to(this.store.add(e))}get(e){return to(this.store.get(e)).next((t=>(t===void 0&&(t=null),de(Wn,"GET",this.store.name,e,t),t)))}delete(e){return de(Wn,"DELETE",this.store.name,e),to(this.store.delete(e))}count(){return de(Wn,"COUNT",this.store.name),to(this.store.count())}H(e,t){const r=this.options(e,t),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const c=a.getAll(r.range);return new H(((d,h)=>{c.onerror=g=>{h(g.target.error)},c.onsuccess=g=>{d(g.target.result)}}))}{const c=this.cursor(r),d=[];return this.J(c,((h,g)=>{d.push(g)})).next((()=>d))}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new H(((a,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{a(d.target.result)}}))}X(e,t){de(Wn,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const a=this.cursor(r);return this.J(a,((c,d,h)=>h.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.J(a,t)}te(e){const t=this.cursor({});return new H(((r,a)=>{t.onerror=c=>{const d=ay(c.target.error);a(d)},t.onsuccess=c=>{const d=c.target.result;d?e(d.primaryKey,d.value).next((h=>{h?d.continue():r()})):r()}}))}J(e,t){const r=[];return new H(((a,c)=>{e.onerror=d=>{c(d.target.error)},e.onsuccess=d=>{const h=d.target.result;if(!h)return void a();const g=new xR(h),y=t(h.primaryKey,h.value,g);if(y instanceof H){const x=y.catch((b=>(g.done(),H.reject(b))));r.push(x)}g.isDone?a():g.G===null?h.continue():h.continue(g.G)}})).next((()=>H.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function to(s){return new H(((e,t)=>{s.onsuccess=r=>{const a=r.target.result;e(a)},s.onerror=r=>{const a=ay(r.target.error);t(a)}}))}let jw=!1;function ay(s){const e=hs.M(en());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(t)>=0){const r=new le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jw||(jw=!0,setTimeout((()=>{throw r}),0)),r}}return s}const Bu="IndexBackfiller";class vR{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){de(Bu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();de(Bu,`Documents written: ${t}`)}catch(t){fa(t)?de(Bu,"Ignoring IndexedDB error during index backfill: ",t):await ha(t)}await this.re(6e4)}))}}class _R{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let a=t,c=!0;return H.doWhile((()=>c===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((d=>{if(d!==null&&!r.has(d))return de(Bu,`Processing collection: ${d}`),this.oe(e,d,a).next((h=>{a-=h,r.add(d)}));c=!1})))).next((()=>t-a))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,r).next((c=>{const d=c.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next((()=>this._e(a,c))).next((h=>(de(Bu,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>d.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((a,c)=>{const d=yT(c);iy(d,r)>0&&(r=d)})),new nr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Vn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vn.ce=-1;const Zi=-1;function _d(s){return s==null}function ed(s){return s===0&&1/s==-1/0}function _T(s){return typeof s=="number"&&Number.isInteger(s)&&!ed(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Hf="";function En(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=Cw(e)),e=wR(s.get(t),e);return Cw(e)}function wR(s,e){let t=e;const r=s.length;for(let a=0;a<r;a++){const c=s.charAt(a);switch(c){case"\0":t+="";break;case Hf:t+="";break;default:t+=c}}return t}function Cw(s){return s+Hf+""}function cs(s){const e=s.length;if(_e(e>=2,64408,{path:s}),e===2)return _e(s.charAt(0)===Hf&&s.charAt(1)==="",56145,{path:s}),Ue.emptyPath();const t=e-2,r=[];let a="";for(let c=0;c<e;){const d=s.indexOf(Hf,c);switch((d<0||d>t)&&xe(50515,{path:s}),s.charAt(d+1)){case"":const h=s.substring(c,d);let g;a.length===0?g=h:(a+=h,g=a,a=""),r.push(g);break;case"":a+=s.substring(c,d),a+="\0";break;case"":a+=s.substring(c,d+1);break;default:xe(61167,{path:s})}c=d+2}return new Ue(r)}const eo="remoteDocuments",wd="owner",_l="owner",td="mutationQueues",ER="userId",kr="mutations",Rw="batchId",oo="userMutationsIndex",Dw=["userId","batchId"];function Af(s,e){return[s,En(e)]}function wT(s,e,t){return[s,En(e),t]}const TR={},Fl="documentMutations",Gf="remoteDocumentsV14",NR=["prefixPath","collectionGroup","readTime","documentId"],If="documentKeyIndex",SR=["prefixPath","collectionGroup","documentId"],ET="collectionGroupIndex",AR=["collectionGroup","readTime","prefixPath","documentId"],nd="remoteDocumentGlobal",bp="remoteDocumentGlobalKey",ql="targets",TT="queryTargetsIndex",IR=["canonicalId","targetId"],Hl="targetDocuments",jR=["targetId","path"],oy="documentTargetsIndex",CR=["path","targetId"],Kf="targetGlobalKey",co="targetGlobal",rd="collectionParents",RR=["collectionId","parent"],Gl="clientMetadata",DR="clientId",gm="bundles",kR="bundleId",pm="namedQueries",MR="name",ly="indexConfiguration",VR="indexId",vp="collectionGroupIndex",PR="collectionGroup",Fu="indexState",OR=["indexId","uid"],NT="sequenceNumberIndex",LR=["uid","sequenceNumber"],qu="indexEntries",UR=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ST="documentKeyIndex",$R=["indexId","uid","orderedDocumentKey"],ym="documentOverlays",zR=["userId","collectionPath","documentId"],_p="collectionPathOverlayIndex",BR=["userId","collectionPath","largestBatchId"],AT="collectionGroupOverlayIndex",FR=["userId","collectionGroup","largestBatchId"],cy="globals",qR="name",IT=[td,kr,Fl,eo,ql,wd,co,Hl,Gl,nd,rd,gm,pm],HR=[...IT,ym],jT=[td,kr,Fl,Gf,ql,wd,co,Hl,Gl,nd,rd,gm,pm,ym],CT=jT,uy=[...CT,ly,Fu,qu],GR=uy,RT=[...uy,cy],KR=RT;class wp extends bT{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function nn(s,e){const t=ge(s);return hs.O(t.le,e)}function kw(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function ma(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function DT(s,e){const t=[];for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.push(e(s[r],r,s));return t}function kT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class _t{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mf(this.root,e,this.comparator,!0)}}class mf{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,t,r,a,c){this.key=e,this.value=t,this.color=r??xn.RED,this.left=a??xn.EMPTY,this.right=c??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,c){return new xn(e??this.key,t??this.value,r??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const c=r(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,r),null):c===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return xn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,r,a,c){return this}insert(e,t,r){return new xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mw(this.data.getIterator())}getIteratorFrom(e){return new Mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new dt(this.comparator);return t.data=e,t}}class Mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wl(s){return s.hasNext()?s.getNext():void 0}class Pn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new Pn([])}unionWith(e){let t=new dt(St.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ul(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class MT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function QR(){return typeof atob<"u"}class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new MT("Invalid base64 string: "+c):c}})(e);return new kt(t)}static fromUint8Array(e){const t=(function(a){let c="";for(let d=0;d<a.length;++d)c+=String.fromCharCode(a[d]);return c})(e);return new kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const YR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(s){if(_e(!!s,39018),typeof s=="string"){let e=0;const t=YR.exec(s);if(_e(!!t,46558,{timestamp:s}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(s.seconds),nanos:jt(s.nanos)}}function jt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Js(s){return typeof s=="string"?kt.fromBase64String(s):kt.fromUint8Array(s)}const VT="server_timestamp",PT="__type__",OT="__previous_value__",LT="__local_write_time__";function xm(s){return(s?.mapValue?.fields||{})[PT]?.stringValue===VT}function bm(s){const e=s.mapValue.fields[OT];return xm(e)?bm(e):e}function sd(s){const e=Ys(s.mapValue.fields[LT].timestampValue);return new it(e.seconds,e.nanos)}class JR{constructor(e,t,r,a,c,d,h,g,y,x,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=h,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x,this.apiKey=b}}const id="(default)";class ta{constructor(e,t){this.projectId=e,this.database=t||id}static empty(){return new ta("","")}get isDefaultDatabase(){return this.database===id}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}function XR(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(s.options.projectId,e)}const dy="__type__",UT="__max__",Ki={mapValue:{fields:{__type__:{stringValue:UT}}}},hy="__vector__",Kl="value",jf={nullValue:"NULL_VALUE"};function na(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?xm(s)?4:$T(s)?9007199254740991:vm(s)?10:11:xe(28295,{value:s})}function gs(s,e){if(s===e)return!0;const t=na(s);if(t!==na(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return sd(s).isEqual(sd(e));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const d=Ys(a.timestampValue),h=Ys(c.timestampValue);return d.seconds===h.seconds&&d.nanos===h.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(a,c){return Js(a.bytesValue).isEqual(Js(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(a,c){return jt(a.geoPointValue.latitude)===jt(c.geoPointValue.latitude)&&jt(a.geoPointValue.longitude)===jt(c.geoPointValue.longitude)})(s,e);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return jt(a.integerValue)===jt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const d=jt(a.doubleValue),h=jt(c.doubleValue);return d===h?ed(d)===ed(h):isNaN(d)&&isNaN(h)}return!1})(s,e);case 9:return Ul(s.arrayValue.values||[],e.arrayValue.values||[],gs);case 10:case 11:return(function(a,c){const d=a.mapValue.fields||{},h=c.mapValue.fields||{};if(kw(d)!==kw(h))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(h[g]===void 0||!gs(d[g],h[g])))return!1;return!0})(s,e);default:return xe(52216,{left:s})}}function ad(s,e){return(s.values||[]).find((t=>gs(t,e)))!==void 0}function ra(s,e){if(s===e)return 0;const t=na(s),r=na(e);if(t!==r)return je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const h=jt(c.integerValue||c.doubleValue),g=jt(d.integerValue||d.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1})(s,e);case 3:return Vw(s.timestampValue,e.timestampValue);case 4:return Vw(sd(s),sd(e));case 5:return pp(s.stringValue,e.stringValue);case 6:return(function(c,d){const h=Js(c),g=Js(d);return h.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const h=c.split("/"),g=d.split("/");for(let y=0;y<h.length&&y<g.length;y++){const x=je(h[y],g[y]);if(x!==0)return x}return je(h.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const h=je(jt(c.latitude),jt(d.latitude));return h!==0?h:je(jt(c.longitude),jt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Pw(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const h=c.fields||{},g=d.fields||{},y=h[Kl]?.arrayValue,x=g[Kl]?.arrayValue,b=je(y?.values?.length||0,x?.values?.length||0);return b!==0?b:Pw(y,x)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Ki.mapValue&&d===Ki.mapValue)return 0;if(c===Ki.mapValue)return 1;if(d===Ki.mapValue)return-1;const h=c.fields||{},g=Object.keys(h),y=d.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let b=0;b<g.length&&b<x.length;++b){const E=pp(g[b],x[b]);if(E!==0)return E;const j=ra(h[g[b]],y[x[b]]);if(j!==0)return j}return je(g.length,x.length)})(s.mapValue,e.mapValue);default:throw xe(23264,{he:t})}}function Vw(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return je(s,e);const t=Ys(s),r=Ys(e),a=je(t.seconds,r.seconds);return a!==0?a:je(t.nanos,r.nanos)}function Pw(s,e){const t=s.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const c=ra(t[a],r[a]);if(c)return c}return je(t.length,r.length)}function Ql(s){return Ep(s)}function Ep(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(t){const r=Ys(t);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(t){return Js(t).toBase64()})(s.bytesValue):"referenceValue"in s?(function(t){return fe.fromName(t).toString()})(s.referenceValue):"geoPointValue"in s?(function(t){return`geo(${t.latitude},${t.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(t){let r="[",a=!0;for(const c of t.values||[])a?a=!1:r+=",",r+=Ep(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",c=!0;for(const d of r)c?c=!1:a+=",",a+=`${d}:${Ep(t.fields[d])}`;return a+"}"})(s.mapValue):xe(61005,{value:s})}function Cf(s){switch(na(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bm(s);return e?16+Cf(e):16;case 5:return 2*s.stringValue.length;case 6:return Js(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,c)=>a+Cf(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let a=0;return ma(r.fields,((c,d)=>{a+=c.length+Cf(d)})),a})(s.mapValue);default:throw xe(13486,{value:s})}}function go(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Tp(s){return!!s&&"integerValue"in s}function od(s){return!!s&&"arrayValue"in s}function Ow(s){return!!s&&"nullValue"in s}function Lw(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Rf(s){return!!s&&"mapValue"in s}function vm(s){return(s?.mapValue?.fields||{})[dy]?.stringValue===hy}function Hu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ma(s.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Hu(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hu(s.arrayValue.values[t]);return e}return{...s}}function $T(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===UT}const zT={mapValue:{fields:{[dy]:{stringValue:hy},[Kl]:{arrayValue:{}}}}};function WR(s){return"nullValue"in s?jf:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?go(ta.empty(),fe.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?vm(s)?zT:{mapValue:{}}:xe(35942,{value:s})}function ZR(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?go(ta.empty(),fe.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?zT:"mapValue"in s?vm(s)?{mapValue:{}}:Ki:xe(61959,{value:s})}function Uw(s,e){const t=ra(s.value,e.value);return t!==0?t:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function $w(s,e){const t=ra(s.value,e.value);return t!==0?t:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Rf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(t)}setAll(e){let t=St.emptyPath(),r={},a=[];e.forEach(((d,h)=>{if(!t.isImmediateParentOf(h)){const g=this.getFieldsMap(t);this.applyChanges(g,r,a),r={},a=[],t=h.popLast()}d?r[h.lastSegment()]=Hu(d):a.push(h.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,r,a)}delete(e){const t=this.field(e.popLast());Rf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Rf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ma(t,((a,c)=>e[a]=c));for(const a of r)delete e[a]}clone(){return new cn(Hu(this.value))}}function BT(s){const e=[];return ma(s.fields,((t,r)=>{const a=new St([t]);if(Rf(r)){const c=BT(r.mapValue).fields;if(c.length===0)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)})),new Pn(e)}class Nt{constructor(e,t,r,a,c,d,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=c,this.data=d,this.documentState=h}static newInvalidDocument(e){return new Nt(e,0,Ee.min(),Ee.min(),Ee.min(),cn.empty(),0)}static newFoundDocument(e,t,r,a){return new Nt(e,1,t,Ee.min(),r,a,0)}static newNoDocument(e,t){return new Nt(e,2,t,Ee.min(),Ee.min(),cn.empty(),0)}static newUnknownDocument(e,t){return new Nt(e,3,t,Ee.min(),Ee.min(),cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sa{constructor(e,t){this.position=e,this.inclusive=t}}function zw(s,e,t){let r=0;for(let a=0;a<s.position.length;a++){const c=e[a],d=s.position[a];if(c.field.isKeyField()?r=fe.comparator(fe.fromName(d.referenceValue),t.key):r=ra(d,t.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bw(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!gs(s.position[t],e.position[t]))return!1;return!0}class ld{constructor(e,t="asc"){this.field=e,this.dir=t}}function e5(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class FT{}class Ke extends FT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new t5(e,t,r):t==="array-contains"?new s5(e,r):t==="in"?new YT(e,r):t==="not-in"?new i5(e,r):t==="array-contains-any"?new a5(e,r):new Ke(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new n5(e,r):new r5(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ra(t,this.value)):t!==null&&na(this.value)===na(t)&&this.matchesComparison(ra(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ct extends FT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ct(e,t)}matches(e){return Yl(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Yl(s){return s.op==="and"}function Np(s){return s.op==="or"}function fy(s){return qT(s)&&Yl(s)}function qT(s){for(const e of s.filters)if(e instanceof ct)return!1;return!0}function Sp(s){if(s instanceof Ke)return s.field.canonicalString()+s.op.toString()+Ql(s.value);if(fy(s))return s.filters.map((e=>Sp(e))).join(",");{const e=s.filters.map((t=>Sp(t))).join(",");return`${s.op}(${e})`}}function HT(s,e){return s instanceof Ke?(function(r,a){return a instanceof Ke&&r.op===a.op&&r.field.isEqual(a.field)&&gs(r.value,a.value)})(s,e):s instanceof ct?(function(r,a){return a instanceof ct&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((c,d,h)=>c&&HT(d,a.filters[h])),!0):!1})(s,e):void xe(19439)}function GT(s,e){const t=s.filters.concat(e);return ct.create(t,s.op)}function KT(s){return s instanceof Ke?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ql(t.value)}`})(s):s instanceof ct?(function(t){return t.op.toString()+" {"+t.getFilters().map(KT).join(" ,")+"}"})(s):"Filter"}class t5 extends Ke{constructor(e,t,r){super(e,t,r),this.key=fe.fromName(r.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class n5 extends Ke{constructor(e,t){super(e,"in",t),this.keys=QT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class r5 extends Ke{constructor(e,t){super(e,"not-in",t),this.keys=QT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function QT(s,e){return(e.arrayValue?.values||[]).map((t=>fe.fromName(t.referenceValue)))}class s5 extends Ke{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return od(t)&&ad(t.arrayValue,this.value)}}class YT extends Ke{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ad(this.value.arrayValue,t)}}class i5 extends Ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ad(this.value.arrayValue,t)}}class a5 extends Ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!od(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>ad(this.value.arrayValue,r)))}}class o5{constructor(e,t=null,r=[],a=[],c=null,d=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=c,this.startAt=d,this.endAt=h,this.Te=null}}function Ap(s,e=null,t=[],r=[],a=null,c=null,d=null){return new o5(s,e,t,r,a,c,d)}function po(s){const e=ge(s);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Sp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),_d(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Ql(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Ql(r))).join(",")),e.Te=t}return e.Te}function Ed(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!e5(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!HT(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Bw(s.startAt,e.startAt)&&Bw(s.endAt,e.endAt)}function Qf(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Yf(s,e){return s.filters.filter((t=>t instanceof Ke&&t.field.isEqual(e)))}function Fw(s,e,t){let r=jf,a=!0;for(const c of Yf(s,e)){let d=jf,h=!0;switch(c.op){case"<":case"<=":d=WR(c.value);break;case"==":case"in":case">=":d=c.value;break;case">":d=c.value,h=!1;break;case"!=":case"not-in":d=jf}Uw({value:r,inclusive:a},{value:d,inclusive:h})<0&&(r=d,a=h)}if(t!==null){for(let c=0;c<s.orderBy.length;++c)if(s.orderBy[c].field.isEqual(e)){const d=t.position[c];Uw({value:r,inclusive:a},{value:d,inclusive:t.inclusive})<0&&(r=d,a=t.inclusive);break}}return{value:r,inclusive:a}}function qw(s,e,t){let r=Ki,a=!0;for(const c of Yf(s,e)){let d=Ki,h=!0;switch(c.op){case">=":case">":d=ZR(c.value),h=!1;break;case"==":case"in":case"<=":d=c.value;break;case"<":d=c.value,h=!1;break;case"!=":case"not-in":d=Ki}$w({value:r,inclusive:a},{value:d,inclusive:h})>0&&(r=d,a=h)}if(t!==null){for(let c=0;c<s.orderBy.length;++c)if(s.orderBy[c].field.isEqual(e)){const d=t.position[c];$w({value:r,inclusive:a},{value:d,inclusive:t.inclusive})>0&&(r=d,a=t.inclusive);break}}return{value:r,inclusive:a}}class Zs{constructor(e,t=null,r=[],a=[],c=null,d="F",h=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=c,this.limitType=d,this.startAt=h,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function JT(s,e,t,r,a,c,d,h){return new Zs(s,e,t,r,a,c,d,h)}function hc(s){return new Zs(s)}function Hw(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function l5(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function my(s){return s.collectionGroup!==null}function Ml(s){const e=ge(s);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let h=new dt(St.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(h=h.add(y.field))}))})),h})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ld(c,r))})),t.has(St.keyField().canonicalString())||e.Ie.push(new ld(St.keyField(),r))}return e.Ie}function Tn(s){const e=ge(s);return e.Ee||(e.Ee=WT(e,Ml(s))),e.Ee}function XT(s){const e=ge(s);return e.Re||(e.Re=WT(e,s.explicitOrderBy)),e.Re}function WT(s,e){if(s.limitType==="F")return Ap(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new ld(a.field,c)}));const t=s.endAt?new sa(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new sa(s.startAt.position,s.startAt.inclusive):null;return Ap(s.path,s.collectionGroup,e,s.filters,s.limit,t,r)}}function Ip(s,e){const t=s.filters.concat([e]);return new Zs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function c5(s,e){const t=s.explicitOrderBy.concat([e]);return new Zs(s.path,s.collectionGroup,t,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Jf(s,e,t){return new Zs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function u5(s,e){return new Zs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,e,s.endAt)}function d5(s,e){return new Zs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,e)}function Td(s,e){return Ed(Tn(s),Tn(e))&&s.limitType===e.limitType}function ZT(s){return`${po(Tn(s))}|lt:${s.limitType}`}function Il(s){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>KT(a))).join(", ")}]`),_d(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Ql(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Ql(a))).join(",")),`Target(${r})`})(Tn(s))}; limitType=${s.limitType})`}function Nd(s,e){return e.isFoundDocument()&&(function(r,a){const c=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):fe.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,a){for(const c of Ml(r))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,a){for(const c of r.filters)if(!c.matches(a))return!1;return!0})(s,e)&&(function(r,a){return!(r.startAt&&!(function(d,h,g){const y=zw(d,h,g);return d.inclusive?y<=0:y<0})(r.startAt,Ml(r),a)||r.endAt&&!(function(d,h,g){const y=zw(d,h,g);return d.inclusive?y>=0:y>0})(r.endAt,Ml(r),a))})(s,e)}function eN(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function tN(s){return(e,t)=>{let r=!1;for(const a of Ml(s)){const c=h5(a,e,t);if(c!==0)return c;r=r||a.field.isKeyField()}return 0}}function h5(s,e,t){const r=s.field.isKeyField()?fe.comparator(e.key,t.key):(function(c,d,h){const g=d.data.field(c),y=h.data.field(c);return g!==null&&y!==null?ra(g,y):xe(42886)})(s.field,e,t);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:s.dir})}}class ei{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,c]of r)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,((t,r)=>{for(const[a,c]of r)e(a,c)}))}isEmpty(){return kT(this.inner)}size(){return this.innerSize}}const f5=new _t(fe.comparator);function On(){return f5}const nN=new _t(fe.comparator);function Pu(...s){let e=nN;for(const t of s)e=e.insert(t.key,t);return e}function rN(s){let e=nN;return s.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function us(){return Gu()}function sN(){return Gu()}function Gu(){return new ei((s=>s.toString()),((s,e)=>s.isEqual(e)))}const m5=new _t(fe.comparator),g5=new dt(fe.comparator);function Me(...s){let e=g5;for(const t of s)e=e.add(t);return e}const p5=new dt(je);function gy(){return p5}function py(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(e)?"-0":e}}function iN(s){return{integerValue:""+s}}function aN(s,e){return _T(e)?iN(e):py(s,e)}class _m{constructor(){this._=void 0}}function y5(s,e,t){return s instanceof Jl?(function(a,c){const d={fields:{[PT]:{stringValue:VT},[LT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&xm(c)&&(c=bm(c)),c&&(d.fields[OT]=c),{mapValue:d}})(t,e):s instanceof yo?lN(s,e):s instanceof xo?cN(s,e):(function(a,c){const d=oN(a,c),h=Gw(d)+Gw(a.Ae);return Tp(d)&&Tp(a.Ae)?iN(h):py(a.serializer,h)})(s,e)}function x5(s,e,t){return s instanceof yo?lN(s,e):s instanceof xo?cN(s,e):t}function oN(s,e){return s instanceof Xl?(function(r){return Tp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Jl extends _m{}class yo extends _m{constructor(e){super(),this.elements=e}}function lN(s,e){const t=uN(e);for(const r of s.elements)t.some((a=>gs(a,r)))||t.push(r);return{arrayValue:{values:t}}}class xo extends _m{constructor(e){super(),this.elements=e}}function cN(s,e){let t=uN(e);for(const r of s.elements)t=t.filter((a=>!gs(a,r)));return{arrayValue:{values:t}}}class Xl extends _m{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Gw(s){return jt(s.integerValue||s.doubleValue)}function uN(s){return od(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Sd{constructor(e,t){this.field=e,this.transform=t}}function b5(s,e){return s.field.isEqual(e.field)&&(function(r,a){return r instanceof yo&&a instanceof yo||r instanceof xo&&a instanceof xo?Ul(r.elements,a.elements,gs):r instanceof Xl&&a instanceof Xl?gs(r.Ae,a.Ae):r instanceof Jl&&a instanceof Jl})(s.transform,e.transform)}class v5{constructor(e,t){this.version=e,this.transformResults=t}}class Ct{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ct}static exists(e){return new Ct(void 0,e)}static updateTime(e){return new Ct(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Df(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class wm{}function dN(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new mc(s.key,Ct.none()):new fc(s.key,s.data,Ct.none());{const t=s.data,r=cn.empty();let a=new dt(St.comparator);for(let c of e.fields)if(!a.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?r.delete(c):r.set(c,d),a=a.add(c)}return new ti(s.key,r,new Pn(a.toArray()),Ct.none())}}function _5(s,e,t){s instanceof fc?(function(a,c,d){const h=a.value.clone(),g=Qw(a.fieldTransforms,c,d.transformResults);h.setAll(g),c.convertToFoundDocument(d.version,h).setHasCommittedMutations()})(s,e,t):s instanceof ti?(function(a,c,d){if(!Df(a.precondition,c))return void c.convertToUnknownDocument(d.version);const h=Qw(a.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(hN(a)),g.setAll(h),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,t):(function(a,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function Ku(s,e,t,r){return s instanceof fc?(function(c,d,h,g){if(!Df(c.precondition,d))return h;const y=c.value.clone(),x=Yw(c.fieldTransforms,g,d);return y.setAll(x),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,t,r):s instanceof ti?(function(c,d,h,g){if(!Df(c.precondition,d))return h;const y=Yw(c.fieldTransforms,g,d),x=d.data;return x.setAll(hN(c)),x.setAll(y),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),h===null?null:h.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,e,t,r):(function(c,d,h){return Df(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):h})(s,e,t)}function w5(s,e){let t=null;for(const r of s.fieldTransforms){const a=e.data.field(r.field),c=oN(r.transform,a||null);c!=null&&(t===null&&(t=cn.empty()),t.set(r.field,c))}return t||null}function Kw(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ul(r,a,((c,d)=>b5(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class fc extends wm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ti extends wm{constructor(e,t,r,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hN(s){const e=new Map;return s.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=s.data.field(t);e.set(t,r)}})),e}function Qw(s,e,t){const r=new Map;_e(s.length===t.length,32656,{Ve:t.length,de:s.length});for(let a=0;a<t.length;a++){const c=s[a],d=c.transform,h=e.data.field(c.field);r.set(c.field,x5(d,h,t[a]))}return r}function Yw(s,e,t){const r=new Map;for(const a of s){const c=a.transform,d=t.data.field(a.field);r.set(a.field,y5(c,d,e))}return r}class mc extends wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yy extends wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xy{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&_5(c,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ku(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ku(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=sN();return this.mutations.forEach((a=>{const c=e.get(a.key),d=c.overlayedDocument;let h=this.applyToLocalView(d,c.mutatedFields);h=t.has(a.key)?null:h;const g=dN(d,h);g!==null&&r.set(a.key,g),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Me())}isEqual(e){return this.batchId===e.batchId&&Ul(this.mutations,e.mutations,((t,r)=>Kw(t,r)))&&Ul(this.baseMutations,e.baseMutations,((t,r)=>Kw(t,r)))}}class by{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){_e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return m5})();const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,r[d].version);return new by(e,t,r,a)}}class vy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class fN{constructor(e,t,r){this.alias=e,this.aggregateType=t,this.fieldPath=r}}class E5{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xt,Xe;function mN(s){switch(s){case W.OK:return xe(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return xe(15467,{code:s})}}function gN(s){if(s===void 0)return zt("GRPC error has no .code"),W.UNKNOWN;switch(s){case Xt.OK:return W.OK;case Xt.CANCELLED:return W.CANCELLED;case Xt.UNKNOWN:return W.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return W.INTERNAL;case Xt.UNAVAILABLE:return W.UNAVAILABLE;case Xt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Xt.NOT_FOUND:return W.NOT_FOUND;case Xt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Xt.ABORTED:return W.ABORTED;case Xt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Xt.DATA_LOSS:return W.DATA_LOSS;default:return xe(39323,{code:s})}}(Xe=Xt||(Xt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";let jp=null;function T5(s){if(jp)throw new Error("a TestingHooksSpi instance is already set");jp=s}function pN(){return new TextEncoder}const N5=new Wi([4294967295,4294967295],0);function Jw(s){const e=pN().encode(s),t=new rT;return t.update(e),new Uint8Array(t.digest())}function Xw(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Wi([t,r],0),new Wi([a,c],0)]}class _y{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ou(`Invalid padding: ${t}`);if(r<0)throw new Ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Wi.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Wi.fromNumber(r)));return a.compare(N5)===1&&(a=new Wi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Jw(e),[r,a]=Xw(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,a,c);if(!this.we(d))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new _y(c,a,t);return r.forEach((h=>d.insert(h))),d}insert(e){if(this.ge===0)return;const t=Jw(e),[r,a]=Xw(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,a,c);this.be(d)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ad{constructor(e,t,r,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Id.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ad(Ee.min(),a,new _t(je),On(),Me())}}class Id{constructor(e,t,r,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Id(r,t,Me(),Me(),Me())}}class kf{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=a}}class yN{constructor(e,t){this.targetId=e,this.Ce=t}}class xN{constructor(e,t,r=kt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Ww{constructor(){this.ve=0,this.Fe=Zw(),this.Me=kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),t=Me(),r=Me();return this.Fe.forEach(((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:xe(38017,{changeType:c})}})),new Id(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=Zw()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class S5{constructor(e){this.Ge=e,this.ze=new Map,this.je=On(),this.He=gf(),this.Je=gf(),this.Ze=new _t(je)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const c=a.target;if(Qf(c))if(r===0){const d=new fe(c.path);this.et(t,d,Nt.newNoDocument(d,Ee.min()))}else _e(r===1,20013,{expectedCount:r});else{const d=this._t(t);if(d!==r){const h=this.ut(e),g=h?this.ct(h,e,d):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,y)}jp?.lt((function(x,b,E,j,I){const R={localCacheCount:x,existenceFilterCount:b.count,databaseId:E.database,projectId:E.projectId},V=b.unchangedNames;return V&&(R.bloomFilter={applied:I===0,hashCount:V?.hashCount??0,bitmapLength:V?.bits?.bitmap?.length??0,padding:V?.bits?.padding??0,mightContain:O=>j?.mightContain(O)??!1}),R})(d,e.Ce,this.Ge.ht(),h,g))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:c=0}=t;let d,h;try{d=Js(r).toUint8Array()}catch(g){if(g instanceof MT)return zn("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{h=new _y(d,a,c)}catch(g){return zn(g instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((c=>{const d=this.Ge.ht(),h=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(h)||(this.et(t,c,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((c,d)=>{const h=this.ot(d);if(h){if(c.current&&Qf(h.target)){const g=new fe(h.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Nt.newNoDocument(g,e))}c.Be&&(t.set(d,c.ke()),c.Ke())}}));let r=Me();this.Je.forEach(((c,d)=>{let h=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const a=new Ad(e,t,this.Ze,this.je,r);return this.je=On(),this.He=gf(),this.Je=gf(),this.Ze=new _t(je),a}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Ww,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new dt(je),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new dt(je),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ww),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function gf(){return new _t(fe.comparator)}function Zw(){return new _t(fe.comparator)}const A5={asc:"ASCENDING",desc:"DESCENDING"},I5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j5={and:"AND",or:"OR"};class C5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cp(s,e){return s.useProto3Json||_d(e)?e:{value:e}}function Wl(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bN(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function R5(s,e){return Wl(s,e.toTimestamp())}function Bt(s){return _e(!!s,49232),Ee.fromTimestamp((function(t){const r=Ys(t);return new it(r.seconds,r.nanos)})(s))}function wy(s,e){return Rp(s,e).canonicalString()}function Rp(s,e){const t=(function(a){return new Ue(["projects",a.projectId,"databases",a.database])})(s).child("documents");return e===void 0?t:t.child(e)}function vN(s){const e=Ue.fromString(s);return _e(jN(e),10190,{key:e.toString()}),e}function cd(s,e){return wy(s.databaseId,e.path)}function fs(s,e){const t=vN(e);if(t.get(1)!==s.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new fe(EN(t))}function _N(s,e){return wy(s.databaseId,e)}function wN(s){const e=vN(s);return e.length===4?Ue.emptyPath():EN(e)}function Dp(s){return new Ue(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function EN(s){return _e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function e1(s,e,t){return{name:cd(s,e),fields:t.value.mapValue.fields}}function Em(s,e,t){const r=fs(s,e.name),a=Bt(e.updateTime),c=e.createTime?Bt(e.createTime):Ee.min(),d=new cn({mapValue:{fields:e.fields}}),h=Nt.newFoundDocument(r,a,c,d);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function D5(s,e){return"found"in e?(function(r,a){_e(!!a.found,43571),a.found.name,a.found.updateTime;const c=fs(r,a.found.name),d=Bt(a.found.updateTime),h=a.found.createTime?Bt(a.found.createTime):Ee.min(),g=new cn({mapValue:{fields:a.found.fields}});return Nt.newFoundDocument(c,d,h,g)})(s,e):"missing"in e?(function(r,a){_e(!!a.missing,3894),_e(!!a.readTime,22933);const c=fs(r,a.missing),d=Bt(a.readTime);return Nt.newNoDocument(c,d)})(s,e):xe(7234,{result:e})}function k5(s,e){let t;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:xe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=(function(y,x){return y.useProto3Json?(_e(x===void 0||typeof x=="string",58123),kt.fromBase64String(x||"")):(_e(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),kt.fromUint8Array(x||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,h=d&&(function(y){const x=y.code===void 0?W.UNKNOWN:gN(y.code);return new le(x,y.message||"")})(d);t=new xN(r,a,c,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=fs(s,r.document.name),c=Bt(r.document.updateTime),d=r.document.createTime?Bt(r.document.createTime):Ee.min(),h=new cn({mapValue:{fields:r.document.fields}}),g=Nt.newFoundDocument(a,c,d,h),y=r.targetIds||[],x=r.removedTargetIds||[];t=new kf(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=fs(s,r.document),c=r.readTime?Bt(r.readTime):Ee.min(),d=Nt.newNoDocument(a,c),h=r.removedTargetIds||[];t=new kf([],h,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=fs(s,r.document),c=r.removedTargetIds||[];t=new kf([],c,a,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:c}=r,d=new E5(a,c),h=r.targetId;t=new yN(h,d)}}return t}function ud(s,e){let t;if(e instanceof fc)t={update:e1(s,e.key,e.value)};else if(e instanceof mc)t={delete:cd(s,e.key)};else if(e instanceof ti)t={update:e1(s,e.key,e.data),updateMask:U5(e.fieldMask)};else{if(!(e instanceof yy))return xe(16599,{dt:e.type});t={verify:cd(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const h=d.transform;if(h instanceof Jl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof yo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof xo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Xl)return{fieldPath:d.field.canonicalString(),increment:h.Ae};throw xe(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:R5(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xe(27497)})(s,e.precondition)),t}function kp(s,e){const t=e.currentDocument?(function(c){return c.updateTime!==void 0?Ct.updateTime(Bt(c.updateTime)):c.exists!==void 0?Ct.exists(c.exists):Ct.none()})(e.currentDocument):Ct.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(d,h){let g=null;if("setToServerValue"in h)_e(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),g=new Jl;else if("appendMissingElements"in h){const x=h.appendMissingElements.values||[];g=new yo(x)}else if("removeAllFromArray"in h){const x=h.removeAllFromArray.values||[];g=new xo(x)}else"increment"in h?g=new Xl(d,h.increment):xe(16584,{proto:h});const y=St.fromServerFormat(h.fieldPath);return new Sd(y,g)})(s,a))):[];if(e.update){e.update.name;const a=fs(s,e.update.name),c=new cn({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=(function(g){const y=g.fieldPaths||[];return new Pn(y.map((x=>St.fromServerFormat(x))))})(e.updateMask);return new ti(a,c,d,t,r)}return new fc(a,c,t,r)}if(e.delete){const a=fs(s,e.delete);return new mc(a,t)}if(e.verify){const a=fs(s,e.verify);return new yy(a,t)}return xe(1463,{proto:e})}function M5(s,e){return s&&s.length>0?(_e(e!==void 0,14353),s.map((t=>(function(a,c){let d=a.updateTime?Bt(a.updateTime):Bt(c);return d.isEqual(Ee.min())&&(d=Bt(c)),new v5(d,a.transformResults||[])})(t,e)))):[]}function TN(s,e){return{documents:[_N(s,e.path)]}}function Tm(s,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_N(s,a);const c=(function(y){if(y.length!==0)return IN(ct.create(y,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((x=>(function(E){return{field:Hi(E.field),direction:P5(E.dir)}})(x)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const h=Cp(s,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:a}}function NN(s,e,t,r){const{ft:a,parent:c}=Tm(s,e),d={},h=[];let g=0;return t.forEach((y=>{const x=r?y.alias:"aggregate_"+g++;d[x]=y.alias,y.aggregateType==="count"?h.push({alias:x,count:{}}):y.aggregateType==="avg"?h.push({alias:x,avg:{field:Hi(y.fieldPath)}}):y.aggregateType==="sum"&&h.push({alias:x,sum:{field:Hi(y.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:h,structuredQuery:a.structuredQuery},parent:a.parent},gt:d,parent:c}}function SN(s){let e=wN(s.parent);const t=s.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){_e(r===1,65062);const x=t.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let c=[];t.where&&(c=(function(b){const E=AN(b);return E instanceof ct&&fy(E)?E.getFilters():[E]})(t.where));let d=[];t.orderBy&&(d=(function(b){return b.map((E=>(function(I){return new ld(jl(I.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(E)))})(t.orderBy));let h=null;t.limit&&(h=(function(b){let E;return E=typeof b=="object"?b.value:b,_d(E)?null:E})(t.limit));let g=null;t.startAt&&(g=(function(b){const E=!!b.before,j=b.values||[];return new sa(j,E)})(t.startAt));let y=null;return t.endAt&&(y=(function(b){const E=!b.before,j=b.values||[];return new sa(j,E)})(t.endAt)),JT(e,a,d,c,h,"F",g,y)}function V5(s,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AN(s){return s.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=jl(t.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=jl(t.unaryFilter.field);return Ke.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=jl(t.unaryFilter.field);return Ke.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=jl(t.unaryFilter.field);return Ke.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(s):s.fieldFilter!==void 0?(function(t){return Ke.create(jl(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(t){return ct.create(t.compositeFilter.filters.map((r=>AN(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(t.compositeFilter.op))})(s):xe(30097,{filter:s})}function P5(s){return A5[s]}function O5(s){return I5[s]}function L5(s){return j5[s]}function Hi(s){return{fieldPath:s.canonicalString()}}function jl(s){return St.fromServerFormat(s.fieldPath)}function IN(s){return s instanceof Ke?(function(t){if(t.op==="=="){if(Lw(t.value))return{unaryFilter:{field:Hi(t.field),op:"IS_NAN"}};if(Ow(t.value))return{unaryFilter:{field:Hi(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Lw(t.value))return{unaryFilter:{field:Hi(t.field),op:"IS_NOT_NAN"}};if(Ow(t.value))return{unaryFilter:{field:Hi(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hi(t.field),op:O5(t.op),value:t.value}}})(s):s instanceof ct?(function(t){const r=t.getFilters().map((a=>IN(a)));return r.length===1?r[0]:{compositeFilter:{op:L5(t.op),filters:r}}})(s):xe(54877,{filter:s})}function U5(s){const e=[];return s.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function jN(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function CN(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Fs{constructor(e,t,r,a,c=Ee.min(),d=Ee.min(),h=kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=h,this.expectedCount=g}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RN{constructor(e){this.yt=e}}function $5(s,e){let t;if(e.document)t=Em(s.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=fe.fromSegments(e.noDocument.path),a=vo(e.noDocument.readTime);t=Nt.newNoDocument(r,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return xe(56709);{const r=fe.fromSegments(e.unknownDocument.path),a=vo(e.unknownDocument.version);t=Nt.newUnknownDocument(r,a)}}return e.readTime&&t.setReadTime((function(a){const c=new it(a[0],a[1]);return Ee.fromTimestamp(c)})(e.readTime)),t}function t1(s,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Xf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(c,d){return{name:cd(c,d.key),fields:d.data.value.mapValue.fields,updateTime:Wl(c,d.version.toTimestamp()),createTime:Wl(c,d.createTime.toTimestamp())}})(s.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:bo(e.version)};else{if(!e.isUnknownDocument())return xe(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:bo(e.version)}}return r}function Xf(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function bo(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vo(s){const e=new it(s.seconds,s.nanoseconds);return Ee.fromTimestamp(e)}function no(s,e){const t=(e.baseMutations||[]).map((c=>kp(s.yt,c)));for(let c=0;c<e.mutations.length-1;++c){const d=e.mutations[c];if(c+1<e.mutations.length&&e.mutations[c+1].transform!==void 0){const h=e.mutations[c+1];d.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(c+1,1),++c}}const r=e.mutations.map((c=>kp(s.yt,c))),a=it.fromMillis(e.localWriteTimeMs);return new xy(e.batchId,a,t,r)}function Lu(s){const e=vo(s.readTime),t=s.lastLimboFreeSnapshotVersion!==void 0?vo(s.lastLimboFreeSnapshotVersion):Ee.min();let r;return r=(function(c){return c.documents!==void 0})(s.query)?(function(c){const d=c.documents.length;return _e(d===1,1966,{count:d}),Tn(hc(wN(c.documents[0])))})(s.query):(function(c){return Tn(SN(c))})(s.query),new Fs(r,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,e,t,kt.fromBase64String(s.resumeToken))}function DN(s,e){const t=bo(e.snapshotVersion),r=bo(e.lastLimboFreeSnapshotVersion);let a;a=Qf(e.target)?TN(s.yt,e.target):Tm(s.yt,e.target).ft;const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:po(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function Nm(s){const e=SN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Jf(e,e.limit,"L"):e}function X0(s,e){return new vy(e.largestBatchId,kp(s.yt,e.overlayMutation))}function n1(s,e){const t=e.path.lastSegment();return[s,En(e.path.popLast()),t]}function r1(s,e,t,r){return{indexId:s,uid:e,sequenceNumber:t,readTime:bo(r.readTime),documentKey:En(r.documentKey.path),largestBatchId:r.largestBatchId}}class z5{getBundleMetadata(e,t){return s1(e).get(t).next((r=>{if(r)return(function(c){return{id:c.bundleId,createTime:vo(c.createTime),version:c.version}})(r)}))}saveBundleMetadata(e,t){return s1(e).put((function(a){return{bundleId:a.id,createTime:bo(Bt(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return i1(e).get(t).next((r=>{if(r)return(function(c){return{name:c.name,query:Nm(c.bundledQuery),readTime:vo(c.readTime)}})(r)}))}saveNamedQuery(e,t){return i1(e).put((function(a){return{name:a.name,readTime:bo(Bt(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function s1(s){return nn(s,gm)}function i1(s){return nn(s,pm)}class Sm{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new Sm(e,r)}getOverlay(e,t){return Su(e).get(n1(this.userId,t)).next((r=>r?X0(this.serializer,r):null))}getOverlays(e,t){const r=us();return H.forEach(t,(a=>this.getOverlay(e,a).next((c=>{c!==null&&r.set(a,c)})))).next((()=>r))}saveOverlays(e,t,r){const a=[];return r.forEach(((c,d)=>{const h=new vy(t,d);a.push(this.bt(e,h))})),H.waitFor(a)}removeOverlaysForBatchId(e,t,r){const a=new Set;t.forEach((d=>a.add(En(d.getCollectionPath()))));const c=[];return a.forEach((d=>{const h=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);c.push(Su(e).X(_p,h))})),H.waitFor(c)}getOverlaysForCollection(e,t,r){const a=us(),c=En(t),d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Su(e).H(_p,d).next((h=>{for(const g of h){const y=X0(this.serializer,g);a.set(y.getKey(),y)}return a}))}getOverlaysForCollectionGroup(e,t,r,a){const c=us();let d;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Su(e).ee({index:AT,range:h},((g,y,x)=>{const b=X0(this.serializer,y);c.size()<a||b.largestBatchId===d?(c.set(b.getKey(),b),d=b.largestBatchId):x.done()})).next((()=>c))}bt(e,t){return Su(e).put((function(a,c,d){const[h,g,y]=n1(c,d.mutation.key);return{userId:c,collectionPath:g,documentId:y,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:ud(a.yt,d.mutation)}})(this.serializer,this.userId,t))}}function Su(s){return nn(s,ym)}class B5{St(e){return nn(e,cy)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const r=t?.value;return r?kt.fromUint8Array(r):kt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class ro{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(jt(e.integerValue));else if("doubleValue"in e){const r=jt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),ed(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Ys(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Js(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?$T(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):vm(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):xe(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const r=e.fields||{};this.Ft(t,55);for(const a of Object.keys(r))this.Ot(a,t),this.Ct(r[a],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const a=Kl,c=r[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(jt(c)),this.Ot(a,t),this.Ct(r[a],t)}qt(e,t){const r=e.values||[];this.Ft(t,50);for(const a of r)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),fe.fromName(e).path.forEach((r=>{this.Ft(t,60),this.$t(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}ro.Wt=new ro;const El=255;function F5(s){if(s===0)return 8;let e=0;return s>>4||(e+=4,s<<=4),s>>6||(e+=2,s<<=2),s>>7||(e+=1),e}function a1(s){const e=64-(function(r){let a=0;for(let c=0;c<8;++c){const d=F5(255&r[c]);if(a+=d,d!==8)break}return a})(s);return Math.ceil(e/8)}class q5{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const a=t.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(e){const t=this.en(e),r=a1(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),r=a1(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(El),this.sn(255)}_n(){this.an(El),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(c){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,c,!1),new Uint8Array(d.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let a=1;a<t.length;++a)t[a]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===El?(this.sn(El),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===El?(this.an(El),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class H5{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class G5{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Au{constructor(){this.cn=new q5,this.ascending=new H5(this.cn),this.descending=new G5(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class so{constructor(e,t,r,a){this.hn=e,this.Pn=t,this.Tn=r,this.In=a}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new so(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:Mf(this.Tn),directionalValue:Mf(this.In),orderedDocumentKey:Mf(t),documentKey:r.path.toArray()}}An(e,t,r){const a=this.Rn(e,t,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Ui(s,e){let t=s.hn-e.hn;return t!==0?t:(t=o1(s.Tn,e.Tn),t!==0?t:(t=o1(s.In,e.In),t!==0?t:fe.comparator(s.Pn,e.Pn)))}function o1(s,e){for(let t=0;t<s.length&&t<e.length;++t){const r=s[t]-e[t];if(r!==0)return r}return s.length-e.length}function Mf(s){return mE()?(function(t){let r="";for(let a=0;a<t.length;a++)r+=String.fromCharCode(t[a]);return r})(s):s}function l1(s){return typeof s!="string"?s:(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(s)}class c1{constructor(e){this.Vn=new dt(((t,r)=>St.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(_e(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=xp(e);if(t!==void 0&&!this.pn(t))return!1;const r=Za(e);let a=new Set,c=0,d=0;for(;c<r.length&&this.pn(r[c]);++c)a=a.add(r[c].fieldPath.canonicalString());if(c===r.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const g=r[c];if(!this.yn(h,g)||!this.wn(this.dn[d++],g))return!1}++c}for(;c<r.length;++c){const h=r[c];if(d>=this.dn.length||!this.wn(this.dn[d++],h))return!1}return!0}bn(){if(this.fn)return null;let e=new dt(St.comparator);const t=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new lo(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new lo(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new lo(r.field,r.dir==="asc"?0:1)));return new zl(zl.UNKNOWN_ID,this.collectionId,t,Bl.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function kN(s){if(_e(s instanceof Ke||s instanceof ct,20012),s instanceof Ke){if(s instanceof YT){const t=s.value.arrayValue?.values?.map((r=>Ke.create(s.field,"==",r)))||[];return ct.create(t,"or")}return s}const e=s.filters.map((t=>kN(t)));return ct.create(e,s.op)}function K5(s){if(s.getFilters().length===0)return[];const e=Pp(kN(s));return _e(MN(e),7391),Mp(e)||Vp(e)?[e]:e.getFilters()}function Mp(s){return s instanceof Ke}function Vp(s){return s instanceof ct&&fy(s)}function MN(s){return Mp(s)||Vp(s)||(function(t){if(t instanceof ct&&Np(t)){for(const r of t.getFilters())if(!Mp(r)&&!Vp(r))return!1;return!0}return!1})(s)}function Pp(s){if(_e(s instanceof Ke||s instanceof ct,34018),s instanceof Ke)return s;if(s.filters.length===1)return Pp(s.filters[0]);const e=s.filters.map((r=>Pp(r)));let t=ct.create(e,s.op);return t=Wf(t),MN(t)?t:(_e(t instanceof ct,64498),_e(Yl(t),40251),_e(t.filters.length>1,57927),t.filters.reduce(((r,a)=>Ey(r,a))))}function Ey(s,e){let t;return _e(s instanceof Ke||s instanceof ct,38388),_e(e instanceof Ke||e instanceof ct,25473),t=s instanceof Ke?e instanceof Ke?(function(a,c){return ct.create([a,c],"and")})(s,e):u1(s,e):e instanceof Ke?u1(e,s):(function(a,c){if(_e(a.filters.length>0&&c.filters.length>0,48005),Yl(a)&&Yl(c))return GT(a,c.getFilters());const d=Np(a)?a:c,h=Np(a)?c:a,g=d.filters.map((y=>Ey(y,h)));return ct.create(g,"or")})(s,e),Wf(t)}function u1(s,e){if(Yl(e))return GT(e,s.getFilters());{const t=e.filters.map((r=>Ey(s,r)));return ct.create(t,"or")}}function Wf(s){if(_e(s instanceof Ke||s instanceof ct,11850),s instanceof Ke)return s;const e=s.getFilters();if(e.length===1)return Wf(e[0]);if(qT(s))return s;const t=e.map((a=>Wf(a))),r=[];return t.forEach((a=>{a instanceof Ke?r.push(a):a instanceof ct&&(a.op===s.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:ct.create(r,s.op)}class Q5{constructor(){this.Sn=new Ty}addToCollectionParentIndex(e,t){return this.Sn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(nr.min())}updateCollectionGroup(e,t,r){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class Ty{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new dt(Ue.comparator),c=!a.has(r);return this.index[t]=a.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new dt(Ue.comparator)).toArray()}}const d1="IndexedDbIndexManager",pf=new Uint8Array(0);class Y5{constructor(e,t){this.databaseId=t,this.Dn=new Ty,this.Cn=new ei((r=>po(r)),((r,a)=>Ed(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const c={collectionId:r,parent:En(a)};return h1(e).put(c)}return H.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[hT(t),""],!1,!0);return h1(e).H(a).next((c=>{for(const d of c){if(d.collectionId!==t)break;r.push(cs(d.parent))}return r}))}addFieldIndex(e,t){const r=Iu(e),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((g=>[g.fieldPath.canonicalString(),g.kind]))}})(t);delete a.indexId;const c=r.add(a);if(t.indexState){const d=Nl(e);return c.next((h=>{d.put(r1(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return c.next()}deleteFieldIndex(e,t){const r=Iu(e),a=Nl(e),c=Tl(e);return r.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Iu(e),r=Tl(e),a=Nl(e);return t.X().next((()=>r.X())).next((()=>a.X()))}createTargetIndexes(e,t){return H.forEach(this.vn(t),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const c=new c1(r).bn();if(c!=null)return this.addFieldIndex(e,c)}}))))}getDocumentsMatchingTarget(e,t){const r=Tl(e);let a=!0;const c=new Map;return H.forEach(this.vn(t),(d=>this.Fn(e,d).next((h=>{a&&(a=!!h),c.set(d,h)})))).next((()=>{if(a){let d=Me();const h=[];return H.forEach(c,((g,y)=>{de(d1,`Using index ${(function(q){return`id=${q.indexId}|cg=${q.collectionGroup}|f=${q.fields.map((J=>`${J.fieldPath}:${J.kind}`)).join(",")}`})(g)} to execute ${po(t)}`);const x=(function(q,J){const te=xp(J);if(te===void 0)return null;for(const re of Yf(q,te.fieldPath))switch(re.op){case"array-contains-any":return re.value.arrayValue.values||[];case"array-contains":return[re.value]}return null})(y,g),b=(function(q,J){const te=new Map;for(const re of Za(J))for(const S of Yf(q,re.fieldPath))switch(S.op){case"==":case"in":te.set(re.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return te.set(re.fieldPath.canonicalString(),S.value),Array.from(te.values())}return null})(y,g),E=(function(q,J){const te=[];let re=!0;for(const S of Za(J)){const T=S.kind===0?Fw(q,S.fieldPath,q.startAt):qw(q,S.fieldPath,q.startAt);te.push(T.value),re&&(re=T.inclusive)}return new sa(te,re)})(y,g),j=(function(q,J){const te=[];let re=!0;for(const S of Za(J)){const T=S.kind===0?qw(q,S.fieldPath,q.endAt):Fw(q,S.fieldPath,q.endAt);te.push(T.value),re&&(re=T.inclusive)}return new sa(te,re)})(y,g),I=this.Mn(g,y,E),R=this.Mn(g,y,j),V=this.xn(g,y,b),O=this.On(g.indexId,x,I,E.inclusive,R,j.inclusive,V);return H.forEach(O,(Q=>r.Z(Q,t.limit).next((q=>{q.forEach((J=>{const te=fe.fromSegments(J.documentKey);d.has(te)||(d=d.add(te),h.push(te))}))}))))})).next((()=>h))}return H.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=K5(ct.create(e.filters,"and")).map((r=>Ap(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,r,a,c,d,h){const g=(t!=null?t.length:1)*Math.max(r.length,c.length),y=g/(t!=null?t.length:1),x=[];for(let b=0;b<g;++b){const E=t?this.Nn(t[b/y]):pf,j=this.Bn(e,E,r[b%y],a),I=this.Ln(e,E,c[b%y],d),R=h.map((V=>this.Bn(e,E,V,!0)));x.push(...this.createRange(j,I,R))}return x}Bn(e,t,r,a){const c=new so(e,fe.empty(),t,r);return a?c:c.En()}Ln(e,t,r,a){const c=new so(e,fe.empty(),t,r);return a?c.En():c}Fn(e,t){const r=new c1(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((c=>{let d=null;for(const h of c)r.gn(h)&&(!d||h.fields.length>d.fields.length)&&(d=h);return d}))}getIndexType(e,t){let r=2;const a=this.vn(t);return H.forEach(a,(c=>this.Fn(e,c).next((d=>{d?r!==0&&d.fields.length<(function(g){let y=new dt(St.comparator),x=!1;for(const b of g.filters)for(const E of b.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?x=!0:y=y.add(E.field));for(const b of g.orderBy)b.field.isKeyField()||(y=y.add(b.field));return y.size+(x?1:0)})(c)&&(r=1):r=0})))).next((()=>(function(d){return d.limit!==null})(t)&&a.length>1&&r===2?1:r))}kn(e,t){const r=new Au;for(const a of Za(e)){const c=t.data.field(a.fieldPath);if(c==null)return null;const d=r.ln(a.kind);ro.Wt.Dt(c,d)}return r.un()}Nn(e){const t=new Au;return ro.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const r=new Au;return ro.Wt.Dt(go(this.databaseId,t),r.ln((function(c){const d=Za(c);return d.length===0?0:d[d.length-1].kind})(e))),r.un()}xn(e,t,r){if(r===null)return[];let a=[];a.push(new Au);let c=0;for(const d of Za(e)){const h=r[c++];for(const g of a)if(this.qn(t,d.fieldPath)&&od(h))a=this.Un(a,d,h);else{const y=g.ln(d.kind);ro.Wt.Dt(h,y)}}return this.$n(a)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){const a=[...e],c=[];for(const d of r.arrayValue.values||[])for(const h of a){const g=new Au;g.seed(h.un()),ro.Wt.Dt(d,g.ln(t.kind)),c.push(g)}return c}qn(e,t){return!!e.filters.find((r=>r instanceof Ke&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Iu(e),a=Nl(e);return(t?r.H(vp,IDBKeyRange.bound(t,t)):r.H()).next((c=>{const d=[];return H.forEach(c,(h=>a.get([h.indexId,this.uid]).next((g=>{d.push((function(x,b){const E=b?new Bl(b.sequenceNumber,new nr(vo(b.readTime),new fe(cs(b.documentKey)),b.largestBatchId)):Bl.empty(),j=x.fields.map((([I,R])=>new lo(St.fromServerFormat(I),R)));return new zl(x.indexId,x.collectionGroup,j,E)})(h,g))})))).next((()=>d))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,a)=>{const c=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return c!==0?c:je(r.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const a=Iu(e),c=Nl(e);return this.Wn(e).next((d=>a.H(vp,IDBKeyRange.bound(t,t)).next((h=>H.forEach(h,(g=>c.put(r1(g.indexId,this.uid,d,r))))))))}updateIndexEntries(e,t){const r=new Map;return H.forEach(t,((a,c)=>{const d=r.get(a.collectionGroup);return(d?H.resolve(d):this.getFieldIndexes(e,a.collectionGroup)).next((h=>(r.set(a.collectionGroup,h),H.forEach(h,(g=>this.Qn(e,a,g).next((y=>{const x=this.Gn(c,g);return y.isEqual(x)?H.resolve():this.zn(e,c,g,y,x)})))))))}))}jn(e,t,r,a){return Tl(e).put(a.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,a){return Tl(e).delete(a.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){const a=Tl(e);let c=new dt(Ui);return a.ee({index:ST,range:IDBKeyRange.only([r.indexId,this.uid,Mf(this.Kn(r,t))])},((d,h)=>{c=c.add(new so(r.indexId,t,l1(h.arrayValue),l1(h.directionalValue)))})).next((()=>c))}Gn(e,t){let r=new dt(Ui);const a=this.kn(t,e);if(a==null)return r;const c=xp(t);if(c!=null){const d=e.data.field(c.fieldPath);if(od(d))for(const h of d.arrayValue.values||[])r=r.add(new so(t.indexId,e.key,this.Nn(h),a))}else r=r.add(new so(t.indexId,e.key,pf,a));return r}zn(e,t,r,a,c){de(d1,"Updating index entries for document '%s'",t.key);const d=[];return(function(g,y,x,b,E){const j=g.getIterator(),I=y.getIterator();let R=wl(j),V=wl(I);for(;R||V;){let O=!1,Q=!1;if(R&&V){const q=x(R,V);q<0?Q=!0:q>0&&(O=!0)}else R!=null?Q=!0:O=!0;O?(b(V),V=wl(I)):Q?(E(R),R=wl(j)):(R=wl(j),V=wl(I))}})(a,c,Ui,(h=>{d.push(this.jn(e,t,r,h))}),(h=>{d.push(this.Hn(e,t,r,h))})),H.waitFor(d)}Wn(e){let t=1;return Nl(e).ee({index:NT,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,c)=>{c.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((d,h)=>Ui(d,h))).filter(((d,h,g)=>!h||Ui(d,g[h-1])!==0));const a=[];a.push(e);for(const d of r){const h=Ui(d,e),g=Ui(d,t);if(h===0)a[0]=e.En();else if(h>0&&g<0)a.push(d),a.push(d.En());else if(g>0)break}a.push(t);const c=[];for(let d=0;d<a.length;d+=2){if(this.Jn(a[d],a[d+1]))return[];const h=a[d].An(this.uid,pf,fe.empty()),g=a[d+1].An(this.uid,pf,fe.empty());c.push(IDBKeyRange.bound(h,g))}return c}Jn(e,t){return Ui(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(f1)}getMinOffset(e,t){return H.mapArray(this.vn(t),(r=>this.Fn(e,r).next((a=>a||xe(44426))))).next(f1)}}function h1(s){return nn(s,rd)}function Tl(s){return nn(s,qu)}function Iu(s){return nn(s,ly)}function Nl(s){return nn(s,Fu)}function f1(s){_e(s.length!==0,28825);let e=s[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<s.length;r++){const a=s[r].indexState.offset;iy(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new nr(e.readTime,e.documentKey,t)}const m1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VN=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}function PN(s,e,t){const r=s.store(kr),a=s.store(Fl),c=[],d=IDBKeyRange.only(t.batchId);let h=0;const g=r.ee({range:d},((x,b,E)=>(h++,E.delete())));c.push(g.next((()=>{_e(h===1,47070,{batchId:t.batchId})})));const y=[];for(const x of t.mutations){const b=wT(e,x.key.path,t.batchId);c.push(a.delete(b)),y.push(x.key)}return H.waitFor(c).next((()=>y))}function Zf(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw xe(14731);e=s.noDocument}return JSON.stringify(e).length}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(VN,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Am{constructor(e,t,r,a){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=a,this.Zn={}}static wt(e,t,r,a){_e(e.uid!=="",64387);const c=e.isAuthenticated()?e.uid:"";return new Am(c,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $i(e).ee({index:oo,range:r},((a,c,d)=>{t=!1,d.done()})).next((()=>t))}addMutationBatch(e,t,r,a){const c=Cl(e),d=$i(e);return d.add({}).next((h=>{_e(typeof h=="number",49019);const g=new xy(h,t,r,a),y=(function(j,I,R){const V=R.baseMutations.map((Q=>ud(j.yt,Q))),O=R.mutations.map((Q=>ud(j.yt,Q)));return{userId:I,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:V,mutations:O}})(this.serializer,this.userId,g),x=[];let b=new dt(((E,j)=>je(E.canonicalString(),j.canonicalString())));for(const E of a){const j=wT(this.userId,E.key.path,h);b=b.add(E.key.path.popLast()),x.push(d.put(y)),x.push(c.put(j,TR))}return b.forEach((E=>{x.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Zn[h]=g.keys()})),H.waitFor(x).next((()=>g))}))}lookupMutationBatch(e,t){return $i(e).get(t).next((r=>r?(_e(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),no(this.serializer,r)):null))}Xn(e,t){return this.Zn[t]?H.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const a=r.keys();return this.Zn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return $i(e).ee({index:oo,range:a},((d,h,g)=>{h.userId===this.userId&&(_e(h.batchId>=r,47524,{Yn:r}),c=no(this.serializer,h)),g.done()})).next((()=>c))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Zi;return $i(e).ee({index:oo,range:t,reverse:!0},((a,c,d)=>{r=c.batchId,d.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Zi],[this.userId,Number.POSITIVE_INFINITY]);return $i(e).H(oo,t).next((r=>r.map((a=>no(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Af(this.userId,t.path),a=IDBKeyRange.lowerBound(r),c=[];return Cl(e).ee({range:a},((d,h,g)=>{const[y,x,b]=d,E=cs(x);if(y===this.userId&&t.path.isEqual(E))return $i(e).get(b).next((j=>{if(!j)throw xe(61480,{er:d,batchId:b});_e(j.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:j.userId,batchId:b}),c.push(no(this.serializer,j))}));g.done()})).next((()=>c))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dt(je);const a=[];return t.forEach((c=>{const d=Af(this.userId,c.path),h=IDBKeyRange.lowerBound(d),g=Cl(e).ee({range:h},((y,x,b)=>{const[E,j,I]=y,R=cs(j);E===this.userId&&c.path.isEqual(R)?r=r.add(I):b.done()}));a.push(g)})),H.waitFor(a).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,c=Af(this.userId,r),d=IDBKeyRange.lowerBound(c);let h=new dt(je);return Cl(e).ee({range:d},((g,y,x)=>{const[b,E,j]=g,I=cs(E);b===this.userId&&r.isPrefixOf(I)?I.length===a&&(h=h.add(j)):x.done()})).next((()=>this.tr(e,h)))}tr(e,t){const r=[],a=[];return t.forEach((c=>{a.push($i(e).get(c).next((d=>{if(d===null)throw xe(35274,{batchId:c});_e(d.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:d.userId,batchId:c}),r.push(no(this.serializer,d))})))})),H.waitFor(a).next((()=>r))}removeMutationBatch(e,t){return PN(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),H.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return H.resolve();const r=IDBKeyRange.lowerBound((function(d){return[d]})(this.userId)),a=[];return Cl(e).ee({range:r},((c,d,h)=>{if(c[0]===this.userId){const g=cs(c[1]);a.push(g)}else h.done()})).next((()=>{_e(a.length===0,56720,{rr:a.map((c=>c.canonicalString()))})}))}))}containsKey(e,t){return ON(e,this.userId,t)}ir(e){return LN(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Zi,lastStreamToken:""}))}}function ON(s,e,t){const r=Af(e,t.path),a=r[1],c=IDBKeyRange.lowerBound(r);let d=!1;return Cl(s).ee({range:c,Y:!0},((h,g,y)=>{const[x,b,E]=h;x===e&&b===a&&(d=!0),y.done()})).next((()=>d))}function $i(s){return nn(s,kr)}function Cl(s){return nn(s,Fl)}function LN(s){return nn(s,td)}class _o{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _o(0)}static ar(){return new _o(-1)}}class J5{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const r=new _o(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>Ee.fromTimestamp(new it(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.ur(e).next((a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.cr(e,a))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Sl(e).delete(t.targetId))).next((()=>this.ur(e))).next((r=>(_e(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,t,r){let a=0;const c=[];return Sl(e).ee(((d,h)=>{const g=Lu(h);g.sequenceNumber<=t&&r.get(g.targetId)===null&&(a++,c.push(this.removeTargetData(e,g)))})).next((()=>H.waitFor(c))).next((()=>a))}forEachTarget(e,t){return Sl(e).ee(((r,a)=>{const c=Lu(a);t(c)}))}ur(e){return g1(e).get(Kf).next((t=>(_e(t!==null,2888),t)))}cr(e,t){return g1(e).put(Kf,t)}lr(e,t){return Sl(e).put(DN(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const r=po(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Sl(e).ee({range:a,index:TT},((d,h,g)=>{const y=Lu(h);Ed(t,y.target)&&(c=y,g.done())})).next((()=>c))}addMatchingKeys(e,t,r){const a=[],c=Gi(e);return t.forEach((d=>{const h=En(d.path);a.push(c.put({targetId:r,path:h})),a.push(this.referenceDelegate.addReference(e,r,d))})),H.waitFor(a)}removeMatchingKeys(e,t,r){const a=Gi(e);return H.forEach(t,(c=>{const d=En(c.path);return H.waitFor([a.delete([r,d]),this.referenceDelegate.removeReference(e,r,c)])}))}removeMatchingKeysForTargetId(e,t){const r=Gi(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Gi(e);let c=Me();return a.ee({range:r,Y:!0},((d,h,g)=>{const y=cs(d[1]),x=new fe(y);c=c.add(x)})).next((()=>c))}containsKey(e,t){const r=En(t.path),a=IDBKeyRange.bound([r],[hT(r)],!1,!0);let c=0;return Gi(e).ee({index:oy,Y:!0,range:a},(([d,h],g,y)=>{d!==0&&(c++,y.done())})).next((()=>c>0))}At(e,t){return Sl(e).get(t).next((r=>r?Lu(r):null))}}function Sl(s){return nn(s,ql)}function g1(s){return nn(s,co)}function Gi(s){return nn(s,Hl)}const p1="LruGarbageCollector",UN=1048576;function y1([s,e],[t,r]){const a=je(s,t);return a===0?je(e,r):a}class X5{constructor(e){this.Pr=e,this.buffer=new dt(y1),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();y1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $N{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(p1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fa(t)?de(p1,"Ignoring IndexedDB error during garbage collection: ",t):await ha(t)}await this.Ar(3e5)}))}}class W5{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return H.resolve(Vn.ce);const r=new X5(t);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(m1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m1):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,a,c,d,h,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,d=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(r=b,h=Date.now(),this.removeTargets(e,r,t)))).next((b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(y=Date.now(),Al()<=Ge.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${a} in `+(h-d)+`ms
	Removed ${c} targets in `+(g-h)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:b}))))}}function zN(s,e){return new W5(s,e)}class Z5{constructor(e,t){this.db=e,this.garbageCollector=zN(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((r,a)=>t(a)))}addReference(e,t,r){return yf(e,r)}removeReference(e,t,r){return yf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return yf(e,t)}wr(e,t){return(function(a,c){let d=!1;return LN(a).te((h=>ON(a,h,c).next((g=>(g&&(d=!0),H.resolve(!g)))))).next((()=>d))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.yr(e,((d,h)=>{if(h<=t){const g=this.wr(e,d).next((y=>{if(!y)return c++,r.getEntry(e,d).next((()=>(r.removeEntry(d,Ee.min()),Gi(e).delete((function(b){return[0,En(b.path)]})(d)))))}));a.push(g)}})).next((()=>H.waitFor(a))).next((()=>r.apply(e))).next((()=>c))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return yf(e,t)}yr(e,t){const r=Gi(e);let a,c=Vn.ce;return r.ee({index:oy},(([d,h],{path:g,sequenceNumber:y})=>{d===0?(c!==Vn.ce&&t(new fe(cs(a)),c),c=y,a=g):c=Vn.ce})).next((()=>{c!==Vn.ce&&t(new fe(cs(a)),c)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yf(s,e){return Gi(s).put((function(r,a){return{targetId:0,path:En(r.path),sequenceNumber:a}})(e,s.currentSequenceNumber))}class BN{constructor(){this.changes=new ei((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?H.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eD{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Xa(e).put(r)}removeEntry(e,t,r){return Xa(e).delete((function(c,d){const h=c.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Xf(d),h[h.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.br(e,r))))}getEntry(e,t){let r=Nt.newInvalidDocument(t);return Xa(e).ee({index:If,range:IDBKeyRange.only(ju(t))},((a,c)=>{r=this.Sr(t,c)})).next((()=>r))}Dr(e,t){let r={size:0,document:Nt.newInvalidDocument(t)};return Xa(e).ee({index:If,range:IDBKeyRange.only(ju(t))},((a,c)=>{r={document:this.Sr(t,c),size:Zf(c)}})).next((()=>r))}getEntries(e,t){let r=On();return this.Cr(e,t,((a,c)=>{const d=this.Sr(a,c);r=r.insert(a,d)})).next((()=>r))}vr(e,t){let r=On(),a=new _t(fe.comparator);return this.Cr(e,t,((c,d)=>{const h=this.Sr(c,d);r=r.insert(c,h),a=a.insert(c,Zf(d))})).next((()=>({documents:r,Fr:a})))}Cr(e,t,r){if(t.isEmpty())return H.resolve();let a=new dt(v1);t.forEach((g=>a=a.add(g)));const c=IDBKeyRange.bound(ju(a.first()),ju(a.last())),d=a.getIterator();let h=d.getNext();return Xa(e).ee({index:If,range:c},((g,y,x)=>{const b=fe.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&v1(h,b)<0;)r(h,null),h=d.getNext();h&&h.isEqual(b)&&(r(h,y),h=d.hasNext()?d.getNext():null),h?x.j(ju(h)):x.done()})).next((()=>{for(;h;)r(h,null),h=d.hasNext()?d.getNext():null}))}getDocumentsMatchingQuery(e,t,r,a,c){const d=t.path,h=[d.popLast().toArray(),d.lastSegment(),Xf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[d.popLast().toArray(),d.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xa(e).H(IDBKeyRange.bound(h,g,!0)).next((y=>{c?.incrementDocumentReadCount(y.length);let x=On();for(const b of y){const E=this.Sr(fe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);E.isFoundDocument()&&(Nd(t,E)||a.has(E.key))&&(x=x.insert(E.key,E))}return x}))}getAllFromCollectionGroup(e,t,r,a){let c=On();const d=b1(t,r),h=b1(t,nr.max());return Xa(e).ee({index:ET,range:IDBKeyRange.bound(d,h,!0)},((g,y,x)=>{const b=this.Sr(fe.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);c=c.insert(b.key,b),c.size===a&&x.done()})).next((()=>c))}newChangeBuffer(e){return new tD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return x1(e).get(bp).next((t=>(_e(!!t,20021),t)))}br(e,t){return x1(e).put(bp,t)}Sr(e,t){if(t){const r=$5(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ee.min())))return r}return Nt.newInvalidDocument(e)}}function FN(s){return new eD(s)}class tD extends BN{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new ei((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const t=[];let r=0,a=new dt(((c,d)=>je(c.canonicalString(),d.canonicalString())));return this.changes.forEach(((c,d)=>{const h=this.Or.get(c);if(t.push(this.Mr.removeEntry(e,c,h.readTime)),d.isValidDocument()){const g=t1(this.Mr.serializer,d);a=a.add(c.path.popLast());const y=Zf(g);r+=y-h.size,t.push(this.Mr.addEntry(e,c,g))}else if(r-=h.size,this.trackRemovals){const g=t1(this.Mr.serializer,d.convertToNoDocument(Ee.min()));t.push(this.Mr.addEntry(e,c,g))}})),a.forEach((c=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,c))})),t.push(this.Mr.updateMetadata(e,r)),H.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((r=>(this.Or.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:r,Fr:a})=>(a.forEach(((c,d)=>{this.Or.set(c,{size:d,readTime:r.get(c).readTime})})),r)))}}function x1(s){return nn(s,nd)}function Xa(s){return nn(s,Gf)}function ju(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function b1(s,e){const t=e.documentKey.path.toArray();return[s,Xf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function v1(s,e){const t=s.path.toArray(),r=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(a=je(t[c],r[c]),a)return a;return a=je(t.length,r.length),a||(a=je(t[t.length-2],r[r.length-2]),a||je(t[t.length-1],r[r.length-1]))}class nD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class qN{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Ku(r.mutation,a,Pn.empty(),it.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Me()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Me()){const a=us();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((c=>{let d=Pu();return c.forEach(((h,g)=>{d=d.insert(h,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const r=us();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Me())))}populateOverlays(e,t,r){const a=[];return r.forEach((c=>{t.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(e,a).next((c=>{c.forEach(((d,h)=>{t.set(d,h)}))}))}computeViews(e,t,r,a){let c=On();const d=Gu(),h=(function(){return Gu()})();return t.forEach(((g,y)=>{const x=r.get(y.key);a.has(y.key)&&(x===void 0||x.mutation instanceof ti)?c=c.insert(y.key,y):x!==void 0?(d.set(y.key,x.mutation.getFieldMask()),Ku(x.mutation,y,x.mutation.getFieldMask(),it.now())):d.set(y.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,x)=>d.set(y,x))),t.forEach(((y,x)=>h.set(y,new nD(x,d.get(y)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Gu();let a=new _t(((d,h)=>d-h)),c=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const h of d)h.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let x=r.get(g)||Pn.empty();x=h.applyToLocalView(y,x),r.set(g,x);const b=(a.get(h.batchId)||Me()).add(g);a=a.insert(h.batchId,b)}))})).next((()=>{const d=[],h=a.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),y=g.key,x=g.value,b=sN();x.forEach((E=>{if(!c.has(E)){const j=dN(t.get(E),r.get(E));j!==null&&b.set(E,j),c=c.add(E)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return H.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return l5(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):my(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-c.size):H.resolve(us());let h=$l,g=c;return d.next((y=>H.forEach(y,((x,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),c.get(x)?H.resolve():this.remoteDocumentCache.getEntry(e,x).next((E=>{g=g.insert(x,E)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Me()))).next((x=>({batchId:h,changes:rN(x)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next((r=>{let a=Pu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const c=t.collectionGroup;let d=Pu();return this.indexManager.getCollectionParents(e,c).next((h=>H.forEach(h,(g=>{const y=(function(b,E){return new Zs(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,a).next((x=>{x.forEach(((b,E)=>{d=d.insert(b,E)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,c,a)))).next((d=>{c.forEach(((g,y)=>{const x=y.getKey();d.get(x)===null&&(d=d.insert(x,Nt.newInvalidDocument(x)))}));let h=Pu();return d.forEach(((g,y)=>{const x=c.get(g);x!==void 0&&Ku(x.mutation,y,Pn.empty(),it.now()),Nd(t,y)&&(h=h.insert(g,y))})),h}))}}class rD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return H.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Bt(a.createTime)}})(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:Nm(a.bundledQuery),readTime:Bt(a.readTime)}})(t)),H.resolve()}}class sD{constructor(){this.overlays=new _t(fe.comparator),this.Lr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const r=us();return H.forEach(t,(a=>this.getOverlay(e,a).next((c=>{c!==null&&r.set(a,c)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,c)=>{this.bt(e,t,c)})),H.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),H.resolve()}getOverlaysForCollection(e,t,r){const a=us(),c=t.length+1,d=new fe(t.child("")),h=this.overlays.getIteratorFrom(d);for(;h.hasNext();){const g=h.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&a.set(g.getKey(),g)}return H.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let c=new _t(((y,x)=>y-x));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>r){let x=c.get(y.largestBatchId);x===null&&(x=us(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const h=us(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>h.set(y,x))),!(h.size()>=a)););return H.resolve(h)}bt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const d=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new vy(t,r));let c=this.Lr.get(t);c===void 0&&(c=Me(),this.Lr.set(t,c)),this.Lr.set(t,c.add(r.key))}}class iD{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}}class Ny{constructor(){this.kr=new dt(on.Kr),this.qr=new dt(on.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new on(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new on(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new fe(new Ue([])),r=new on(t,e),a=new on(t,e+1),c=[];return this.qr.forEachInRange([r,a],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new fe(new Ue([])),r=new on(t,e),a=new on(t,e+1);let c=Me();return this.qr.forEachInRange([r,a],(d=>{c=c.add(d.key)})),c}containsKey(e){const t=new on(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return fe.comparator(e.key,t.key)||je(e.Hr,t.Hr)}static Ur(e,t){return je(e.Hr,t.Hr)||fe.comparator(e.key,t.key)}}class aD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new dt(on.Kr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new xy(c,t,r,a);this.mutationQueue.push(d);for(const h of a)this.Jr=this.Jr.add(new on(h.key,c)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return H.resolve(d)}lookupMutationBatch(e,t){return H.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),c=a<0?0:a;return H.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Zi:this.Yn-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new on(t,0),a=new on(t,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,a],(d=>{const h=this.Zr(d.Hr);c.push(h)})),H.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dt(je);return t.forEach((a=>{const c=new on(a,0),d=new on(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(h=>{r=r.add(h.Hr)}))})),H.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let c=r;fe.isDocumentKey(c)||(c=c.child(""));const d=new on(new fe(c),0);let h=new dt(je);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===a&&(h=h.add(g.Hr)),!0)}),d),H.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){_e(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return H.forEach(t.mutations,(a=>{const c=new on(a.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new on(t,0),a=this.Jr.firstAfterOrEqual(r);return H.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class oD{constructor(e){this.ti=e,this.docs=(function(){return new _t(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),c=a?a.size:0,d=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return H.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(t))}getEntries(e,t){let r=On();return t.forEach((a=>{const c=this.docs.get(a);r=r.insert(a,c?c.document.mutableCopy():Nt.newInvalidDocument(a))})),H.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let c=On();const d=t.path,h=new fe(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||iy(yT(x),r)<=0||(a.has(x.key)||Nd(t,x))&&(c=c.insert(x.key,x.mutableCopy()))}return H.resolve(c)}getAllFromCollectionGroup(e,t,r,a){xe(9500)}ni(e,t){return H.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new lD(this)}getSize(e){return H.resolve(this.size)}}class lD extends BN{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),H.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class cD{constructor(e){this.persistence=e,this.ri=new ei((t=>po(t)),Ed),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new Ny,this.targetCount=0,this.oi=_o._r()}forEachTarget(e,t){return this.ri.forEach(((r,a)=>t(a))),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),H.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new _o(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.lr(t),H.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,r){let a=0;const c=[];return this.ri.forEach(((d,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),H.waitFor(c).next((()=>a))}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return H.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),H.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach((d=>{c.push(a.markPotentiallyOrphaned(e,d))})),H.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),H.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return H.resolve(r)}containsKey(e,t){return H.resolve(this.si.containsKey(t))}}class Sy{constructor(e,t){this._i={},this.overlays={},this.ai=new Vn(0),this.ui=!1,this.ui=!0,this.ci=new iD,this.referenceDelegate=e(this),this.li=new cD(this),this.indexManager=new Q5,this.remoteDocumentCache=(function(a){return new oD(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new RN(t),this.Pi=new rD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new aD(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const a=new uD(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((c=>this.referenceDelegate.Ii(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ei(e,t){return H.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class uD extends bT{constructor(e){super(),this.currentSequenceNumber=e}}class Im{constructor(e){this.persistence=e,this.Ri=new Ny,this.Ai=null}static Vi(e){return new Im(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),H.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),H.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.di,(r=>{const a=fe.fromPath(r);return this.mi(e,a).next((c=>{c||t.removeEntry(a,Ee.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return H.or([()=>H.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class em{constructor(e,t){this.persistence=e,this.fi=new ei((r=>En(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=zN(this,t)}static Vi(e,t){return new em(e,t)}Ti(){}Ii(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return H.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((c=>c?H.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ni(e,(d=>this.wr(e,d,t).next((h=>{h||(r++,c.removeEntry(d,Ee.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),H.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cf(e.data.value)),t}wr(e,t,r){return H.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return H.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class dD{constructor(e){this.serializer=e}k(e,t,r,a){const c=new mm("createOrUpgrade",t);r<1&&a>=1&&((function(g){g.createObjectStore(wd)})(e),(function(g){g.createObjectStore(td,{keyPath:ER}),g.createObjectStore(kr,{keyPath:Rw,autoIncrement:!0}).createIndex(oo,Dw,{unique:!0}),g.createObjectStore(Fl)})(e),_1(e),(function(g){g.createObjectStore(eo)})(e));let d=H.resolve();return r<3&&a>=3&&(r!==0&&((function(g){g.deleteObjectStore(Hl),g.deleteObjectStore(ql),g.deleteObjectStore(co)})(e),_1(e)),d=d.next((()=>(function(g){const y=g.store(co),x={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ee.min().toTimestamp(),targetCount:0};return y.put(Kf,x)})(c)))),r<4&&a>=4&&(r!==0&&(d=d.next((()=>(function(g,y){return y.store(kr).H().next((b=>{g.deleteObjectStore(kr),g.createObjectStore(kr,{keyPath:Rw,autoIncrement:!0}).createIndex(oo,Dw,{unique:!0});const E=y.store(kr),j=b.map((I=>E.put(I)));return H.waitFor(j)}))})(e,c)))),d=d.next((()=>{(function(g){g.createObjectStore(Gl,{keyPath:DR})})(e)}))),r<5&&a>=5&&(d=d.next((()=>this.gi(c)))),r<6&&a>=6&&(d=d.next((()=>((function(g){g.createObjectStore(nd)})(e),this.pi(c))))),r<7&&a>=7&&(d=d.next((()=>this.yi(c)))),r<8&&a>=8&&(d=d.next((()=>this.wi(e,c)))),r<9&&a>=9&&(d=d.next((()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(d=d.next((()=>this.bi(c)))),r<11&&a>=11&&(d=d.next((()=>{(function(g){g.createObjectStore(gm,{keyPath:kR})})(e),(function(g){g.createObjectStore(pm,{keyPath:MR})})(e)}))),r<12&&a>=12&&(d=d.next((()=>{(function(g){const y=g.createObjectStore(ym,{keyPath:zR});y.createIndex(_p,BR,{unique:!1}),y.createIndex(AT,FR,{unique:!1})})(e)}))),r<13&&a>=13&&(d=d.next((()=>(function(g){const y=g.createObjectStore(Gf,{keyPath:NR});y.createIndex(If,SR),y.createIndex(ET,AR)})(e))).next((()=>this.Si(e,c))).next((()=>e.deleteObjectStore(eo)))),r<14&&a>=14&&(d=d.next((()=>this.Di(e,c)))),r<15&&a>=15&&(d=d.next((()=>(function(g){g.createObjectStore(ly,{keyPath:VR,autoIncrement:!0}).createIndex(vp,PR,{unique:!1}),g.createObjectStore(Fu,{keyPath:OR}).createIndex(NT,LR,{unique:!1}),g.createObjectStore(qu,{keyPath:UR}).createIndex(ST,$R,{unique:!1})})(e)))),r<16&&a>=16&&(d=d.next((()=>{t.objectStore(Fu).clear()})).next((()=>{t.objectStore(qu).clear()}))),r<17&&a>=17&&(d=d.next((()=>{(function(g){g.createObjectStore(cy,{keyPath:qR})})(e)}))),r<18&&a>=18&&mE()&&(d=d.next((()=>{t.objectStore(Fu).clear()})).next((()=>{t.objectStore(qu).clear()}))),d}pi(e){let t=0;return e.store(eo).ee(((r,a)=>{t+=Zf(a)})).next((()=>{const r={byteSize:t};return e.store(nd).put(bp,r)}))}gi(e){const t=e.store(td),r=e.store(kr);return t.H().next((a=>H.forEach(a,(c=>{const d=IDBKeyRange.bound([c.userId,Zi],[c.userId,c.lastAcknowledgedBatchId]);return r.H(oo,d).next((h=>H.forEach(h,(g=>{_e(g.userId===c.userId,18650,"Cannot process batch from unexpected user",{batchId:g.batchId});const y=no(this.serializer,g);return PN(e,c.userId,y).next((()=>{}))}))))}))))}yi(e){const t=e.store(Hl),r=e.store(eo);return e.store(co).get(Kf).next((a=>{const c=[];return r.ee(((d,h)=>{const g=new Ue(d),y=(function(b){return[0,En(b)]})(g);c.push(t.get(y).next((x=>x?H.resolve():(b=>t.put({targetId:0,path:En(b),sequenceNumber:a.highestListenSequenceNumber}))(g))))})).next((()=>H.waitFor(c)))}))}wi(e,t){e.createObjectStore(rd,{keyPath:RR});const r=t.store(rd),a=new Ty,c=d=>{if(a.add(d)){const h=d.lastSegment(),g=d.popLast();return r.put({collectionId:h,parent:En(g)})}};return t.store(eo).ee({Y:!0},((d,h)=>{const g=new Ue(d);return c(g.popLast())})).next((()=>t.store(Fl).ee({Y:!0},(([d,h,g],y)=>{const x=cs(h);return c(x.popLast())}))))}bi(e){const t=e.store(ql);return t.ee(((r,a)=>{const c=Lu(a),d=DN(this.serializer,c);return t.put(d)}))}Si(e,t){const r=t.store(eo),a=[];return r.ee(((c,d)=>{const h=t.store(Gf),g=(function(b){return b.document?new fe(Ue.fromString(b.document.name).popFirst(5)):b.noDocument?fe.fromSegments(b.noDocument.path):b.unknownDocument?fe.fromSegments(b.unknownDocument.path):xe(36783)})(d).path.toArray(),y={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};a.push(h.put(y))})).next((()=>H.waitFor(a)))}Di(e,t){const r=t.store(kr),a=FN(this.serializer),c=new Sy(Im.Vi,this.serializer.yt);return r.H().next((d=>{const h=new Map;return d.forEach((g=>{let y=h.get(g.userId)??Me();no(this.serializer,g).keys().forEach((x=>y=y.add(x))),h.set(g.userId,y)})),H.forEach(h,((g,y)=>{const x=new ln(y),b=Sm.wt(this.serializer,x),E=c.getIndexManager(x),j=Am.wt(x,this.serializer,E,c.referenceDelegate);return new qN(a,j,b,E).recalculateAndSaveOverlaysForDocumentKeys(new wp(t,Vn.ce),g).next()}))}))}}function _1(s){s.createObjectStore(Hl,{keyPath:jR}).createIndex(oy,CR,{unique:!0}),s.createObjectStore(ql,{keyPath:"targetId"}).createIndex(TT,IR,{unique:!0}),s.createObjectStore(co)}const zi="IndexedDbPersistence",W0=18e5,Z0=5e3,ep="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",HN="main";class Ay{constructor(e,t,r,a,c,d,h,g,y,x,b=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=c,this.window=d,this.document=h,this.Fi=y,this.Mi=x,this.xi=b,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!Ay.v())throw new le(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Z5(this,a),this.Ki=t+HN,this.serializer=new RN(g),this.qi=new hs(this.Ki,this.xi,new dD(this.serializer)),this.ci=new B5,this.li=new J5(this.referenceDelegate,this.serializer),this.remoteDocumentCache=FN(this.serializer),this.Pi=new z5,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,x===!1&&zt(zi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new le(W.FAILED_PRECONDITION,ep);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new Vn(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>xf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(fa(e))return de(zi,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return de(zi,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Cu(e).get(_l).next((t=>H.resolve(this.Xi(t))))}Yi(e){return xf(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,W0)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=nn(t,Gl);return r.H().next((a=>{const c=this.ns(a,W0),d=a.filter((h=>c.indexOf(h)===-1));return H.forEach(d,(h=>r.delete(h.clientId))).next((()=>d))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?H.resolve(!0):Cu(e).get(_l).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Z0)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new le(W.FAILED_PRECONDITION,ep);return!1}}return!(!this.networkEnabled||!this.inForeground)||xf(e).H().next((r=>this.ns(r,Z0).find((a=>{if(this.clientId!==a.clientId){const c=!this.networkEnabled&&a.networkEnabled,d=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(c||d&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&de(zi,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[wd,Gl],(e=>{const t=new wp(e,Vn.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((r=>this.ts(r.updateTimeMs,t)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>xf(e).H().next((t=>this.ns(t,W0).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return Am.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Y5(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Sm.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){de(zi,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",c=(function(g){return g===18?KR:g===17?RT:g===16?GR:g===15?uy:g===14?CT:g===13?jT:g===12?HR:g===11?IT:void xe(60245)})(this.xi);let d;return this.qi.runTransaction(e,a,c,(h=>(d=new wp(h,this.ai?this.ai.next():Vn.ce),t==="readwrite-primary"?this.ji(d).next((g=>!!g||this.Hi(d))).next((g=>{if(!g)throw zt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new le(W.FAILED_PRECONDITION,xT);return r(d)})).next((g=>this.Zi(d).next((()=>g)))):this.Ps(d).next((()=>r(d)))))).then((h=>(d.raiseOnCommittedEvent(),h)))}Ps(e){return Cu(e).get(_l).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Z0)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new le(W.FAILED_PRECONDITION,ep)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cu(e).put(_l,t)}static v(){return hs.v()}Ji(e){const t=Cu(e);return t.get(_l).next((r=>this.Xi(r)?(de(zi,"Releasing primary lease."),t.delete(_l)):H.resolve()))}ts(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(zt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;fE()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const t=this.Ui?.getItem(this.rs(e))!==null;return de(zi,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return zt(zi,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){zt("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cu(s){return nn(s,wd)}function xf(s){return nn(s,Gl)}function Iy(s,e){let t=s.projectId;return s.isDefaultDatabase||(t+="."+s.database),"firestore/"+e+"/"+t+"/"}class jy{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=a}static Es(e,t){let r=Me(),a=Me();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new jy(e,t.fromCache,r,a)}}class hD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class GN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return fE()?8:vT(en())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const c={result:null};return this.gs(e,t).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,t,a,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hD;return this.ys(e,t,d).next((h=>{if(c.result=h,this.As)return this.ws(e,t,d,h.size)}))})).next((()=>c.result))}ws(e,t,r,a){return r.documentReadCount<this.Vs?(Al()<=Ge.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Il(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),H.resolve()):(Al()<=Ge.DEBUG&&de("QueryEngine","Query:",Il(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Al()<=Ge.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Il(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tn(t))):H.resolve())}gs(e,t){if(Hw(t))return H.resolve(null);let r=Tn(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Jf(t,null,"F"),r=Tn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Me(...c);return this.fs.getDocuments(e,d).next((h=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(t,h);return this.Ss(t,y,d,g.readTime)?this.gs(e,Jf(t,null,"F")):this.Ds(e,y,t,g)}))))})))))}ps(e,t,r,a){return Hw(t)||a.isEqual(Ee.min())?H.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(t,c);return this.Ss(t,d,r,a)?H.resolve(null):(Al()<=Ge.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Il(t)),this.Ds(e,d,t,pT(a,$l)).next((h=>h)))}))}bs(e,t){let r=new dt(tN(e));return t.forEach(((a,c)=>{Nd(e,c)&&(r=r.add(c))})),r}Ss(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ys(e,t,r){return Al()<=Ge.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Il(t)),this.fs.getDocumentsMatchingQuery(e,t,nr.min(),r)}Ds(e,t,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((c=>(t.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Cy="LocalStore",fD=3e8;class mD{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new _t(je),this.Fs=new ei((c=>po(c)),Ed),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function KN(s,e,t,r){return new mD(s,e,t,r)}async function QN(s,e){const t=ge(s);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((c=>(a=c,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],h=[];let g=Me();for(const y of a){d.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){h.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return t.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:h})))}))}))}function gD(s,e){const t=ge(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),c=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,g,y,x){const b=y.batch,E=b.keys();let j=H.resolve();return E.forEach((I=>{j=j.next((()=>x.getEntry(g,I))).next((R=>{const V=y.docVersions.get(I);_e(V!==null,48541),R.version.compareTo(V)<0&&(b.applyToRemoteDocument(R,y),R.isValidDocument()&&(R.setReadTime(y.commitVersion),x.addEntry(R)))}))})),j.next((()=>h.mutationQueue.removeMutationBatch(g,b)))})(t,r,e,c).next((()=>c.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let g=Me();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(g=g.add(h.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function YN(s){const e=ge(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function pD(s,e){const t=ge(s),r=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const h=[];e.targetChanges.forEach(((x,b)=>{const E=a.get(b);if(!E)return;h.push(t.li.removeMatchingKeys(c,x.removedDocuments,b).next((()=>t.li.addMatchingKeys(c,x.addedDocuments,b))));let j=E.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?j=j.withResumeToken(kt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):x.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(x.resumeToken,r)),a=a.insert(b,j),(function(R,V,O){return R.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=fD?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(E,j,x)&&h.push(t.li.updateTargetData(c,j))}));let g=On(),y=Me();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(c,x))})),h.push(JN(c,d,e.documentUpdates).next((x=>{g=x.Bs,y=x.Ls}))),!r.isEqual(Ee.min())){const x=t.li.getLastRemoteSnapshotVersion(c).next((b=>t.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));h.push(x)}return H.waitFor(h).next((()=>d.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(t.vs=a,c)))}function JN(s,e,t){let r=Me(),a=Me();return t.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=On();return t.forEach(((h,g)=>{const y=c.get(h);g.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(h)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(h,g.readTime),d=d.insert(h,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(h,g)):de(Cy,"Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",g.version)})),{Bs:d,Ls:a}}))}function yD(s,e){const t=ge(s);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zi),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Zl(s,e){const t=ge(s);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.li.getTargetData(r,e).next((c=>c?(a=c,H.resolve(a)):t.li.allocateTargetId(r).next((d=>(a=new Fs(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function ec(s,e,t){const r=ge(s),a=r.vs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,a)))}catch(d){if(!fa(d))throw d;de(Cy,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function tm(s,e,t){const r=ge(s);let a=Ee.min(),c=Me();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,x){const b=ge(g),E=b.Fs.get(x);return E!==void 0?H.resolve(b.vs.get(E)):b.li.getTargetData(y,x)})(r,d,Tn(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,h.targetId).next((g=>{c=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,t?a:Ee.min(),t?c:Me()))).next((h=>(ZN(r,eN(e),h),{documents:h,ks:c})))))}function XN(s,e){const t=ge(s),r=ge(t.li),a=t.vs.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",(c=>r.At(c,e).next((d=>d?d.target:null))))}function WN(s,e){const t=ge(s),r=t.Ms.get(e)||Ee.min();return t.persistence.runTransaction("Get new document changes","readonly",(a=>t.xs.getAllFromCollectionGroup(a,e,pT(r,$l),Number.MAX_SAFE_INTEGER))).then((a=>(ZN(t,e,a),a)))}function ZN(s,e,t){let r=s.Ms.get(e)||Ee.min();t.forEach(((a,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}async function xD(s,e,t,r){const a=ge(s);let c=Me(),d=On();for(const y of t){const x=e.Ks(y.metadata.name);y.document&&(c=c.add(x));const b=e.qs(y);b.setReadTime(e.Us(y.metadata.readTime)),d=d.insert(x,b)}const h=a.xs.newChangeBuffer({trackRemovals:!0}),g=await Zl(a,(function(x){return Tn(hc(Ue.fromString(`__bundle__/docs/${x}`)))})(r));return a.persistence.runTransaction("Apply bundle documents","readwrite",(y=>JN(y,h,d).next((x=>(h.apply(y),x))).next((x=>a.li.removeMatchingKeysForTargetId(y,g.targetId).next((()=>a.li.addMatchingKeys(y,c,g.targetId))).next((()=>a.localDocuments.getLocalViewOfDocuments(y,x.Bs,x.Ls))).next((()=>x.Bs))))))}async function bD(s,e,t=Me()){const r=await Zl(s,Tn(Nm(e.bundledQuery))),a=ge(s);return a.persistence.runTransaction("Save named query","readwrite",(c=>{const d=Bt(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return a.Pi.saveNamedQuery(c,e);const h=r.withResumeToken(kt.EMPTY_BYTE_STRING,d);return a.vs=a.vs.insert(h.targetId,h),a.li.updateTargetData(c,h).next((()=>a.li.removeMatchingKeysForTargetId(c,r.targetId))).next((()=>a.li.addMatchingKeys(c,t,r.targetId))).next((()=>a.Pi.saveNamedQuery(c,e)))}))}const eS="firestore_clients";function w1(s,e){return`${eS}_${s}_${e}`}const tS="firestore_mutations";function E1(s,e,t){let r=`${tS}_${s}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const nS="firestore_targets";function tp(s,e){return`${nS}_${s}_${e}`}const ls="SharedClientState";class nm{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static $s(e,t,r){const a=JSON.parse(r);let c,d=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return d&&a.error&&(d=typeof a.error.message=="string"&&typeof a.error.code=="string",d&&(c=new le(a.error.code,a.error.message))),d?new nm(e,t,a.state,c):(zt(ls,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qu{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let a,c=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return c&&r.error&&(c=typeof r.error.message=="string"&&typeof r.error.code=="string",c&&(a=new le(r.error.code,r.error.message))),c?new Qu(e,r.state,a):(zt(ls,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let a=typeof r=="object"&&r.activeTargetIds instanceof Array,c=gy();for(let d=0;a&&d<r.activeTargetIds.length;++d)a=_T(r.activeTargetIds[d]),c=c.add(r.activeTargetIds[d]);return a?new rm(e,c):(zt(ls,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ry{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Ry(t.clientId,t.onlineState):(zt(ls,`Failed to parse online state: ${e}`),null)}}class Op{constructor(){this.activeTargetIds=gy()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class np{constructor(e,t,r,a,c){this.window=e,this.Ci=t,this.persistenceKey=r,this.zs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new _t(je),this.started=!1,this.Zs=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Xs=w1(this.persistenceKey,this.zs),this.Ys=(function(g){return`firestore_sequence_number_${g}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new Op),this.eo=new RegExp(`^${eS}_${d}_([^_]*)$`),this.no=new RegExp(`^${tS}_${d}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${nS}_${d}_(\\d+)$`),this.io=(function(g){return`firestore_online_state_${g}`})(this.persistenceKey),this.so=(function(g){return`firestore_bundle_loaded_v2_${g}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const a=this.getItem(w1(this.persistenceKey,r));if(a){const c=rm.$s(r,a);c&&(this.Js=this.Js.insert(c.clientId,c))}}this.oo();const t=this.storage.getItem(this.io);if(t){const r=this._o(t);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach(((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,r){this.co(e,t,r),this.lo(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(tp(this.persistenceKey,e));if(a){const c=Qu.$s(e,a);c&&(r=c.state)}}return t&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tp(this.persistenceKey,e))}updateQueryState(e,t,r){this.Po(e,t,r)}handleUserChange(e,t,r){t.forEach((a=>{this.lo(a)})),this.currentUser=e,r.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return de(ls,"READ",e,t),t}setItem(e,t){de(ls,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){de(ls,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(de(ls,"EVENT",t.key,t.newValue),t.key===this.Xs)return void zt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.eo.test(t.key)){if(t.newValue==null){const r=this.Eo(t.key);return this.Ro(r,null)}{const r=this.Ao(t.key,t.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(t.key)){if(t.newValue!==null){const r=this.Vo(t.key,t.newValue);if(r)return this.mo(r)}}else if(this.ro.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(t.key===this.io){if(t.newValue!==null){const r=this._o(t.newValue);if(r)return this.ao(r)}}else if(t.key===this.Ys){const r=(function(c){let d=Vn.ce;if(c!=null)try{const h=JSON.parse(c);_e(typeof h=="number",30636,{yo:c}),d=h}catch(h){zt(ls,"Failed to read sequence number from WebStorage",h)}return d})(t.newValue);r!==Vn.ce&&this.sequenceNumberHandler(r)}else if(t.key===this.so){const r=this.wo(t.newValue);await Promise.all(r.map((a=>this.syncEngine.bo(a))))}}}else this.Zs.push(t)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,r){const a=new nm(this.currentUser,e,t,r),c=E1(this.persistenceKey,this.currentUser,e);this.setItem(c,a.Ws())}lo(e){const t=E1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){const t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,r){const a=tp(this.persistenceKey,e),c=new Qu(e,t,r);this.setItem(a,c.Ws())}Io(e){const t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){const t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){const r=this.Eo(e);return rm.$s(r,t)}Vo(e,t){const r=this.no.exec(e),a=Number(r[1]),c=r[2]!==void 0?r[2]:null;return nm.$s(new ln(c),a,t)}fo(e,t){const r=this.ro.exec(e),a=Number(r[1]);return Qu.$s(a,t)}_o(e){return Ry.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);de(ls,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){const r=t?this.Js.insert(e,t):this.Js.remove(e),a=this.uo(this.Js),c=this.uo(r),d=[],h=[];return c.forEach((g=>{a.has(g)||d.push(g)})),a.forEach((g=>{c.has(g)||h.push(g)})),this.syncEngine.Co(d,h).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=gy();return e.forEach(((r,a)=>{t=t.unionWith(a.activeTargetIds)})),t}}class rS{constructor(){this.vo=new Op,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Op,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vD{Mo(e){}shutdown(){}}const T1="ConnectivityMonitor";class N1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de(T1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de(T1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bf=null;function Lp(){return bf===null?bf=(function(){return 268435456+Math.round(2147483648*Math.random())})():bf++,"0x"+bf.toString(16)}const rp="RestConnection",_D={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class wD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===id?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,c){const d=Lp(),h=this.Qo(e,t.toUriEncodedString());de(rp,`Sending RPC '${e}' ${d}:`,h,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,a,c);const{host:y}=new URL(h),x=Ao(y);return this.zo(e,h,g,r,x).then((b=>(de(rp,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw zn(rp,`RPC '${e}' ${d} failed with error: `,b,"url: ",h,"request:",r),b}))}jo(e,t,r,a,c,d){return this.Wo(e,t,r,a,c)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,c)=>e[c]=a)),r&&r.headers.forEach(((a,c)=>e[c]=a))}Qo(e,t){const r=_D[e];let a=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class ED{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const _n="WebChannelConnection",Ru=(s,e,t)=>{s.listen(e,(r=>{try{t(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Vl extends wD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Vl.c_){const e=oT();Ru(e,aT.STAT_EVENT,(t=>{t.stat===mp.PROXY?de(_n,"STAT_EVENT: detected buffering proxy"):t.stat===mp.NOPROXY&&de(_n,"STAT_EVENT: detected no buffering proxy")})),Vl.c_=!0}}zo(e,t,r,a,c){const d=Lp();return new Promise(((h,g)=>{const y=new sT;y.setWithCredentials(!0),y.listenOnce(iT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Sf.NO_ERROR:const b=y.getResponseJson();de(_n,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),h(b);break;case Sf.TIMEOUT:de(_n,`RPC '${e}' ${d} timed out`),g(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const E=y.getStatus();if(de(_n,`RPC '${e}' ${d} failed with status:`,E,"response text:",y.getResponseText()),E>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const I=j?.error;if(I&&I.status&&I.message){const R=(function(O){const Q=O.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Q)>=0?Q:W.UNKNOWN})(I.status);g(new le(R,I.message))}else g(new le(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le(W.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(_n,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(a);de(_n,`RPC '${e}' ${d} sending request:`,a),y.send(t,"POST",x,r,15)}))}T_(e,t,r){const a=Lp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(h.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const y=c.join("");de(_n,`Creating RPC '${e}' stream ${a}: ${y}`,h);const x=d.createWebChannel(y,h);this.I_(x);let b=!1,E=!1;const j=new ED({Ho:I=>{E?de(_n,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(b||(de(_n,`Opening RPC '${e}' stream ${a} transport.`),x.open(),b=!0),de(_n,`RPC '${e}' stream ${a} sending:`,I),x.send(I))},Jo:()=>x.close()});return Ru(x,Vu.EventType.OPEN,(()=>{E||(de(_n,`RPC '${e}' stream ${a} transport opened.`),j.i_())})),Ru(x,Vu.EventType.CLOSE,(()=>{E||(E=!0,de(_n,`RPC '${e}' stream ${a} transport closed`),j.o_(),this.E_(x))})),Ru(x,Vu.EventType.ERROR,(I=>{E||(E=!0,zn(_n,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),j.o_(new le(W.UNAVAILABLE,"The operation could not be completed")))})),Ru(x,Vu.EventType.MESSAGE,(I=>{if(!E){const R=I.data[0];_e(!!R,16349);const V=R,O=V?.error||V[0]?.error;if(O){de(_n,`RPC '${e}' stream ${a} received error:`,O);const Q=O.status;let q=(function(re){const S=Xt[re];if(S!==void 0)return gN(S)})(Q),J=O.message;Q==="NOT_FOUND"&&J.includes("database")&&J.includes("does not exist")&&J.includes(this.databaseId.database)&&zn(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),q===void 0&&(q=W.INTERNAL,J="Unknown error status: "+Q+" with message "+O.message),E=!0,j.o_(new le(q,J)),x.close()}else de(_n,`RPC '${e}' stream ${a} received:`,R),j.__(R)}})),Vl.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return lT()}}function TD(s){return new Vl(s)}function sS(){return typeof window<"u"?window:null}function Vf(){return typeof document<"u"?document:null}function jo(s){return new C5(s,!0)}Vl.c_=!1;class Dy{constructor(e,t,r=1e3,a=1.5,c=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=a,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const S1="PersistentStream";class iS{constructor(e,t,r,a,c,d,h,g){this.Ci=e,this.b_=r,this.S_=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Dy(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(zt(t.toString()),zt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new le(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(S1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(de(S1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ND extends iS{constructor(e,t,r,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,d),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=k5(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ee.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ee.min():d.readTime?Bt(d.readTime):Ee.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=Dp(this.serializer),t.addTarget=(function(c,d){let h;const g=d.target;if(h=Qf(g)?{documents:TN(c,g)}:{query:Tm(c,g).ft},h.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){h.resumeToken=bN(c,d.resumeToken);const y=Cp(c,d.expectedCount);y!==null&&(h.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ee.min())>0){h.readTime=Wl(c,d.snapshotVersion.toTimestamp());const y=Cp(c,d.expectedCount);y!==null&&(h.expectedCount=y)}return h})(this.serializer,e);const r=V5(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=Dp(this.serializer),t.removeTarget=e,this.K_(t)}}class SD extends iS{constructor(e,t,r,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=M5(e.writeResults,e.commitTime),r=Bt(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Dp(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>ud(this.serializer,r)))};this.K_(t)}}class AD{}class ID extends AD{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Rp(t,r),a,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(W.UNKNOWN,c.toString())}))}jo(e,t,r,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,h])=>this.connection.jo(e,Rp(t,r),a,d,h,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function jD(s,e,t,r){return new ID(s,e,t,r)}class CD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zt(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wo="RemoteStore";class RD{constructor(e,t,r,a,c){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ga(this)&&(de(wo,"Restarting streams for network reachability change."),await(async function(g){const y=ge(g);y.Ea.add(4),await gc(y),y.Va.set("Unknown"),y.Ea.delete(4),await jd(y)})(this))}))})),this.Va=new CD(r,a)}}async function jd(s){if(ga(s))for(const e of s.Ra)await e(!0)}async function gc(s){for(const e of s.Ra)await e(!1)}function jm(s,e){const t=ge(s);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Vy(t)?My(t):yc(t).O_()&&ky(t,e))}function tc(s,e){const t=ge(s),r=yc(t);t.Ia.delete(e),r.O_()&&aS(t,e),t.Ia.size===0&&(r.O_()?r.L_():ga(t)&&t.Va.set("Unknown"))}function ky(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yc(s).Z_(e)}function aS(s,e){s.da.$e(e),yc(s).X_(e)}function My(s){s.da=new S5({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),yc(s).start(),s.Va.ua()}function Vy(s){return ga(s)&&!yc(s).x_()&&s.Ia.size>0}function ga(s){return ge(s).Ea.size===0}function oS(s){s.da=void 0}async function DD(s){s.Va.set("Online")}async function kD(s){s.Ia.forEach(((e,t)=>{ky(s,e)}))}async function MD(s,e){oS(s),Vy(s)?(s.Va.ha(e),My(s)):s.Va.set("Unknown")}async function VD(s,e,t){if(s.Va.set("Online"),e instanceof xN&&e.state===2&&e.cause)try{await(async function(a,c){const d=c.cause;for(const h of c.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,d),a.Ia.delete(h),a.da.removeTarget(h))})(s,e)}catch(r){de(wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sm(s,r)}else if(e instanceof kf?s.da.Xe(e):e instanceof yN?s.da.st(e):s.da.tt(e),!t.isEqual(Ee.min()))try{const r=await YN(s.localStore);t.compareTo(r)>=0&&await(function(c,d){const h=c.da.Tt(d);return h.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,d))}})),h.targetMismatches.forEach(((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(kt.EMPTY_BYTE_STRING,x.snapshotVersion)),aS(c,g);const b=new Fs(x.target,g,y,x.sequenceNumber);ky(c,b)})),c.remoteSyncer.applyRemoteEvent(h)})(s,t)}catch(r){de(wo,"Failed to raise snapshot:",r),await sm(s,r)}}async function sm(s,e,t){if(!fa(e))throw e;s.Ea.add(1),await gc(s),s.Va.set("Offline"),t||(t=()=>YN(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de(wo,"Retrying IndexedDB access"),await t(),s.Ea.delete(1),await jd(s)}))}function lS(s,e){return e().catch((t=>sm(s,t,e)))}async function pc(s){const e=ge(s),t=ia(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zi;for(;PD(e);)try{const a=await yD(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,OD(e,a)}catch(a){await sm(e,a)}cS(e)&&uS(e)}function PD(s){return ga(s)&&s.Ta.length<10}function OD(s,e){s.Ta.push(e);const t=ia(s);t.O_()&&t.Y_&&t.ea(e.mutations)}function cS(s){return ga(s)&&!ia(s).x_()&&s.Ta.length>0}function uS(s){ia(s).start()}async function LD(s){ia(s).ra()}async function UD(s){const e=ia(s);for(const t of s.Ta)e.ea(t.mutations)}async function $D(s,e,t){const r=s.Ta.shift(),a=by.from(r,e,t);await lS(s,(()=>s.remoteSyncer.applySuccessfulWrite(a))),await pc(s)}async function zD(s,e){e&&ia(s).Y_&&await(async function(r,a){if((function(d){return mN(d)&&d!==W.ABORTED})(a.code)){const c=r.Ta.shift();ia(r).B_(),await lS(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,a))),await pc(r)}})(s,e),cS(s)&&uS(s)}async function A1(s,e){const t=ge(s);t.asyncQueue.verifyOperationInProgress(),de(wo,"RemoteStore received new credentials");const r=ga(t);t.Ea.add(3),await gc(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await jd(t)}async function Up(s,e){const t=ge(s);e?(t.Ea.delete(2),await jd(t)):e||(t.Ea.add(2),await gc(t),t.Va.set("Unknown"))}function yc(s){return s.ma||(s.ma=(function(t,r,a){const c=ge(t);return c.sa(),new ND(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(s.datastore,s.asyncQueue,{Zo:DD.bind(null,s),Yo:kD.bind(null,s),t_:MD.bind(null,s),J_:VD.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Vy(s)?My(s):s.Va.set("Unknown")):(await s.ma.stop(),oS(s))}))),s.ma}function ia(s){return s.fa||(s.fa=(function(t,r,a){const c=ge(t);return c.sa(),new SD(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:LD.bind(null,s),t_:zD.bind(null,s),ta:UD.bind(null,s),na:$D.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await pc(s)):(await s.fa.stop(),s.Ta.length>0&&(de(wo,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Py{constructor(e,t,r,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=c,this.deferred=new dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,c){const d=Date.now()+r,h=new Py(e,t,d,a,c);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xc(s,e){if(zt("AsyncQueue",`${e}: ${s}`),fa(s))return new le(W.UNAVAILABLE,`${e}: ${s}`);throw s}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||fe.comparator(t.key,r.key):(t,r)=>fe.comparator(t.key,r.key),this.keyedMap=Pu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class I1{constructor(){this.ga=new _t(fe.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Eo{constructor(e,t,r,a,c,d,h,g,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,r,a,c){const d=[];return t.forEach((h=>{d.push({type:0,doc:h})})),new Eo(e,t,uo.emptySet(t),d,r,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class BD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class FD{constructor(){this.queries=j1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=ge(t),c=a.queries;a.queries=j1(),c.forEach(((d,h)=>{for(const g of h.ba)g.onError(r)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function j1(){return new ei((s=>ZT(s)),Td)}async function Oy(s,e){const t=ge(s);let r=3;const a=e.query;let c=t.queries.get(a);c?!c.Sa()&&e.Da()&&(r=2):(c=new BD,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await t.onListen(a,!0);break;case 1:c.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(d){const h=xc(d,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,c),c.ba.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&Uy(t)}async function Ly(s,e){const t=ge(s),r=e.query;let a=3;const c=t.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?a=e.Da()?0:1:!c.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function qD(s,e){const t=ge(s);let r=!1;for(const a of e){const c=a.query,d=t.queries.get(c);if(d){for(const h of d.ba)h.Fa(a)&&(r=!0);d.wa=a}}r&&Uy(t)}function HD(s,e,t){const r=ge(s),a=r.queries.get(e);if(a)for(const c of a.ba)c.onError(t);r.queries.delete(e)}function Uy(s){s.Ca.forEach((e=>{e.next()}))}var $p,C1;(C1=$p||($p={})).Ma="default",C1.Cache="cache";class $y{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$p.Cache}}class dS{constructor(e,t){this.qa=e,this.byteLength=t}Ua(){return"metadata"in this.qa}}class R1{constructor(e){this.serializer=e}Ks(e){return fs(this.serializer,e)}qs(e){return e.metadata.exists?Em(this.serializer,e.document,!1):Nt.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return Bt(e)}}class zy{constructor(e,t){this.$a=e,this.serializer=t,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=hS(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++t;const r=Ue.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new R1(this.serializer);for(const a of e)if(a.metadata.queries){const c=r.Ks(a.metadata.name);for(const d of a.metadata.queries){const h=(t.get(d)||Me()).add(c);t.set(d,h)}}return t}async ja(e){const t=await xD(e,new R1(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const a of this.Wa)await bD(e,a,r.get(a.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:t}}}function hS(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class fS{constructor(e){this.key=e}}class mS{constructor(e){this.key=e}}class gS{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.eu=tN(e),this.tu=new uo(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new I1,a=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,d=a,h=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,b)=>{const E=a.get(x),j=Nd(this.query,b)?b:null,I=!!E&&this.mutatedKeys.has(E.key),R=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let V=!1;E&&j?E.data.isEqual(j.data)?I!==R&&(r.track({type:3,doc:j}),V=!0):this.su(E,j)||(r.track({type:2,doc:j}),V=!0,(g&&this.eu(j,g)>0||y&&this.eu(j,y)<0)&&(h=!0)):!E&&j?(r.track({type:0,doc:j}),V=!0):E&&!j&&(r.track({type:1,doc:E}),V=!0,(g||y)&&(h=!0)),V&&(j?(d=d.add(j),c=R?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:d,iu:r,Ss:h,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,b)=>(function(j,I){const R=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:V})}};return R(j)-R(I)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(r),a=a??!1;const h=t&&!a?this._u():[],g=this.Ya.size===0&&this.current&&!a?1:0,y=g!==this.Xa;return this.Xa=g,d.length!==0||y?{snapshot:new Eo(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new mS(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new fS(r))})),t}cu(e){this.Za=e.ks,this.Ya=Me();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const pa="SyncEngine";class GD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class KD{constructor(e){this.key=e,this.hu=!1}}class QD{constructor(e,t,r,a,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ei((h=>ZT(h)),Td),this.Iu=new Map,this.Eu=new Set,this.Ru=new _t(fe.comparator),this.Au=new Map,this.Vu=new Ny,this.du={},this.mu=new Map,this.fu=_o.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YD(s,e,t=!0){const r=Cm(s);let a;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await pS(r,e,t,!0),a}async function JD(s,e){const t=Cm(s);await pS(t,e,!0,!1)}async function pS(s,e,t,r){const a=await Zl(s.localStore,Tn(e)),c=a.targetId,d=s.sharedClientState.addLocalQueryTarget(c,t);let h;return r&&(h=await By(s,e,c,d==="current",a.resumeToken)),s.isPrimaryClient&&t&&jm(s.remoteStore,a),h}async function By(s,e,t,r,a){s.pu=(b,E,j)=>(async function(R,V,O,Q){let q=V.view.ru(O);q.Ss&&(q=await tm(R.localStore,V.query,!1).then((({documents:S})=>V.view.ru(S,q))));const J=Q&&Q.targetChanges.get(V.targetId),te=Q&&Q.targetMismatches.get(V.targetId)!=null,re=V.view.applyChanges(q,R.isPrimaryClient,J,te);return zp(R,V.targetId,re.au),re.snapshot})(s,b,E,j);const c=await tm(s.localStore,e,!0),d=new gS(e,c.ks),h=d.ru(c.documents),g=Id.createSynthesizedTargetChangeForCurrentChange(t,r&&s.onlineState!=="Offline",a),y=d.applyChanges(h,s.isPrimaryClient,g);zp(s,t,y.au);const x=new GD(e,t,d);return s.Tu.set(e,x),s.Iu.has(t)?s.Iu.get(t).push(e):s.Iu.set(t,[e]),y.snapshot}async function XD(s,e,t){const r=ge(s),a=r.Tu.get(e),c=r.Iu.get(a.targetId);if(c.length>1)return r.Iu.set(a.targetId,c.filter((d=>!Td(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await ec(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&tc(r.remoteStore,a.targetId),nc(r,a.targetId)})).catch(ha)):(nc(r,a.targetId),await ec(r.localStore,a.targetId,!0))}async function WD(s,e){const t=ge(s),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),tc(t.remoteStore,r.targetId))}async function ZD(s,e,t){const r=Gy(s);try{const a=await(function(d,h){const g=ge(d),y=it.now(),x=h.reduce(((j,I)=>j.add(I.key)),Me());let b,E;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let I=On(),R=Me();return g.xs.getEntries(j,x).next((V=>{I=V,I.forEach(((O,Q)=>{Q.isValidDocument()||(R=R.add(O))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,I))).next((V=>{b=V;const O=[];for(const Q of h){const q=w5(Q,b.get(Q.key).overlayedDocument);q!=null&&O.push(new ti(Q.key,q,BT(q.value.mapValue),Ct.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,O,h)})).next((V=>{E=V;const O=V.applyToLocalDocumentSet(b,R);return g.documentOverlayCache.saveOverlays(j,V.batchId,O)}))})).then((()=>({batchId:E.batchId,changes:rN(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(d,h,g){let y=d.du[d.currentUser.toKey()];y||(y=new _t(je)),y=y.insert(h,g),d.du[d.currentUser.toKey()]=y})(r,a.batchId,t),await ni(r,a.changes),await pc(r.remoteStore)}catch(a){const c=xc(a,"Failed to persist write");t.reject(c)}}async function yS(s,e){const t=ge(s);try{const r=await pD(t.localStore,e);e.targetChanges.forEach(((a,c)=>{const d=t.Au.get(c);d&&(_e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?d.hu=!0:a.modifiedDocuments.size>0?_e(d.hu,14607):a.removedDocuments.size>0&&(_e(d.hu,42227),d.hu=!1))})),await ni(t,r,e)}catch(r){await ha(r)}}function D1(s,e,t){const r=ge(s);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((c,d)=>{const h=d.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(d,h){const g=ge(d);g.onlineState=h;let y=!1;g.queries.forEach(((x,b)=>{for(const E of b.ba)E.va(h)&&(y=!0)})),y&&Uy(g)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ek(s,e,t){const r=ge(s);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),c=a&&a.key;if(c){let d=new _t(fe.comparator);d=d.insert(c,Nt.newNoDocument(c,Ee.min()));const h=Me().add(c),g=new Ad(Ee.min(),new Map,new _t(je),d,h);await yS(r,g),r.Ru=r.Ru.remove(c),r.Au.delete(e),Hy(r)}else await ec(r.localStore,e,!1).then((()=>nc(r,e,t))).catch(ha)}async function tk(s,e){const t=ge(s),r=e.batch.batchId;try{const a=await gD(t.localStore,e);qy(t,r,null),Fy(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ni(t,a)}catch(a){await ha(a)}}async function nk(s,e,t){const r=ge(s);try{const a=await(function(d,h){const g=ge(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,h).next((b=>(_e(b!==null,37113),x=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,h))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(r.localStore,e);qy(r,e,t),Fy(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ni(r,a)}catch(a){await ha(a)}}async function rk(s,e){const t=ge(s);ga(t.remoteStore)||de(pa,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(d){const h=ge(d);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(g=>h.mutationQueue.getHighestUnacknowledgedBatchId(g)))})(t.localStore);if(r===Zi)return void e.resolve();const a=t.mu.get(r)||[];a.push(e),t.mu.set(r,a)}catch(r){const a=xc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}function Fy(s,e){(s.mu.get(e)||[]).forEach((t=>{t.resolve()})),s.mu.delete(e)}function qy(s,e,t){const r=ge(s);let a=r.du[r.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function nc(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),t&&s.Pu.yu(r,t);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||xS(s,r)}))}function xS(s,e){s.Eu.delete(e.path.canonicalString());const t=s.Ru.get(e);t!==null&&(tc(s.remoteStore,t),s.Ru=s.Ru.remove(e),s.Au.delete(t),Hy(s))}function zp(s,e,t){for(const r of t)r instanceof fS?(s.Vu.addReference(r.key,e),sk(s,r)):r instanceof mS?(de(pa,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||xS(s,r.key)):xe(19791,{wu:r})}function sk(s,e){const t=e.key,r=t.path.canonicalString();s.Ru.get(t)||s.Eu.has(r)||(de(pa,"New document in limbo: "+t),s.Eu.add(r),Hy(s))}function Hy(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const t=new fe(Ue.fromString(e)),r=s.fu.next();s.Au.set(r,new KD(t)),s.Ru=s.Ru.insert(t,r),jm(s.remoteStore,new Fs(Tn(hc(t.path)),r,"TargetPurposeLimboResolution",Vn.ce))}}async function ni(s,e,t){const r=ge(s),a=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,g)=>{d.push(r.pu(g,e,t).then((y=>{if((y||t)&&r.isPrimaryClient){const x=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){a.push(y);const x=jy.Es(g.targetId,y);c.push(x)}})))})),await Promise.all(d),r.Pu.J_(a),await(async function(g,y){const x=ge(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>H.forEach(y,(E=>H.forEach(E.Ts,(j=>x.persistence.referenceDelegate.addReference(b,E.targetId,j))).next((()=>H.forEach(E.Is,(j=>x.persistence.referenceDelegate.removeReference(b,E.targetId,j)))))))))}catch(b){if(!fa(b))throw b;de(Cy,"Failed to update sequence numbers: "+b)}for(const b of y){const E=b.targetId;if(!b.fromCache){const j=x.vs.get(E),I=j.snapshotVersion,R=j.withLastLimboFreeSnapshotVersion(I);x.vs=x.vs.insert(E,R)}}})(r.localStore,c))}async function ik(s,e){const t=ge(s);if(!t.currentUser.isEqual(e)){de(pa,"User change. New user:",e.toKey());const r=await QN(t.localStore,e);t.currentUser=e,(function(c,d){c.mu.forEach((h=>{h.forEach((g=>{g.reject(new le(W.CANCELLED,d))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ni(t,r.Ns)}}function ak(s,e){const t=ge(s),r=t.Au.get(e);if(r&&r.hu)return Me().add(r.key);{let a=Me();const c=t.Iu.get(e);if(!c)return a;for(const d of c){const h=t.Tu.get(d);a=a.unionWith(h.view.nu)}return a}}async function ok(s,e){const t=ge(s),r=await tm(t.localStore,e.query,!0),a=e.view.cu(r);return t.isPrimaryClient&&zp(t,e.targetId,a.au),a}async function lk(s,e){const t=ge(s);return WN(t.localStore,e).then((r=>ni(t,r)))}async function ck(s,e,t,r){const a=ge(s),c=await(function(h,g){const y=ge(h),x=ge(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",(b=>x.Xn(b,g).next((E=>E?y.localDocuments.getDocuments(b,E):H.resolve(null)))))})(a.localStore,e);c!==null?(t==="pending"?await pc(a.remoteStore):t==="acknowledged"||t==="rejected"?(qy(a,e,r||null),Fy(a,e),(function(h,g){ge(ge(h).mutationQueue).nr(g)})(a.localStore,e)):xe(6720,"Unknown batchState",{bu:t}),await ni(a,c)):de(pa,"Cannot apply mutation batch with id: "+e)}async function uk(s,e){const t=ge(s);if(Cm(t),Gy(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),a=await k1(t,r.toArray());t.gu=!0,await Up(t.remoteStore,!0);for(const c of a)jm(t.remoteStore,c)}else if(e===!1&&t.gu!==!1){const r=[];let a=Promise.resolve();t.Iu.forEach(((c,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):a=a.then((()=>(nc(t,d),ec(t.localStore,d,!0)))),tc(t.remoteStore,d)})),await a,await k1(t,r),(function(d){const h=ge(d);h.Au.forEach(((g,y)=>{tc(h.remoteStore,y)})),h.Vu.zr(),h.Au=new Map,h.Ru=new _t(fe.comparator)})(t),t.gu=!1,await Up(t.remoteStore,!1)}}async function k1(s,e,t){const r=ge(s),a=[],c=[];for(const d of e){let h;const g=r.Iu.get(d);if(g&&g.length!==0){h=await Zl(r.localStore,Tn(g[0]));for(const y of g){const x=r.Tu.get(y),b=await ok(r,x);b.snapshot&&c.push(b.snapshot)}}else{const y=await XN(r.localStore,d);h=await Zl(r.localStore,y),await By(r,bS(y),d,!1,h.resumeToken)}a.push(h)}return r.Pu.J_(c),a}function bS(s){return JT(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function dk(s){return(function(t){return ge(ge(t).persistence).hs()})(ge(s).localStore)}async function hk(s,e,t,r){const a=ge(s);if(a.gu)return void de(pa,"Ignoring unexpected query state notification.");const c=a.Iu.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const d=await WN(a.localStore,eN(c[0])),h=Ad.createSynthesizedRemoteEventForCurrentChange(e,t==="current",kt.EMPTY_BYTE_STRING);await ni(a,d,h);break}case"rejected":await ec(a.localStore,e,!0),nc(a,e,r);break;default:xe(64155,t)}}async function fk(s,e,t){const r=Cm(s);if(r.gu){for(const a of e){if(r.Iu.has(a)&&r.sharedClientState.isActiveQueryTarget(a)){de(pa,"Adding an already active target "+a);continue}const c=await XN(r.localStore,a),d=await Zl(r.localStore,c);await By(r,bS(c),d.targetId,!1,d.resumeToken),jm(r.remoteStore,d)}for(const a of t)r.Iu.has(a)&&await ec(r.localStore,a,!1).then((()=>{tc(r.remoteStore,a),nc(r,a)})).catch(ha)}}function Cm(s){const e=ge(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=yS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ak.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ek.bind(null,e),e.Pu.J_=qD.bind(null,e.eventManager),e.Pu.yu=HD.bind(null,e.eventManager),e}function Gy(s){const e=ge(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nk.bind(null,e),e}function mk(s,e,t){const r=ge(s);(async function(c,d,h){try{const g=await d.getMetadata();if(await(function(j,I){const R=ge(j),V=Bt(I.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",(O=>R.Pi.getBundleMetadata(O,I.id))).then((O=>!!O&&O.createTime.compareTo(V)>=0))})(c.localStore,g))return await d.close(),h._completeWith((function(j){return{taskState:"Success",documentsLoaded:j.totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}})(g)),Promise.resolve(new Set);h._updateProgress(hS(g));const y=new zy(g,d.serializer);let x=await d.Su();for(;x;){const E=await y.Ga(x);E&&h._updateProgress(E),x=await d.Su()}const b=await y.ja(c.localStore);return await ni(c,b.Ja,void 0),await(function(j,I){const R=ge(j);return R.persistence.runTransaction("Save bundle","readwrite",(V=>R.Pi.saveBundleMetadata(V,I)))})(c.localStore,g),h._completeWith(b.progress),Promise.resolve(b.Ha)}catch(g){return zn(pa,`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}})(r,e,t).then((a=>{r.sharedClientState.notifyBundleLoaded(a)}))}class rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jo(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return KN(this.persistence,new GN,e.initialUser,this.serializer)}Cu(e){return new Sy(Im.Vi,this.serializer)}Du(e){return new rS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rc.provider={build:()=>new rc};class Ky extends rc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){_e(this.persistence.referenceDelegate instanceof em,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $N(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new Sy((r=>em.Vi(r,t)),this.serializer)}}class Qy extends rc{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Gy(this.xu.syncEngine),await pc(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return KN(this.persistence,new GN,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new $N(r,e.asyncQueue,t)}Mu(e,t){const r=new _R(t,this.persistence);return new vR(e.asyncQueue,r)}Cu(e){const t=Iy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new Ay(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,sS(),Vf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new rS}}class vS extends Qy{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof np&&(this.sharedClientState.syncEngine={So:ck.bind(null,t),Do:hk.bind(null,t),Co:fk.bind(null,t),hs:dk.bind(null,t),bo:lk.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await uk(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=sS();if(!np.v(t))throw new le(W.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Iy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new np(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class aa{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ik.bind(null,this.syncEngine),await Up(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FD})()}createDatastore(e){const t=jo(e.databaseInfo.databaseId),r=TD(e.databaseInfo);return jD(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,c,d,h){return new RD(r,a,c,d,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>D1(this.syncEngine,t,0)),(function(){return N1.v()?new N1:new vD})())}createSyncEngine(e,t){return(function(a,c,d,h,g,y,x){const b=new QD(a,c,d,h,g,y);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ge(t);de(wo,"RemoteStore shutting down."),r.Ea.add(5),await gc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}aa.provider={build:()=>new aa};function M1(s,e=10240){let t=0;return{async read(){if(t<s.byteLength){const r={value:s.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Rm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class gk{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new dn,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.qu(`length string (${t}) is not valid number`);const a=await this.Uu(r);return new dS(JSON.parse(a),e.length+r)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class pk{constructor(e,t){this.bundleData=e,this.serializer=t,this.cursor=0,this.elements=[];let r=this.Su();if(!r||!r.Ua())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(r?.qa)}`);this.metadata=r;do r=this.Su(),r!==null&&this.elements.push(r);while(r!==null)}getMetadata(){return this.metadata}Qu(){return this.elements}Su(){if(this.cursor===this.bundleData.length)return null;const e=this.Ku(),t=this.Uu(e);return new dS(JSON.parse(t),e)}Uu(e){if(this.cursor+e>this.bundleData.length)throw new le(W.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}Ku(){const e=this.cursor;let t=this.cursor;for(;t<this.bundleData.length;){if(this.bundleData[t]==="{"){if(t===e)throw new Error("First character is a bracket and not a number");return this.cursor=t,Number(this.bundleData.slice(e,t))}t++}throw new Error("Reached the end of bundle when more is expected.")}}let yk=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new le(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(a,c){const d=ge(a),h={documents:c.map((b=>cd(d.serializer,b)))},g=await d.jo("BatchGetDocuments",d.serializer.databaseId,Ue.emptyPath(),h,c.length),y=new Map;g.forEach((b=>{const E=D5(d.serializer,b);y.set(E.key.toString(),E)}));const x=[];return c.forEach((b=>{const E=y.get(b.toString());_e(!!E,55234,{key:b}),x.push(E)})),x})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const a=fe.fromPath(r);this.mutations.push(new yy(a,this.precondition(a)))})),await(async function(r,a){const c=ge(r),d={writes:a.map((h=>ud(c.serializer,h)))};await c.Wo("Commit",c.serializer.databaseId,Ue.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xe(50498,{Gu:e.constructor.name});t=Ee.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new le(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ee.min())?Ct.exists(!1):Ct.updateTime(t):Ct.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ee.min()))throw new le(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ct.updateTime(t)}return Ct.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class xk{constructor(e,t,r,a,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=a,this.deferred=c,this.zu=r.maxAttempts,this.M_=new Dy(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new yk(this.datastore),t=this.Ju(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((a=>{this.Zu(a)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const t=this.updateFunction(e);return!_d(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!mN(t)}return!1}}const oa="FirestoreClient";class bk{constructor(e,t,r,a,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{de(oa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(de(oa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=xc(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sp(s,e){s.asyncQueue.verifyOperationInProgress(),de(oa,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let r=t.initialUser;s.setCredentialChangeListener((async a=>{r.isEqual(a)||(await QN(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function V1(s,e){s.asyncQueue.verifyOperationInProgress();const t=await Yy(s);de(oa,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener((r=>A1(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,a)=>A1(e.remoteStore,a))),s._onlineComponents=e}async function Yy(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(oa,"Using user provided OfflineComponentProvider");try{await sp(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===W.FAILED_PRECONDITION||a.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;zn("Error using user provided cache. Falling back to memory cache: "+t),await sp(s,new rc)}}else de(oa,"Using default OfflineComponentProvider"),await sp(s,new Ky(void 0));return s._offlineComponents}async function Dm(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(oa,"Using user provided OnlineComponentProvider"),await V1(s,s._uninitializedComponentsProvider._online)):(de(oa,"Using default OnlineComponentProvider"),await V1(s,new aa))),s._onlineComponents}function _S(s){return Yy(s).then((e=>e.persistence))}function bc(s){return Yy(s).then((e=>e.localStore))}function wS(s){return Dm(s).then((e=>e.remoteStore))}function Jy(s){return Dm(s).then((e=>e.syncEngine))}function ES(s){return Dm(s).then((e=>e.datastore))}async function sc(s){const e=await Dm(s),t=e.eventManager;return t.onListen=YD.bind(null,e.syncEngine),t.onUnlisten=XD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=JD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WD.bind(null,e.syncEngine),t}function vk(s){return s.asyncQueue.enqueue((async()=>{const e=await _S(s),t=await wS(s);return e.setNetworkEnabled(!0),(function(a){const c=ge(a);return c.Ea.delete(0),jd(c)})(t)}))}function _k(s){return s.asyncQueue.enqueue((async()=>{const e=await _S(s),t=await wS(s);return e.setNetworkEnabled(!1),(async function(a){const c=ge(a);c.Ea.add(0),await gc(c),c.Va.set("Offline")})(t)}))}function wk(s,e,t,r){const a=new Rm(r),c=new $y(e,a,t);return s.asyncQueue.enqueueAndForget((async()=>Oy(await sc(s),c))),()=>{a.Nu(),s.asyncQueue.enqueueAndForget((async()=>Ly(await sc(s),c)))}}function Ek(s,e){const t=new dn;return s.asyncQueue.enqueueAndForget((async()=>(async function(a,c,d){try{const h=await(function(y,x){const b=ge(y);return b.persistence.runTransaction("read document","readonly",(E=>b.localDocuments.getDocument(E,x)))})(a,c);h.isFoundDocument()?d.resolve(h):h.isNoDocument()?d.resolve(null):d.reject(new le(W.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=xc(h,`Failed to get document '${c} from cache`);d.reject(g)}})(await bc(s),e,t))),t.promise}function TS(s,e,t={}){const r=new dn;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,h,g,y){const x=new Rm({next:E=>{x.Nu(),d.enqueueAndForget((()=>Ly(c,b)));const j=E.docs.has(h);!j&&E.fromCache?y.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&E.fromCache&&g&&g.source==="server"?y.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(E)},error:E=>y.reject(E)}),b=new $y(hc(h.path),x,{includeMetadataChanges:!0,Ka:!0});return Oy(c,b)})(await sc(s),s.asyncQueue,e,t,r))),r.promise}function Tk(s,e){const t=new dn;return s.asyncQueue.enqueueAndForget((async()=>(async function(a,c,d){try{const h=await tm(a,c,!0),g=new gS(c,h.ks),y=g.ru(h.documents),x=g.applyChanges(y,!1);d.resolve(x.snapshot)}catch(h){const g=xc(h,`Failed to execute query '${c} against cache`);d.reject(g)}})(await bc(s),e,t))),t.promise}function NS(s,e,t={}){const r=new dn;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,h,g,y){const x=new Rm({next:E=>{x.Nu(),d.enqueueAndForget((()=>Ly(c,b))),E.fromCache&&g.source==="server"?y.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(E)},error:E=>y.reject(E)}),b=new $y(h,x,{includeMetadataChanges:!0,Ka:!0});return Oy(c,b)})(await sc(s),s.asyncQueue,e,t,r))),r.promise}function Nk(s,e,t){const r=new dn;return s.asyncQueue.enqueueAndForget((async()=>{try{const a=await ES(s);r.resolve((async function(d,h,g){const y=ge(d),{request:x,gt:b,parent:E}=NN(y.serializer,XT(h),g);y.connection.Ko||delete x.parent;const j=(await y.jo("RunAggregationQuery",y.serializer.databaseId,E,x,1)).filter((R=>!!R.result));_e(j.length===1,64727);const I=j[0].result?.aggregateFields;return Object.keys(I).reduce(((R,V)=>(R[b[V]]=I[V],R)),{})})(a,e,t))}catch(a){r.reject(a)}})),r.promise}function Sk(s,e){const t=new dn;return s.asyncQueue.enqueueAndForget((async()=>ZD(await Jy(s),e,t))),t.promise}function Ak(s,e){const t=new Rm(e);return s.asyncQueue.enqueueAndForget((async()=>(function(a,c){ge(a).Ca.add(c),c.next()})(await sc(s),t))),()=>{t.Nu(),s.asyncQueue.enqueueAndForget((async()=>(function(a,c){ge(a).Ca.delete(c)})(await sc(s),t)))}}function Ik(s,e,t){const r=new dn;return s.asyncQueue.enqueueAndForget((async()=>{const a=await ES(s);new xk(s.asyncQueue,a,t,e,r).ju()})),r.promise}function jk(s,e,t,r){const a=(function(d,h){let g;return g=typeof d=="string"?pN().encode(d):d,(function(x,b){return new gk(x,b)})((function(x,b){if(x instanceof Uint8Array)return M1(x,b);if(x instanceof ArrayBuffer)return M1(new Uint8Array(x),b);if(x instanceof ReadableStream)return x.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(g),h)})(t,jo(e));s.asyncQueue.enqueueAndForget((async()=>{mk(await Jy(s),a,r)}))}function Ck(s,e){return s.asyncQueue.enqueue((async()=>(function(r,a){const c=ge(r);return c.persistence.runTransaction("Get named query","readonly",(d=>c.Pi.getNamedQuery(d,a)))})(await bc(s),e)))}function SS(s,e){return(function(r,a){return new pk(r,a)})(s,e)}function Rk(s,e){return s.asyncQueue.enqueue((async()=>(async function(r,a){const c=ge(r),d=c.indexManager,h=[];return c.persistence.runTransaction("Configure indexes","readwrite",(g=>d.getFieldIndexes(g).next((y=>(function(b,E,j,I,R){b=[...b],E=[...E],b.sort(j),E.sort(j);const V=b.length,O=E.length;let Q=0,q=0;for(;Q<O&&q<V;){const J=j(b[q],E[Q]);J<0?R(b[q++]):J>0?I(E[Q++]):(Q++,q++)}for(;Q<O;)I(E[Q++]);for(;q<V;)R(b[q++])})(y,a,pR,(x=>{h.push(d.addFieldIndex(g,x))}),(x=>{h.push(d.deleteFieldIndex(g,x))})))).next((()=>H.waitFor(h)))))})(await bc(s),e)))}function Dk(s,e){return s.asyncQueue.enqueue((async()=>(function(r,a){ge(r).Cs.As=a})(await bc(s),e)))}function kk(s){return s.asyncQueue.enqueue((async()=>(function(t){const r=ge(t),a=r.indexManager;return r.persistence.runTransaction("Delete All Indexes","readwrite",(c=>a.deleteAllFieldIndexes(c)))})(await bc(s))))}function AS(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Mk="ComponentProvider",P1=new Map;function Vk(s,e,t,r,a){return new JR(s,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,AS(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const IS="firestore.googleapis.com",O1=!0;class L1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IS,this.ssl=O1}else this.host=e.host,this.ssl=e.ssl??O1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UN)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cd{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new dT;switch(r.type){case"firstParty":return new cR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=P1.get(t);r&&(de(Mk,"Removing Datastore"),P1.delete(t),r.terminate())})(this),Promise.resolve()}}function Xy(s,e,t,r={}){s=$e(s,Cd);const a=Ao(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},h=`${e}:${t}`;a&&(qp(`https://${h}`),dE("Firestore",!0)),c.host!==IS&&c.host!==h&&zn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:h,ssl:a,emulatorOptions:r};if(!Ur(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,x;if(typeof r.mockUserToken=="string")y=r.mockUserToken,x=ln.MOCK_USER;else{y=xI(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new ln(b)}s._authCredentials=new aR(new uT(y,x))}}class tn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tn(this.firestore,e,this._query)}}class ut{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}toJSON(){return{type:ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Io(t,ut._jsonSchema))return new ut(e,r||null,new fe(Ue.fromString(t.referencePath)))}}ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:Wt("string",ut._jsonSchemaVersion),referencePath:Wt("string")};class Pr extends tn{constructor(e,t,r){super(e,t,hc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new fe(e))}withConverter(e){return new Pr(this.firestore,e,this._path)}}function im(s,e,...t){if(s=bt(s),sy("collection","path",e),s instanceof Cd){const r=Ue.fromString(e,...t);return Sw(r),new Pr(s,null,r)}{if(!(s instanceof ut||s instanceof Pr))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Ue.fromString(e,...t));return Sw(r),new Pr(s.firestore,null,r)}}function Pk(s,e){if(s=$e(s,Cd),sy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new tn(s,null,(function(r){return new Zs(Ue.emptyPath(),r)})(e))}function bn(s,e,...t){if(s=bt(s),arguments.length===1&&(e=hm.newId()),sy("doc","path",e),s instanceof Cd){const r=Ue.fromString(e,...t);return Nw(r),new ut(s,null,new fe(r))}{if(!(s instanceof ut||s instanceof Pr))throw new le(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Ue.fromString(e,...t));return Nw(r),new ut(s.firestore,s instanceof Pr?s.converter:null,new fe(r))}}function Ok(s,e){return s=bt(s),e=bt(e),(s instanceof ut||s instanceof Pr)&&(e instanceof ut||e instanceof Pr)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function Wy(s,e){return s=bt(s),e=bt(e),s instanceof tn&&e instanceof tn&&s.firestore===e.firestore&&Td(s._query,e._query)&&s.converter===e.converter}const U1="AsyncQueue";class $1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dy(this,"async_queue_retry"),this._c=()=>{const r=Vf();r&&de(U1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Vf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Vf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new dn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!fa(e))throw e;de(U1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zt("INTERNAL UNHANDLED ERROR: ",z1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Py.createAndSchedule(this,e,t,r,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:z1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function z1(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class jS{constructor(){this._progressObserver={},this._taskCompletionResolver=new dn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Lk=-1;class pt extends Cd{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new $1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $1(e),this._firestoreClient=void 0,await e}}}function Uk(s,e,t){t||(t=id);const r=pd(s,"firestore");if(r.isInitialized(t)){const a=r.getImmediate({identifier:t}),c=r.getOptions(t);if(Ur(c,e))return a;throw new le(W.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new le(W.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UN)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Ao(e.host)&&qp(e.host),r.initialize({options:e,instanceIdentifier:t})}function CS(s,e){const t=typeof s=="object"?s:bE(),r=typeof s=="string"?s:e||id,a=pd(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const c=pI("firestore");c&&Xy(a,...c)}return a}function Rt(s){if(s._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||RS(s),s._firestoreClient}function RS(s){const e=s._freezeSettings(),t=Vk(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new bk(s._authCredentials,s._appCheckCredentials,s._queue,t,s._componentsProvider&&(function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(s._componentsProvider))}function $k(s,e){zn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=s._freezeSettings();return DS(s,aa.provider,{build:r=>new Qy(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function zk(s){zn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=s._freezeSettings();DS(s,aa.provider,{build:t=>new vS(t,e.cacheSizeBytes)})}function DS(s,e,t){if((s=$e(s,pt))._firestoreClient||s._terminated)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(s._componentsProvider||s._getSettings().localCache)throw new le(W.FAILED_PRECONDITION,"SDK cache is already specified.");s._componentsProvider={_online:e,_offline:t},RS(s)}function Bk(s){if(s._initialized&&!s._terminated)throw new le(W.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new dn;return s._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!hs.v())return Promise.resolve();const a=r+HN;await hs.delete(a)})(Iy(s._databaseId,s._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function Fk(s){return(function(t){const r=new dn;return t.asyncQueue.enqueueAndForget((async()=>rk(await Jy(t),r))),r.promise})(Rt(s=$e(s,pt)))}function qk(s){return vk(Rt(s=$e(s,pt)))}function Hk(s){return _k(Rt(s=$e(s,pt)))}function Gk(s){return Cj(s.app,"firestore",s._databaseId.database),s._delete()}function Bp(s,e){const t=Rt(s=$e(s,pt)),r=new jS;return jk(t,s._databaseId,e,r),r}function kS(s,e){return Ck(Rt(s=$e(s,pt)),e).then((t=>t?new tn(s,null,t.query):null))}class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(kt.fromBase64String(e))}catch(t){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mn(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Io(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Wt("string",Mn._jsonSchemaVersion),bytes:Wt("string")};class Co{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Kk(){return new Co(yp)}class ya{constructor(e){this._methodName=e}}class Or{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(Io(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:Wt("string",Or._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};class er{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Io(e,er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new er(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}er._jsonSchemaVersion="firestore/vectorValue/1.0",er._jsonSchema={type:Wt("string",er._jsonSchemaVersion),vectorValues:Wt("object")};const Qk=/^__.*__$/;class Yk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ti(e,this.data,this.fieldMask,t,this.fieldTransforms):new fc(e,this.data,t,this.fieldTransforms)}}class MS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ti(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:s})}}class km{constructor(e,t,r,a,c,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new km({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return am(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(VS(this.dataSource)&&Qk.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Jk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||jo(e)}createContext(e,t,r,a=!1){return new km({dataSource:e,methodName:t,targetDoc:r,path:St.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ro(s){const e=s._freezeSettings(),t=jo(s._databaseId);return new Jk(s._databaseId,!!e.ignoreUndefinedProperties,t)}function Mm(s,e,t,r,a,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,t,a);ix("Data must be an object, but it was:",d,r);const h=LS(r,d);let g,y;if(c.merge)g=new Pn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const b of c.mergeFields){const E=Xs(e,b,t);if(!d.contains(E))throw new le(W.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);$S(x,E)||x.push(E)}g=new Pn(x),y=d.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=d.fieldTransforms;return new Yk(new cn(h),g,y)}class Rd extends ya{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rd}}function PS(s,e,t){return new km({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zy extends ya{_toFieldTransform(e){return new Sd(e.path,new Jl)}isEqual(e){return e instanceof Zy}}class ex extends ya{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=PS(this,e,!0),r=this.Ac.map((c=>Do(c,t))),a=new yo(r);return new Sd(e.path,a)}isEqual(e){return e instanceof ex&&Ur(this.Ac,e.Ac)}}class tx extends ya{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=PS(this,e,!0),r=this.Ac.map((c=>Do(c,t))),a=new xo(r);return new Sd(e.path,a)}isEqual(e){return e instanceof tx&&Ur(this.Ac,e.Ac)}}class nx extends ya{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Xl(e.serializer,aN(e.serializer,this.Vc));return new Sd(e.path,t)}isEqual(e){return e instanceof nx&&this.Vc===e.Vc}}function rx(s,e,t,r){const a=s.createContext(1,e,t);ix("Data must be an object, but it was:",a,r);const c=[],d=cn.empty();ma(r,((g,y)=>{const x=ax(e,g,t);y=bt(y);const b=a.childContextForFieldPath(x);if(y instanceof Rd)c.push(x);else{const E=Do(y,b);E!=null&&(c.push(x),d.set(x,E))}}));const h=new Pn(c);return new MS(d,h,a.fieldTransforms)}function sx(s,e,t,r,a,c){const d=s.createContext(1,e,t),h=[Xs(e,r,t)],g=[a];if(c.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<c.length;E+=2)h.push(Xs(e,c[E])),g.push(c[E+1]);const y=[],x=cn.empty();for(let E=h.length-1;E>=0;--E)if(!$S(y,h[E])){const j=h[E];let I=g[E];I=bt(I);const R=d.childContextForFieldPath(j);if(I instanceof Rd)y.push(j);else{const V=Do(I,R);V!=null&&(y.push(j),x.set(j,V))}}const b=new Pn(y);return new MS(x,b,d.fieldTransforms)}function OS(s,e,t,r=!1){return Do(t,s.createContext(r?4:3,e))}function Do(s,e){if(US(s=bt(s)))return ix("Unsupported field value:",e,s),LS(s,e);if(s instanceof ya)return(function(r,a){if(!VS(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const c=[];let d=0;for(const h of r){let g=Do(h,a.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,a){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aN(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=it.fromDate(r);return{timestampValue:Wl(a.serializer,c)}}if(r instanceof it){const c=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wl(a.serializer,c)}}if(r instanceof Or)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:bN(a.serializer,r._byteString)};if(r instanceof ut){const c=a.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw a.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:wy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof er)return(function(d,h){const g=d instanceof er?d.toArray():d;return{mapValue:{fields:{[dy]:{stringValue:hy},[Kl]:{arrayValue:{values:g.map((x=>{if(typeof x!="number")throw h.createError("VectorValues must only contain numeric values.");return py(h.serializer,x)}))}}}}}})(r,a);if(CN(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${fm(r)}`)})(s,e)}function LS(s,e){const t={};return kT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(s,((r,a)=>{const c=Do(a,e.childContextForField(r));c!=null&&(t[r]=c)})),{mapValue:{fields:t}}}function US(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof it||s instanceof Or||s instanceof Mn||s instanceof ut||s instanceof ya||s instanceof er||CN(s))}function ix(s,e,t){if(!US(t)||!mT(t)){const r=fm(t);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Xs(s,e,t){if((e=bt(e))instanceof Co)return e._internalPath;if(typeof e=="string")return ax(s,e);throw am("Field path arguments must be of type string or ",s,!1,void 0,t)}const Xk=new RegExp("[~\\*/\\[\\]]");function ax(s,e,t){if(e.search(Xk)>=0)throw am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new Co(...e.split("."))._internalPath}catch{throw am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function am(s,e,t,r,a){const c=r&&!r.isEmpty(),d=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${a}`),g+=")"),new le(W.INVALID_ARGUMENT,h+s+g)}function $S(s,e){return s.some((t=>t.isEqual(e)))}class ox{convertValue(e,t="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ma(e,((a,c)=>{r[a]=this.convertValue(c,t)})),r}convertVectorValue(e){const t=e.fields?.[Kl].arrayValue?.values?.map((r=>jt(r.doubleValue)));return new er(t)}convertGeoPoint(e){return new Or(jt(e.latitude),jt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sd(e));default:return null}}convertTimestamp(e){const t=Ys(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ue.fromString(e);_e(jN(r),9688,{name:e});const a=new ta(r.get(1),r.get(3)),c=new fe(r.popFirst(5));return a.isEqual(t)||zt(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class xa extends ox{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,t)}}function Wk(){return new Rd("deleteField")}function lx(){return new Zy("serverTimestamp")}function Zk(...s){return new ex("arrayUnion",s)}function e3(...s){return new tx("arrayRemove",s)}function t3(s){return new nx("increment",s)}function n3(s){return new er(s)}function r3(s){const e=Rt($e(s.firestore,pt)),t=e._onlineComponents?.datastore.serializer;return t===void 0?null:Tm(t,Tn(s._query)).ft}function s3(s,e){const t=DT(e,((c,d)=>new fN(d,c.aggregateType,c._internalFieldPath))),r=Rt($e(s.firestore,pt)),a=r._onlineComponents?.datastore.serializer;return a===void 0?null:NN(a,XT(s._query),t,!0).request}const B1="@firebase/firestore",F1="4.11.0";function Pl(s){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const c of r)if(c in a&&typeof a[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ic{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class zS{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new cn({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class dd{constructor(e,t,r,a,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Xs("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class i3 extends dd{data(){return super.data()}}function BS(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cx{}class vc extends cx{}function a3(s,e,...t){let r=[];e instanceof cx&&r.push(e),r=r.concat(t),(function(c){const d=c.filter((g=>g instanceof ko)).length,h=c.filter((g=>g instanceof _c)).length;if(d>1||d>0&&h>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)s=a._apply(s);return s}class _c extends vc{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new _c(e,t,r)}_apply(e){const t=this._parse(e);return qS(e._query,t),new tn(e.firestore,e.converter,Ip(e._query,t))}_parse(e){const t=Ro(e.firestore);return(function(c,d,h,g,y,x,b){let E;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){H1(b,x);const I=[];for(const R of b)I.push(q1(g,c,R));E={arrayValue:{values:I}}}else E=q1(g,c,b)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||H1(b,x),E=OS(h,d,b,x==="in"||x==="not-in");return Ke.create(y,x,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function o3(s,e,t){const r=e,a=Xs("where",s);return _c._create(a,r,t)}class ko extends cx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ko(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ct.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,c){let d=a;const h=c.getFlattenedFilters();for(const g of h)qS(d,g),d=Ip(d,g)})(e._query,t),new tn(e.firestore,e.converter,Ip(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function l3(...s){return s.forEach((e=>HS("or",e))),ko._create("or",s)}function c3(...s){return s.forEach((e=>HS("and",e))),ko._create("and",s)}class Vm extends vc{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Vm(e,t)}_apply(e){const t=(function(a,c,d){if(a.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ld(c,d)})(e._query,this._field,this._direction);return new tn(e.firestore,e.converter,c5(e._query,t))}}function u3(s,e="asc"){const t=e,r=Xs("orderBy",s);return Vm._create(r,t)}class Dd extends vc{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Dd(e,t,r)}_apply(e){return new tn(e.firestore,e.converter,Jf(e._query,this._limit,this._limitType))}}function d3(s){return gT("limit",s),Dd._create("limit",s,"F")}function h3(s){return gT("limitToLast",s),Dd._create("limitToLast",s,"L")}class kd extends vc{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new kd(e,t,r)}_apply(e){const t=FS(e,this.type,this._docOrFields,this._inclusive);return new tn(e.firestore,e.converter,u5(e._query,t))}}function f3(...s){return kd._create("startAt",s,!0)}function m3(...s){return kd._create("startAfter",s,!1)}class Md extends vc{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Md(e,t,r)}_apply(e){const t=FS(e,this.type,this._docOrFields,this._inclusive);return new tn(e.firestore,e.converter,d5(e._query,t))}}function g3(...s){return Md._create("endBefore",s,!1)}function p3(...s){return Md._create("endAt",s,!0)}function FS(s,e,t,r){if(t[0]=bt(t[0]),t[0]instanceof dd)return(function(c,d,h,g,y){if(!g)throw new le(W.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const x=[];for(const b of Ml(c))if(b.field.isKeyField())x.push(go(d,g.key));else{const E=g.data.field(b.field);if(xm(E))throw new le(W.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const j=b.field.canonicalString();throw new le(W.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}x.push(E)}return new sa(x,y)})(s._query,s.firestore._databaseId,e,t[0]._document,r);{const a=Ro(s.firestore);return(function(d,h,g,y,x,b){const E=d.explicitOrderBy;if(x.length>E.length)throw new le(W.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let I=0;I<x.length;I++){const R=x[I];if(E[I].field.isKeyField()){if(typeof R!="string")throw new le(W.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof R}`);if(!my(d)&&R.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${R}' contains a slash.`);const V=d.path.child(Ue.fromString(R));if(!fe.isDocumentKey(V))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const O=new fe(V);j.push(go(h,O))}else{const V=OS(g,y,R);j.push(V)}}return new sa(j,b)})(s._query,s.firestore._databaseId,a,e,t,r)}}function q1(s,e,t){if(typeof(t=bt(t))=="string"){if(t==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!my(e)&&t.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ue.fromString(t));if(!fe.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return go(s,new fe(r))}if(t instanceof ut)return go(s,t._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fm(t)}.`)}function H1(s,e){if(!Array.isArray(s)||s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qS(s,e){const t=(function(a,c){for(const d of a)for(const h of d.getFlattenedFilters())if(c.indexOf(h.op)>=0)return h.op;return null})(s.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function HS(s,e){if(!(e instanceof _c||e instanceof ko))throw new le(W.INVALID_ARGUMENT,`Function ${s}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function Pm(s,e,t){let r;return r=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,r}class ux extends ox{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,t)}}function y3(s){return new ic("sum",Xs("sum",s))}function x3(s){return new ic("avg",Xs("average",s))}function GS(){return new ic("count")}function b3(s,e){return s instanceof ic&&e instanceof ic&&s.aggregateType===e.aggregateType&&s._internalFieldPath?.canonicalString()===e._internalFieldPath?.canonicalString()}function v3(s,e){return Wy(s.query,e.query)&&Ur(s.data(),e.data())}function _3(s){return KS(s,{count:GS()})}function KS(s,e){const t=$e(s.firestore,pt),r=Rt(t),a=DT(e,((c,d)=>new fN(d,c.aggregateType,c._internalFieldPath)));return Nk(r,s._query,a).then((c=>(function(h,g,y){const x=new xa(h);return new zS(g,x,y)})(t,s,c)))}class w3{constructor(e){this.kind="memory",this._onlineComponentProvider=aa.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new Ky(void 0)}}toJSON(){return{kind:this.kind}}}class E3{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=QS(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class T3{constructor(){this.kind="memoryEager",this._offlineComponentProvider=rc.provider}toJSON(){return{kind:this.kind}}}class N3{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new Ky(e)}}toJSON(){return{kind:this.kind}}}function S3(){return new T3}function A3(s){return new N3(s?.cacheSizeBytes)}function I3(s){return new w3(s)}function j3(s){return new E3(s)}class C3{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=aa.provider,this._offlineComponentProvider={build:t=>new Qy(t,e?.cacheSizeBytes,this.forceOwnership)}}}class R3{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=aa.provider,this._offlineComponentProvider={build:t=>new vS(t,e?.cacheSizeBytes)}}}function QS(s){return new C3(s?.forceOwnership)}function D3(){return new R3}const YS="NOT SUPPORTED";class qs{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ln extends dd{constructor(e,t,r,a,c,d){super(e,t,r,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Xs("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ln._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}function k3(s,e,t){if(Io(e,Ln._jsonSchema)){if(e.bundle===YS)throw new le(W.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=jo(s._databaseId),a=SS(e.bundle,r),c=a.t(),d=new zy(a.getMetadata(),r);for(const x of c)d.o(x);const h=d.documents;if(h.length!==1)throw new le(W.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${h.length} documents.`);const g=Em(r,h[0].document),y=new fe(Ue.fromString(e.bundleName));return new Ln(s,new ux(s),y,g,new qs(!1,!1),t||null)}}Ln._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ln._jsonSchema={type:Wt("string",Ln._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class Yu extends Ln{data(e={}){return super.data(e)}}class Un{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new qs(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Yu(this._firestore,this._userDataWriter,r.key,r,new qs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map((h=>{const g=new Yu(a._firestore,a._userDataWriter,h.doc.key,h.doc,new qs(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>c||h.type!==3)).map((h=>{const g=new Yu(a._firestore,a._userDataWriter,h.doc.key,h.doc,new qs(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,x=-1;return h.type!==0&&(y=d.indexOf(h.doc.key),d=d.delete(h.doc.key)),h.type!==1&&(d=d.add(h.doc),x=d.indexOf(h.doc.key)),{type:V3(h.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Un._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function M3(s,e,t){if(Io(e,Un._jsonSchema)){if(e.bundle===YS)throw new le(W.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=jo(s._databaseId),a=SS(e.bundle,r),c=a.t(),d=new zy(a.getMetadata(),r);for(const E of c)d.o(E);if(d.queries.length!==1)throw new le(W.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${d.queries.length} queries.`);const h=Nm(d.queries[0].bundledQuery),g=d.documents;let y=new uo;g.map((E=>{const j=Em(r,E.document);y=y.add(j)}));const x=Eo.fromInitialDocuments(h,y,Me(),!1,!1),b=new tn(s,t||null,h);return new Un(s,new ux(s),b,x)}}function V3(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:s})}}function P3(s,e){return s instanceof Ln&&e instanceof Ln?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(s._document===null?e._document===null:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Un&&e instanceof Un&&s._firestore===e._firestore&&Wy(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}Un._jsonSchemaVersion="firestore/querySnapshot/1.0",Un._jsonSchema={type:Wt("string",Un._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};const O3={maxAttempts:5};class JS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ro(e)}set(e,t,r){this._verifyNotCommitted();const a=Qi(e,this._firestore),c=Pm(a.converter,t,r),d=Mm(this._dataReader,"WriteBatch.set",a._key,c,a.converter!==null,r);return this._mutations.push(d.toMutation(a._key,Ct.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const c=Qi(e,this._firestore);let d;return d=typeof(t=bt(t))=="string"||t instanceof Co?sx(this._dataReader,"WriteBatch.update",c._key,t,r,a):rx(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,Ct.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qi(e,this._firestore);return this._mutations=this._mutations.concat(new mc(t._key,Ct.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qi(s,e){if((s=bt(s)).firestore!==e)throw new le(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class L3{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ro(e)}get(e){const t=Qi(e,this._firestore),r=new ux(this._firestore);return this._transaction.lookup([t._key]).then((a=>{if(!a||a.length!==1)return xe(24041);const c=a[0];if(c.isFoundDocument())return new dd(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new dd(this._firestore,r,t._key,null,t.converter);throw xe(18433,{doc:c})}))}set(e,t,r){const a=Qi(e,this._firestore),c=Pm(a.converter,t,r),d=Mm(this._dataReader,"Transaction.set",a._key,c,a.converter!==null,r);return this._transaction.set(a._key,d),this}update(e,t,r,...a){const c=Qi(e,this._firestore);let d;return d=typeof(t=bt(t))=="string"||t instanceof Co?sx(this._dataReader,"Transaction.update",c._key,t,r,a):rx(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,d),this}delete(e){const t=Qi(e,this._firestore);return this._transaction.delete(t._key),this}}class XS extends L3{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Qi(e,this._firestore),r=new xa(this._firestore);return super.get(e).then((a=>new Ln(this._firestore,r,t._key,a._document,new qs(!1,!1),t.converter)))}}function U3(s,e,t){s=$e(s,pt);const r={...O3,...t};(function(d){if(d.maxAttempts<1)throw new le(W.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const a=Rt(s);return Ik(a,(c=>e(new XS(s,c))),r)}function Vd(s){s=$e(s,ut);const e=$e(s.firestore,pt),t=Rt(e);return TS(t,s._key).then((r=>dx(e,s,r)))}function $3(s){s=$e(s,ut);const e=$e(s.firestore,pt),t=Rt(e),r=new xa(e);return Ek(t,s._key).then((a=>new Ln(e,r,s._key,a,new qs(a!==null&&a.hasLocalMutations,!0),s.converter)))}function z3(s){s=$e(s,ut);const e=$e(s.firestore,pt),t=Rt(e);return TS(t,s._key,{source:"server"}).then((r=>dx(e,s,r)))}function WS(s){s=$e(s,tn);const e=$e(s.firestore,pt),t=Rt(e),r=new xa(e);return BS(s._query),NS(t,s._query).then((a=>new Un(e,r,s,a)))}function B3(s){s=$e(s,tn);const e=$e(s.firestore,pt),t=Rt(e),r=new xa(e);return Tk(t,s._query).then((a=>new Un(e,r,s,a)))}function F3(s){s=$e(s,tn);const e=$e(s.firestore,pt),t=Rt(e),r=new xa(e);return NS(t,s._query,{source:"server"}).then((a=>new Un(e,r,s,a)))}function Hs(s,e,t){s=$e(s,ut);const r=$e(s.firestore,pt),a=Pm(s.converter,e,t),c=Ro(r);return wc(r,[Mm(c,"setDoc",s._key,a,s.converter!==null,t).toMutation(s._key,Ct.none())])}function ZS(s,e,t,...r){s=$e(s,ut);const a=$e(s.firestore,pt),c=Ro(a);let d;return d=typeof(e=bt(e))=="string"||e instanceof Co?sx(c,"updateDoc",s._key,e,t,r):rx(c,"updateDoc",s._key,e),wc(a,[d.toMutation(s._key,Ct.exists(!0))])}function eA(s){return wc($e(s.firestore,pt),[new mc(s._key,Ct.none())])}function tA(s,e){const t=$e(s.firestore,pt),r=bn(s),a=Pm(s.converter,e),c=Ro(s.firestore);return wc(t,[Mm(c,"addDoc",r._key,a,s.converter!==null,{}).toMutation(r._key,Ct.exists(!1))]).then((()=>r))}function hd(s,...e){s=bt(s);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Pl(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Pl(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,h;if(s instanceof ut)d=$e(s.firestore,pt),h=hc(s._key.path),c={next:y=>{e[r]&&e[r](dx(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=$e(s,tn);d=$e(y.firestore,pt),h=y._query;const x=new xa(d);c={next:b=>{e[r]&&e[r](new Un(d,x,y,b))},error:e[r+1],complete:e[r+2]},BS(s._query)}const g=Rt(d);return wk(g,h,a,c)}function q3(s,e,...t){const r=bt(s),a=(function(g){const y={bundle:"",bundleName:"",bundleSource:""},x=["bundle","bundleName","bundleSource"];for(const b of x){if(!(b in g)){y.error=`snapshotJson missing required field: ${b}`;break}const E=g[b];if(typeof E!="string"){y.error=`snapshotJson field '${b}' must be a string.`;break}if(E.length===0){y.error=`snapshotJson field '${b}' cannot be an empty string.`;break}b==="bundle"?y.bundle=E:b==="bundleName"?y.bundleName=E:b==="bundleSource"&&(y.bundleSource=E)}return y})(e);if(a.error)throw new le(W.INVALID_ARGUMENT,a.error);let c,d=0;if(typeof t[d]!="object"||Pl(t[d])||(c=t[d++]),a.bundleSource==="QuerySnapshot"){let h=null;if(typeof t[d]=="object"&&Pl(t[d])){const g=t[d++];h={next:g.next,error:g.error,complete:g.complete}}else h={next:t[d++],error:t[d++],complete:t[d++]};return(function(y,x,b,E,j){let I,R=!1;return Bp(y,x.bundle).then((()=>kS(y,x.bundleName))).then((O=>{O&&!R&&(j&&O.withConverter(j),I=hd(O,b||{},E))})).catch((O=>(E.error&&E.error(O),()=>{}))),()=>{R||(R=!0,I&&I())}})(r,a,c,h,t[d])}if(a.bundleSource==="DocumentSnapshot"){let h=null;if(typeof t[d]=="object"&&Pl(t[d])){const g=t[d++];h={next:g.next,error:g.error,complete:g.complete}}else h={next:t[d++],error:t[d++],complete:t[d++]};return(function(y,x,b,E,j){let I,R=!1;return Bp(y,x.bundle).then((()=>{if(!R){const O=new ut(y,j||null,fe.fromPath(x.bundleName));I=hd(O,b||{},E)}})).catch((O=>(E.error&&E.error(O),()=>{}))),()=>{R||(R=!0,I&&I())}})(r,a,c,h,t[d])}throw new le(W.INVALID_ARGUMENT,`unsupported bundle source: ${a.bundleSource}`)}function H3(s,e){s=$e(s,pt);const t=Rt(s),r=Pl(e)?e:{next:e};return Ak(t,r)}function wc(s,e){const t=Rt(s);return Sk(t,e)}function dx(s,e,t){const r=t.docs.get(e._key),a=new xa(s);return new Ln(s,a,e._key,r,new qs(t.hasPendingWrites,t.fromCache),e.converter)}function G3(s){return s=$e(s,pt),Rt(s),new JS(s,(e=>wc(s,e)))}function K3(s,e){s=$e(s,pt);const t=Rt(s);if(!t._uninitializedComponentsProvider||t._uninitializedComponentsProvider._offline.kind==="memory")return zn("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=(function(c){const d=typeof c=="string"?(function(y){try{return JSON.parse(y)}catch(x){throw new le(W.INVALID_ARGUMENT,"Failed to parse JSON: "+x?.message)}})(c):c,h=[];if(Array.isArray(d.indexes))for(const g of d.indexes){const y=G1(g,"collectionGroup"),x=[];if(Array.isArray(g.fields))for(const b of g.fields){const E=G1(b,"fieldPath"),j=ax("setIndexConfiguration",E);b.arrayConfig==="CONTAINS"?x.push(new lo(j,2)):b.order==="ASCENDING"?x.push(new lo(j,0)):b.order==="DESCENDING"&&x.push(new lo(j,1))}h.push(new zl(zl.UNKNOWN_ID,y,x,Bl.empty()))}return h})(e);return Rk(t,r)}function G1(s,e){if(typeof s[e]!="string")throw new le(W.INVALID_ARGUMENT,"Missing string value for: "+e);return s[e]}class nA{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function Q3(s){s=$e(s,pt);const e=K1.get(s);if(e)return e;if(Rt(s)._uninitializedComponentsProvider?._offline.kind!=="persistent")return null;const r=new nA(s);return K1.set(s,r),r}function Y3(s){rA(s,!0)}function J3(s){rA(s,!1)}function X3(s){const e=Rt(s._firestore);kk(e).then((t=>de("deleting all persistent cache indexes succeeded"))).catch((t=>zn("deleting all persistent cache indexes failed",t)))}function rA(s,e){const t=Rt(s._firestore);Dk(t,e).then((r=>de(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((r=>zn(`setting persistent cache index auto creation isEnabled=${e} failed`,r)))}const K1=new WeakMap;class W3{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return hx.instance.onExistenceFilterMismatch(e)}}class hx{constructor(){this.i=new Map}static get instance(){return vf||(vf=new hx,T5(vf)),vf}u(e){this.i.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),r=this.i;return r.set(t,e),()=>r.delete(t)}}let vf=null;(function(e,t=!0){rR(cc),Ll(new ho("firestore",((r,{instanceIdentifier:a,options:c})=>{const d=r.getProvider("app").getImmediate(),h=new pt(new oR(r.getProvider("auth-internal")),new uR(d,r.getProvider("app-check-internal")),XR(d,a),d);return c={useFetchStreams:t,...c},h._setSettings(c),h}),"PUBLIC").setMultipleInstances(!0)),Xi(B1,F1,e),Xi(B1,F1,"esm2020")})();const Z3=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:ox,AggregateField:ic,AggregateQuerySnapshot:zS,Bytes:Mn,CACHE_SIZE_UNLIMITED:Lk,CollectionReference:Pr,DocumentReference:ut,DocumentSnapshot:Ln,FieldPath:Co,FieldValue:ya,Firestore:pt,FirestoreError:le,GeoPoint:Or,LoadBundleTask:jS,PersistentCacheIndexManager:nA,Query:tn,QueryCompositeFilterConstraint:ko,QueryConstraint:vc,QueryDocumentSnapshot:Yu,QueryEndAtConstraint:Md,QueryFieldFilterConstraint:_c,QueryLimitConstraint:Dd,QueryOrderByConstraint:Vm,QuerySnapshot:Un,QueryStartAtConstraint:kd,SnapshotMetadata:qs,Timestamp:it,Transaction:XS,VectorValue:er,WriteBatch:JS,_AutoId:hm,_ByteString:kt,_DatabaseId:ta,_DocumentKey:fe,_EmptyAppCheckTokenProvider:dR,_EmptyAuthCredentialsProvider:dT,_FieldPath:St,_TestingHooks:W3,_cast:$e,_debugAssert:iR,_internalAggregationQueryToProtoRunAggregationQueryRequest:s3,_internalQueryToProtoQueryTarget:r3,_isBase64Available:QR,_logWarn:zn,_validateIsNotUsedTogether:fT,addDoc:tA,aggregateFieldEqual:b3,aggregateQuerySnapshotEqual:v3,and:c3,arrayRemove:e3,arrayUnion:Zk,average:x3,clearIndexedDbPersistence:Bk,collection:im,collectionGroup:Pk,connectFirestoreEmulator:Xy,count:GS,deleteAllPersistentCacheIndexes:X3,deleteDoc:eA,deleteField:Wk,disableNetwork:Hk,disablePersistentCacheIndexAutoCreation:J3,doc:bn,documentId:Kk,documentSnapshotFromJSON:k3,enableIndexedDbPersistence:$k,enableMultiTabIndexedDbPersistence:zk,enableNetwork:qk,enablePersistentCacheIndexAutoCreation:Y3,endAt:p3,endBefore:g3,ensureFirestoreConfigured:Rt,executeWrite:wc,getAggregateFromServer:KS,getCountFromServer:_3,getDoc:Vd,getDocFromCache:$3,getDocFromServer:z3,getDocs:WS,getDocsFromCache:B3,getDocsFromServer:F3,getFirestore:CS,getPersistentCacheIndexManager:Q3,increment:t3,initializeFirestore:Uk,limit:d3,limitToLast:h3,loadBundle:Bp,memoryEagerGarbageCollector:S3,memoryLocalCache:I3,memoryLruGarbageCollector:A3,namedQuery:kS,onSnapshot:hd,onSnapshotResume:q3,onSnapshotsInSync:H3,or:l3,orderBy:u3,persistentLocalCache:j3,persistentMultipleTabManager:D3,persistentSingleTabManager:QS,query:a3,queryEqual:Wy,querySnapshotFromJSON:M3,refEqual:Ok,runTransaction:U3,serverTimestamp:lx,setDoc:Hs,setIndexConfiguration:K3,setLogLevel:sR,snapshotEqual:P3,startAfter:m3,startAt:f3,sum:y3,terminate:Gk,updateDoc:ZS,vector:n3,waitForPendingWrites:Fk,where:o3,writeBatch:G3},Symbol.toStringTag,{value:"Module"})),e6={apiKey:"AIzaSyD-gvT3vj9K_ZluAnQtMHxBsvGPn2dBaZA",authDomain:"intern-7403e.firebaseapp.com",projectId:"intern-7403e",storageBucket:"intern-7403e.firebasestorage.app",messagingSenderId:"822211002373",appId:"1:822211002373:web:6366620782cfdbd0c15c6c"},sA=xE(e6),$s=tR(sA),iA=new Us,xt=CS(sA);$E($s,"http://localhost:19099"),Xy(xt,"localhost",18087),console.log("Connected to Firebase Emulators");const io=!0,aA=$.createContext(void 0),t6=({children:s})=>{const[e,t]=$.useState(null),[r,a]=$.useState(null),[c,d]=$.useState(!0);$.useEffect(()=>{let x;const b=mw($s,async E=>{a(E),E?x=hd(bn(xt,"users",E.uid),j=>{j.exists()?t(j.data()):t(null),d(!1)},j=>{console.error("Error listening to user profile:",j),t(null),d(!1)}):(t(null),d(!1),x&&x())});return()=>{b(),x&&x()}},[]);const h=$.useCallback(async(x,b)=>{try{return await FC($s,x,b),new Promise(E=>{const j=mw($s,async I=>{if(I)try{const R=await Vd(bn(xt,"users",I.uid));if(R.exists()){const V=R.data();E(V)}else E(null)}catch(R){console.error("Error fetching user profile:",R),E(null)}else E(null);j()})})}catch(E){return console.error("Login error:",E),null}},[]),g=$.useCallback(async()=>{await $s.signOut()},[]),y=$.useCallback(async(x,b)=>{try{let E;if(b)E=(await BC($s,x.email,b)).user.uid;else{if(!r)throw new Error("No authenticated user for Google registration");E=r.uid}const j=x.role!=="employer",I={...x,uid:E,id:E,isApproved:j,createdAt:new Date().toISOString()};return await Hs(bn(xt,"users",E),I),I}catch(E){throw console.error("Error creating user account:",E),E.code==="auth/email-already-in-use"?new Error("An account with this email already exists in authentication. Please try logging in instead."):E}},[r]);return l.jsx(aA.Provider,{value:{currentUser:e,firebaseUser:r,loading:c,login:h,logout:g,register:y},children:s})},fx=()=>{const s=$.useContext(aA);if(!s)throw new Error("useAuth must be used within AuthProvider");return s},oA=$.createContext(void 0),Ls=()=>Math.random().toString(36).substring(2,11)+Date.now().toString(36),Q1=[{uid:"admin1",id:"admin1",name:"Admin User",email:"admin@hirehub.com",role:"admin",createdAt:new Date().toISOString()},{uid:"emp1",id:"emp1",name:"Sarah Johnson",email:"sarah@techcorp.com",role:"employer",companyName:"TechCorp Solutions",companyLogo:"",companyDescription:"Leading technology solutions provider specializing in AI and cloud computing. We build the future of enterprise software.",companyWebsite:"https://techcorp.example.com",companySize:"500-1000",industry:"Technology",companyLocation:"San Francisco, CA",isApproved:!0,createdAt:new Date(Date.now()-30*864e5).toISOString()},{uid:"emp2",id:"emp2",name:"Michael Chen",email:"michael@designhub.com",role:"employer",companyName:"DesignHub Creative",companyLogo:"",companyDescription:"Award-winning creative agency focused on brand identity, UX/UI design, and digital marketing campaigns.",companyWebsite:"https://designhub.example.com",companySize:"50-200",industry:"Design & Creative",companyLocation:"New York, NY",isApproved:!0,createdAt:new Date(Date.now()-25*864e5).toISOString()},{uid:"emp3",id:"emp3",name:"Emily Rodriguez",email:"emily@greenenergy.com",role:"employer",companyName:"GreenEnergy Inc",companyLogo:"",companyDescription:"Pioneering renewable energy solutions for a sustainable future. Solar, wind, and battery storage technologies.",companyWebsite:"https://greenenergy.example.com",companySize:"200-500",industry:"Energy & Environment",companyLocation:"Austin, TX",isApproved:!0,createdAt:new Date(Date.now()-20*864e5).toISOString()},{uid:"emp4",id:"emp4",name:"David Park",email:"david@financeplus.com",role:"employer",companyName:"FinancePlus",companyLogo:"",companyDescription:"Modern fintech company revolutionizing personal and business banking with cutting-edge technology.",companyWebsite:"https://financeplus.example.com",companySize:"1000+",industry:"Finance & Banking",companyLocation:"Chicago, IL",isApproved:!0,createdAt:new Date(Date.now()-15*864e5).toISOString()},{uid:"emp5",id:"emp5",name:"Your Company Name",email:"your@email.com",role:"employer",companyName:"Your Company",companyLogo:"",companyDescription:"Your company description here.",companyWebsite:"https://yourcompany.com",companySize:"50-200",industry:"Technology",companyLocation:"Your City, Country",isApproved:!1,createdAt:new Date().toISOString()},{uid:"stu1",id:"stu1",name:"Alex Thompson",email:"alex@student.com",role:"student",skills:["React","TypeScript","Node.js","Python"],education:"BS Computer Science - Stanford University",bio:"Passionate software engineering student looking for full-time opportunities.",phone:"+1-555-0101",createdAt:new Date(Date.now()-10*864e5).toISOString()}],n6=[{id:"job1",employerId:"emp1",companyName:"TechCorp Solutions",companyLogo:"",title:"Senior Frontend Developer",description:`We are looking for an experienced Frontend Developer to join our team and help build next-generation web applications. You will work with React, TypeScript, and modern web technologies to create beautiful, performant user interfaces.

Responsibilities:
- Build and maintain complex web applications
- Collaborate with designers and backend engineers
- Write clean, testable code
- Mentor junior developers`,location:"San Francisco, CA",type:"Full-time",salary:"$120,000 - $160,000",requirements:["5+ years React experience","TypeScript proficiency","CSS/Tailwind expertise","Git version control"],category:"Engineering",postedDate:new Date(Date.now()-2*864e5).toISOString(),deadline:new Date(Date.now()+28*864e5).toISOString(),status:"active",applicantCount:0},{id:"job2",employerId:"emp1",companyName:"TechCorp Solutions",companyLogo:"",title:"Backend Engineer - Python",description:`Join our backend team to design and implement scalable microservices. You will work on distributed systems that process millions of requests daily.

Responsibilities:
- Design and implement REST APIs
- Optimize database queries and system performance
- Work with cloud services (AWS/GCP)
- Participate in code reviews`,location:"Remote",type:"Full-time",salary:"$130,000 - $170,000",requirements:["Python/Django experience","SQL & NoSQL databases","REST API design","Cloud services experience"],category:"Engineering",postedDate:new Date(Date.now()-5*864e5).toISOString(),deadline:new Date(Date.now()+25*864e5).toISOString(),status:"active",applicantCount:0},{id:"job3",employerId:"emp2",companyName:"DesignHub Creative",companyLogo:"",title:"UX/UI Designer",description:`We need a talented UX/UI Designer to create intuitive and visually stunning designs for our clients. You will work on a variety of projects from mobile apps to enterprise platforms.

Responsibilities:
- Create wireframes, prototypes, and high-fidelity designs
- Conduct user research and usability testing
- Maintain and evolve our design system
- Present designs to stakeholders`,location:"New York, NY",type:"Full-time",salary:"$90,000 - $130,000",requirements:["Figma expertise","Portfolio required","User research skills","3+ years experience"],category:"Design",postedDate:new Date(Date.now()-1*864e5).toISOString(),deadline:new Date(Date.now()+30*864e5).toISOString(),status:"active",applicantCount:0},{id:"job4",employerId:"emp2",companyName:"DesignHub Creative",companyLogo:"",title:"Graphic Design Intern",description:`Great opportunity for design students to gain real-world experience at a top creative agency. You will assist the design team on client projects and internal branding initiatives.

What you will learn:
- Professional design workflow
- Client communication
- Brand identity development
- Print and digital design`,location:"New York, NY",type:"Internship",salary:"$20/hour",requirements:["Currently enrolled in design program","Adobe Creative Suite","Strong visual skills","Eagerness to learn"],category:"Design",postedDate:new Date(Date.now()-3*864e5).toISOString(),deadline:new Date(Date.now()+20*864e5).toISOString(),status:"active",applicantCount:0},{id:"job5",employerId:"emp3",companyName:"GreenEnergy Inc",companyLogo:"",title:"Environmental Engineer",description:`Help us design and implement sustainable energy solutions. You will work on cutting-edge solar and wind energy projects across the country.

Responsibilities:
- Design renewable energy systems
- Conduct environmental impact assessments
- Manage project timelines and budgets
- Collaborate with regulatory agencies`,location:"Austin, TX",type:"Full-time",salary:"$95,000 - $125,000",requirements:["Environmental Engineering degree","Renewable energy experience","AutoCAD skills","PE license preferred"],category:"Engineering",postedDate:new Date(Date.now()-4*864e5).toISOString(),deadline:new Date(Date.now()+22*864e5).toISOString(),status:"active",applicantCount:0},{id:"job6",employerId:"emp3",companyName:"GreenEnergy Inc",companyLogo:"",title:"Marketing Coordinator",description:`We are looking for a Marketing Coordinator to help spread the word about clean energy. You will manage social media, create content, and coordinate marketing campaigns.

Responsibilities:
- Manage social media accounts
- Create compelling content
- Coordinate events and trade shows
- Analyze marketing metrics`,location:"Austin, TX",type:"Part-time",salary:"$45,000 - $55,000",requirements:["Marketing degree","Social media expertise","Content creation skills","Analytics experience"],category:"Marketing",postedDate:new Date(Date.now()-6*864e5).toISOString(),deadline:new Date(Date.now()+18*864e5).toISOString(),status:"active",applicantCount:0},{id:"job7",employerId:"emp4",companyName:"FinancePlus",companyLogo:"",title:"Data Analyst",description:`Analyze financial data and build reports that drive business decisions. You will work with large datasets and create visualizations for executive leadership.

Responsibilities:
- Build dashboards and reports
- Analyze financial trends
- Create data pipelines
- Present findings to leadership`,location:"Chicago, IL",type:"Full-time",salary:"$85,000 - $110,000",requirements:["SQL proficiency","Python/R experience","Tableau or Power BI","Finance knowledge"],category:"Data & Analytics",postedDate:new Date(Date.now()-7*864e5).toISOString(),deadline:new Date(Date.now()+15*864e5).toISOString(),status:"active",applicantCount:0},{id:"job8",employerId:"emp4",companyName:"FinancePlus",companyLogo:"",title:"Software Engineering Intern",description:`Summer internship opportunity for CS students interested in fintech. Work alongside experienced engineers on production features.

What we offer:
- Mentorship program
- Real project ownership
- Lunch & learns
- Potential full-time offer`,location:"Chicago, IL",type:"Internship",salary:"$35/hour",requirements:["CS major (Junior/Senior)","Java or Python","Basic data structures","Team player"],category:"Engineering",postedDate:new Date(Date.now()-8*864e5).toISOString(),deadline:new Date(Date.now()+12*864e5).toISOString(),status:"active",applicantCount:0}],lA="hirehub_state";function cA(){try{const s=localStorage.getItem(lA);if(s)return JSON.parse(s)}catch{}return null}async function Tt(s){try{const e=cA()||{};localStorage.setItem(lA,JSON.stringify({...e,...s}))}catch{}if(io&&xt)try{console.log("Attempting Firestore write",{FIREBASE_ENABLED:io,firestorePresent:!!xt});const e=bn(xt,"app","state");await Hs(e,s,{merge:!0}),console.log("Saved state to Firestore (app/state)")}catch(e){console.warn("Failed to save state to Firestore",e)}}const r6=({children:s})=>{const e=fx(),[t,r]=$.useState(()=>{const K=cA(),B=window.location.pathname.slice(1)||"home",se=B===""?"home":B;return{users:K?.users||Q1,jobs:K?.jobs||n6,applications:K?.applications||[],messages:K?.messages||[],adminMessages:K?.adminMessages||[],studentMessages:K?.studentMessages||[],announcements:K?.announcements||[],currentUser:null,currentPage:se||"home",selectedJobId:null,searchQuery:"",filterType:"",location:"",theme:"dark"}});$.useEffect(()=>{if(!io||!xt)return;let K=!1;(async()=>{try{const he=bn(xt,"app","state"),Se=await Vd(he);if(!Se.exists()){await Hs(he,{users:t.users,jobs:t.jobs,applications:t.applications,messages:t.messages,adminMessages:t.adminMessages,studentMessages:t.studentMessages,currentUser:t.currentUser,theme:t.theme});return}const Le=Se.data();if(K)return;r(Je=>({...Je,jobs:Le.jobs||Je.jobs,applications:Le.applications||Je.applications,messages:Le.messages||Je.messages,adminMessages:Le.adminMessages||Je.adminMessages,studentMessages:Le.studentMessages||Je.studentMessages,currentUser:Le.currentUser||Je.currentUser,theme:Le.theme||Je.theme}))}catch(he){console.warn("Failed to load state from Firestore",he)}})();const B=im(xt,"users"),se=hd(B,he=>{const Se=[];he.forEach(Le=>{Se.push(Le.data())}),K||r(Le=>{const Je=new Map;return Q1.forEach(Bn=>Je.set(Bn.id,Bn)),Se.forEach(Bn=>Je.set(Bn.id,Bn)),{...Le,users:Array.from(Je.values())}})},he=>{console.warn("Failed to listen to users collection:",he)});return()=>{K=!0,se()}},[]),$.useEffect(()=>{Tt({jobs:t.jobs,applications:t.applications,messages:t.messages,adminMessages:t.adminMessages,studentMessages:t.studentMessages,currentUser:t.currentUser,theme:t.theme})},[t.jobs,t.applications,t.messages,t.adminMessages,t.studentMessages,t.currentUser,t.theme]);const a=$.useCallback((K,B)=>{r(he=>({...he,currentPage:K,selectedJobId:B||he.selectedJobId}));const se=K==="home"?"/":`/${K}`;window.history.pushState(null,"",se),window.scrollTo(0,0)},[]);$.useEffect(()=>{document.documentElement.classList.toggle("dark",t.theme==="dark")},[t.theme]),$.useEffect(()=>{const K=()=>{const se=window.location.pathname.slice(1)||"home";r(he=>({...he,currentPage:se}))};return window.addEventListener("popstate",K),()=>window.removeEventListener("popstate",K)},[]),$.useEffect(()=>{e.currentUser!==t.currentUser&&r(K=>({...K,currentUser:e.currentUser}))},[e.currentUser,t.currentUser]),$.useEffect(()=>{t.currentUser&&(t.currentPage==="login"||t.currentPage==="register"||t.currentPage==="home")&&a(Y1(t.currentUser.role))},[t.currentUser,t.currentPage,a]);const c=$.useCallback(async(K,B)=>{try{const se=await e.login(K,B);return se?(r(he=>({...he,currentUser:se,currentPage:Y1(se.role)})),se):null}catch(se){return console.error("Login error:",se),null}},[e]),d=$.useCallback(async()=>{try{await e.logout(),r(K=>({...K,currentUser:null,currentPage:"home"}))}catch(K){console.error("Logout error:",K)}},[e]),h=$.useCallback(async(K,B)=>{try{return!!await e.register(K,B)}catch(se){throw console.error("Registration error:",se),se}},[e]),g=$.useCallback(K=>{const B={...K,id:Ls(),postedDate:new Date().toISOString(),applicantCount:0};r(se=>{const he=[B,...se.jobs];return Tt({jobs:he}),{...se,jobs:he}})},[]),y=$.useCallback(K=>{r(B=>{const se=B.jobs.map(he=>he.id===K.id?K:he);return Tt({jobs:se}),{...B,jobs:se}})},[]),x=$.useCallback(K=>{r(B=>{const se=B.jobs.filter(Se=>Se.id!==K),he=B.applications.filter(Se=>Se.jobId!==K);return Tt({jobs:se,applications:he}),{...B,jobs:se,applications:he}})},[]),b=$.useCallback((K,B)=>{if(!t.currentUser||t.currentUser.role!=="student"&&t.currentUser.role!=="admin"||t.applications.some(Se=>Se.jobId===K&&Se.studentId===t.currentUser.id))return!1;const he={id:Ls(),jobId:K,studentId:t.currentUser.id,studentName:t.currentUser.name,studentEmail:t.currentUser.email,status:"pending",appliedDate:new Date().toISOString(),coverLetter:B};return r(Se=>({...Se,applications:[...Se.applications,he],jobs:Se.jobs.map(Le=>Le.id===K?{...Le,applicantCount:Le.applicantCount+1}:Le)})),Tt({applications:[...t.applications,he],jobs:t.jobs.map(Se=>Se.id===K?{...Se,applicantCount:Se.applicantCount+1}:Se)}),!0},[t.currentUser,t.applications,t.jobs]),E=$.useCallback((K,B)=>{r(se=>({...se,applications:se.applications.map(he=>he.id===K?{...he,status:B}:he)})),Tt({applications:t.applications.map(se=>se.id===K?{...se,status:B}:se)})},[t.applications]),j=$.useCallback(async K=>{if(io&&xt)try{const B=bn(xt,"users",K.id);await Hs(B,K,{merge:!0})}catch(B){console.error("Failed to update user in Firestore:",B)}else r(B=>({...B,users:B.users.map(se=>se.id===K.id?K:se),currentUser:B.currentUser?.id===K.id?K:B.currentUser}))},[t.users,t.currentUser]),I=$.useCallback(async K=>{if(io&&xt)try{const{deleteDoc:B}=await lI(async()=>{const{deleteDoc:he}=await Promise.resolve().then(()=>Z3);return{deleteDoc:he}},void 0,import.meta.url),se=bn(xt,"users",K);await B(se)}catch(B){console.error("Failed to delete user in Firestore:",B)}r(B=>({...B,users:B.users.filter(se=>se.id!==K),jobs:B.jobs.filter(se=>se.employerId!==K),applications:B.applications.filter(se=>se.studentId!==K)})),Tt({jobs:t.jobs.filter(B=>B.employerId!==K),applications:t.applications.filter(B=>B.studentId!==K)})},[t.users,t.jobs,t.applications]),R=$.useCallback(async K=>{if(r(B=>{const se=B.users.map(he=>he.id===K?{...he,isApproved:!0}:he);return Tt({users:se}),{...B,users:se}}),io&&xt)try{const B=bn(xt,"users",K);await Hs(B,{isApproved:!0},{merge:!0}),console.log("Employer approved in Firestore:",K)}catch(B){console.error("Failed to update employer approval in Firestore:",B)}},[t.users]),V=$.useCallback(async K=>{if(r(B=>{const se=B.users.filter(Le=>Le.id!==K),he=B.jobs.filter(Le=>Le.employerId!==K),Se=B.applications.filter(Le=>Le.studentId!==K);return Tt({users:se,jobs:he,applications:Se}),{...B,users:se,jobs:he,applications:Se}}),io&&xt)try{const B=bn(xt,"users",K);await Hs(B,{isApproved:!1},{merge:!0}),console.log("Employer rejected in Firestore:",K)}catch(B){console.error("Failed to update employer rejection in Firestore:",B)}},[t.users,t.jobs,t.applications]),O=$.useCallback(K=>{r(B=>({...B,searchQuery:K}))},[]),Q=$.useCallback(K=>{r(B=>({...B,filterType:K}))},[]),q=$.useCallback(K=>{r(B=>({...B,location:K}))},[]),J=$.useCallback(()=>{r(K=>({...K,theme:K.theme==="light"?"dark":"light"}))},[]),te=$.useCallback(K=>t.jobs.find(B=>B.id===K),[t.jobs]),re=$.useCallback(K=>t.applications.filter(B=>B.jobId===K),[t.applications]),S=$.useCallback(K=>t.applications.filter(B=>B.studentId===K),[t.applications]),T=$.useCallback(K=>t.jobs.filter(B=>B.employerId===K),[t.jobs]),C=$.useCallback(()=>t.users.filter(K=>K.role==="student"),[t.users]),D=$.useCallback(()=>t.users.filter(K=>K.role==="employer"),[t.users]),L=$.useCallback(K=>t.currentUser?t.applications.some(B=>B.jobId===K&&B.studentId===t.currentUser.id):!1,[t.currentUser,t.applications]),M=$.useCallback((K,B)=>{if(!t.currentUser||t.currentUser.role!=="employer")return;const se={id:Ls(),employerId:t.currentUser.id,employerName:t.currentUser.name,employerEmail:t.currentUser.email,companyName:t.currentUser.companyName||t.currentUser.name,subject:K,body:B,sentDate:new Date().toISOString(),read:!1};r(he=>({...he,messages:[...he.messages,se]})),Tt({messages:[...t.messages,se]})},[t.currentUser,t.messages]),k=$.useCallback(()=>t.messages,[t.messages]),st=$.useCallback(()=>t.messages.filter(K=>!K.read).length,[t.messages]),Dt=$.useCallback(K=>{r(B=>({...B,messages:B.messages.map(se=>se.id===K?{...se,read:!0}:se)})),Tt({messages:t.messages.map(B=>B.id===K?{...B,read:!0}:B)})},[t.messages]),ie=$.useCallback((K,B)=>{if(!t.currentUser||t.currentUser.role!=="admin")return;const se={id:Ls(),messageId:K,adminId:t.currentUser.id,adminName:t.currentUser.name,adminEmail:t.currentUser.email,body:B,sentDate:new Date().toISOString()};r(he=>({...he,messages:he.messages.map(Se=>Se.id===K?{...Se,replies:[...Se.replies||[],se],read:!0}:Se)})),Tt({messages:t.messages.map(he=>he.id===K?{...he,replies:[...he.replies||[],se],read:!0}:he)})},[t.currentUser,t.messages]),pe=$.useCallback((K,B,se)=>{if(!t.currentUser||t.currentUser.role!=="admin")return;const he=t.users.find(Le=>Le.id===K);if(!he)return;const Se={id:Ls(),adminId:t.currentUser.id,adminName:t.currentUser.name,employerId:K,employerName:he.name,employerEmail:he.email,subject:B,body:se,sentDate:new Date().toISOString(),read:!1,status:"pending"};r(Le=>({...Le,adminMessages:[...Le.adminMessages,Se]})),Tt({adminMessages:[...t.adminMessages,Se]})},[t.currentUser,t.users,t.adminMessages]),Te=$.useCallback(K=>t.adminMessages.filter(B=>B.employerId===K),[t.adminMessages]),Qe=$.useCallback(K=>{r(B=>({...B,adminMessages:B.adminMessages.map(se=>se.id===K?{...se,read:!0}:se)})),Tt({adminMessages:t.adminMessages.map(B=>B.id===K?{...B,read:!0}:B)})},[t.adminMessages]),tt=$.useCallback(K=>{r(B=>({...B,adminMessages:B.adminMessages.map(se=>se.id===K?{...se,accepted:!0,rejected:!1}:se)})),Tt({adminMessages:t.adminMessages.map(B=>B.id===K?{...B,accepted:!0,rejected:!1}:B)})},[t.adminMessages]),z=$.useCallback(K=>{r(B=>({...B,adminMessages:B.adminMessages.map(se=>se.id===K?{...se,rejected:!0,accepted:!1}:se)})),Tt({adminMessages:t.adminMessages.map(B=>B.id===K?{...B,rejected:!0,accepted:!1}:B)})},[t.adminMessages]),ce=$.useCallback(K=>t.adminMessages.filter(B=>B.employerId===K&&!B.read).length,[t.adminMessages]),ye=$.useCallback((K,B,se)=>{if(!t.currentUser||t.currentUser.role!=="employer"){console.warn("Cannot send student message: user is not an employer");return}const he=t.currentUser.companyName||t.currentUser.name||"Employer",Se={id:Ls(),employerId:t.currentUser.id,employerName:he,studentId:K,senderRole:"employer",subject:B,body:se,sentDate:new Date().toISOString(),status:"sent"};r(Le=>{const Je=[...Le.studentMessages,Se];return Tt({studentMessages:Je}),console.log("Student message sent:",Se),{...Le,studentMessages:Je}})},[t.currentUser]),be=$.useCallback(K=>t.studentMessages.filter(B=>B.studentId===K),[t.studentMessages]),Re=$.useCallback(K=>t.studentMessages.filter(B=>B.studentId===K&&B.status==="sent").length,[t.studentMessages]),ke=$.useCallback(K=>{r(B=>({...B,studentMessages:B.studentMessages.map(se=>se.id===K?{...se,status:"read"}:se)})),Tt({studentMessages:t.studentMessages.map(B=>B.id===K?{...B,status:"read"}:B)})},[t.studentMessages]),Fe=$.useCallback((K,B)=>{if(!t.currentUser)return;const se={id:Ls(),messageId:K,senderId:t.currentUser.id,senderRole:t.currentUser.role,body:B,sentDate:new Date().toISOString()};r(he=>({...he,studentMessages:he.studentMessages.map(Se=>Se.id===K?{...Se,replies:[...Se.replies||[],se],status:"read"}:Se)})),Tt({studentMessages:t.studentMessages.map(he=>he.id===K?{...he,replies:[...he.replies||[],se]}:he)})},[t.currentUser,t.studentMessages]),Pt=$.useCallback(K=>t.studentMessages.filter(B=>B.employerId===K),[t.studentMessages]),vt=$.useCallback(K=>{r(B=>({...B,studentMessages:B.studentMessages.filter(se=>se.id!==K)})),Tt({studentMessages:t.studentMessages.filter(B=>B.id!==K)})},[t.studentMessages]),ys=$.useCallback(K=>{r(B=>({...B,studentMessages:B.studentMessages.filter(se=>se.id!==K)})),Tt({studentMessages:t.studentMessages.filter(B=>B.id!==K)})},[t.studentMessages]),ri=$.useCallback((K,B,se)=>{if(!t.currentUser||t.currentUser.role!=="student"){console.warn("Cannot send message to employer: user is not a student");return}const he=t.users.find(Le=>Le.id===K);if(!he)return;const Se={id:Ls(),employerId:K,employerName:he.companyName||he.name||"Employer",studentId:t.currentUser.id,senderRole:"student",subject:B,body:se,sentDate:new Date().toISOString(),status:"sent"};r(Le=>{const Je=[...Le.studentMessages,Se];return Tt({studentMessages:Je}),console.log("Message sent to employer:",Se),{...Le,studentMessages:Je}})},[t.currentUser,t.users]),si=$.useCallback(K=>t.studentMessages.filter(B=>B.employerId===K&&B.status==="sent").length,[t.studentMessages]),ii=$.useCallback(async(K,B,se,he)=>{if(xt)try{await tA(im(xt,"contactMessages"),{name:K,email:B,subject:se,message:he,createdAt:lx()})}catch(Se){console.error("Error sending contact message:",Se)}},[]),rr=$.useCallback(K=>{const B={...K,id:Ls(),postedDate:new Date().toISOString(),postedBy:t.currentUser?.name||"Admin"};r(se=>{const he=[B,...se.announcements];return Tt({announcements:he}),{...se,announcements:he}})},[t.currentUser]),_a=$.useCallback(K=>{r(B=>{const se=B.announcements.map(he=>he.id===K.id?K:he);return Tt({announcements:se}),{...B,announcements:se}})},[]),xs=$.useCallback(K=>{r(B=>{const se=B.announcements.filter(he=>he.id!==K);return Tt({announcements:se}),{...B,announcements:se}})},[]),wa=$.useCallback(K=>{const B=new Date;return t.announcements.filter(se=>{if(se.targetAudience&&se.targetAudience!=="all"){const Se={student:"students",employer:"employers",admin:"all"}[K];if(se.targetAudience!==Se)return!1}return!(se.expiryDate&&new Date(se.expiryDate)<B)}).sort((se,he)=>new Date(he.postedDate).getTime()-new Date(se.postedDate).getTime())},[t.announcements]);return l.jsx(oA.Provider,{value:{...t,navigate:a,login:c,logout:d,register:h,postJob:g,updateJob:y,deleteJob:x,applyForJob:b,updateApplicationStatus:E,updateUser:j,deleteUser:I,approveEmployer:R,rejectEmployer:V,setSearchQuery:O,setFilterType:Q,setLocation:q,toggleTheme:J,getJobById:te,getApplicationsForJob:re,getApplicationsForStudent:S,getJobsForEmployer:T,getStudents:C,getEmployers:D,hasApplied:L,sendMessage:M,getMessagesForAdmin:k,getUnreadMessagesForAdminCount:st,markMessageAsRead:Dt,replyToMessage:ie,sendAdminMessage:pe,getAdminMessagesForEmployer:Te,markAdminMessageAsRead:Qe,acceptAdminMessage:tt,rejectAdminMessage:z,getUnreadAdminMessagesCount:ce,sendStudentMessage:ye,getMessagesForStudent:be,getUnreadStudentMessagesCount:Re,markStudentMessageAsRead:ke,replyToStudentMessage:Fe,getMessagesForEmployerFromStudent:Pt,deleteStudentMessage:vt,deleteEmployerMessage:ys,sendMessageToEmployer:ri,getUnreadMessagesFromStudentCount:si,sendContactMessage:ii,createAnnouncement:rr,updateAnnouncement:_a,deleteAnnouncement:xs,getAnnouncementsForUser:wa},children:s})};function Y1(s){switch(s){case"student":return"student-dashboard";case"employer":return"employer-dashboard";case"admin":return"admin-dashboard"}}const We=()=>{const s=$.useContext(oA);if(!s)throw new Error("useApp must be used within AppProvider");return s};const uA=(...s)=>s.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();const s6=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const i6=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());const J1=s=>{const e=i6(s);return e.charAt(0).toUpperCase()+e.slice(1)};var a6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const o6=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const l6=$.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:c,iconNode:d,...h},g)=>$.createElement("svg",{ref:g,...a6,width:e,height:e,stroke:s,strokeWidth:r?Number(t)*24/Number(e):t,className:uA("lucide",a),...!c&&!o6(h)&&{"aria-hidden":"true"},...h},[...d.map(([y,x])=>$.createElement(y,x)),...Array.isArray(c)?c:[c]]));const Ce=(s,e)=>{const t=$.forwardRef(({className:r,...a},c)=>$.createElement(l6,{ref:c,iconNode:e,className:uA(`lucide-${s6(J1(s))}`,`lucide-${s}`,r),...a}));return t.displayName=J1(s),t};const c6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ba=Ce("arrow-left",c6);const u6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],X1=Ce("arrow-right",u6);const d6=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],h6=Ce("award",d6);const f6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_f=Ce("bell",f6);const m6=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],g6=Ce("book-open",m6);const p6=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],un=Ce("briefcase",p6);const y6=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],To=Ce("building-2",y6);const x6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ju=Ce("calendar",x6);const b6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],v6=Ce("chart-column",b6);const _6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mx=Ce("check",_6);const w6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],E6=Ce("chevron-down",w6);const T6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ac=Ce("circle-alert",T6);const N6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lr=Ce("circle-check-big",N6);const S6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],oc=Ce("circle-x",S6);const A6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ms=Ce("clock",A6);const I6=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],j6=Ce("crown",I6);const C6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Pd=Ce("dollar-sign",C6);const R6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dA=Ce("eye-off",R6);const D6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],No=Ce("eye",D6);const k6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],la=Ce("file-text",k6);const M6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],V6=Ce("funnel",M6);const P6=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Om=Ce("graduation-cap",P6);const O6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],L6=Ce("image",O6);const U6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],hA=Ce("lock",U6);const $6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],W1=Ce("log-out",$6);const z6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],tr=Ce("mail",z6);const B6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ps=Ce("map-pin",B6);const F6=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],fA=Ce("megaphone",F6);const q6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],H6=Ce("menu",q6);const G6=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Lm=Ce("message-square",G6);const K6=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Z1=Ce("moon",K6);const Q6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],mA=Ce("phone",Q6);const Y6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],om=Ce("plus",Y6);const J6=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],X6=Ce("reply",J6);const W6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xr=Ce("search",W6);const Z6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],br=Ce("send",Z6);const eM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gA=Ce("shield",eM);const tM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],nM=Ce("sparkles",tM);const rM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],sM=Ce("square-pen",rM);const iM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],eE=Ce("sun",iM);const aM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],oM=Ce("target",aM);const lM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],va=Ce("trash-2",lM);const cM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],uM=Ce("trending-up",cM);const dM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hM=Ce("triangle-alert",dM);const fM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],pA=Ce("upload",fM);const mM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Um=Ce("user",mM);const gM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$n=Ce("users",gM);const pM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],So=Ce("x",pM);const yM=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xM=Ce("zap",yM);function bM(){const{currentUser:s,currentPage:e,navigate:t,logout:r,theme:a,toggleTheme:c,getUnreadAdminMessagesCount:d,getUnreadStudentMessagesCount:h,getUnreadMessagesForAdminCount:g,getUnreadMessagesFromStudentCount:y}=We(),[x,b]=$.useState(!1),[E,j]=$.useState(!1),I=a==="dark",R=s?.role==="employer"?d(s.id):0,V=s?.role==="employer"?y(s.id):0,O=s?.role==="student"?h(s.id):0,Q=s?.role==="admin"?g():0,q=R+V,J=re=>e===re,te=re=>`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${J(re)?I?"bg-indigo-900/50 text-indigo-300":"bg-indigo-100 text-indigo-700":I?"text-gray-300 hover:text-indigo-400 hover:bg-gray-700":"text-gray-600 hover:text-indigo-600 hover:bg-gray-50"}`;return l.jsxs("nav",{className:`${I?"bg-gray-900 border-gray-700":"bg-white border-gray-200"} border-b sticky top-0 z-50 shadow-sm`,children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("button",{onClick:()=>t("home"),className:"flex items-center gap-2 hover:opacity-80",children:[l.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:l.jsx(un,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"HireHub"})]}),l.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[!s&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>t("home"),className:te("home"),children:"Home"}),l.jsx("button",{onClick:()=>t("browse-jobs"),className:te("browse-jobs"),children:"Find Jobs"}),l.jsx("button",{onClick:()=>t("public-announcements"),className:te("public-announcements"),children:"Announcements"}),l.jsx("button",{onClick:()=>t("contact"),className:te("contact"),children:"Contact"})]}),s?.role==="student"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>t("student-dashboard"),className:te("student-dashboard"),children:"Dashboard"}),l.jsx("button",{onClick:()=>t("browse-jobs"),className:te("browse-jobs"),children:"Browse Jobs"}),l.jsx("button",{onClick:()=>t("applied-jobs"),className:te("applied-jobs"),children:"My Applications"}),l.jsxs("button",{onClick:()=>t("student-messages"),className:te("student-messages"),children:["My Messages",O>0&&l.jsx("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 bg-red-600 rounded-full",children:O})]}),l.jsx("button",{onClick:()=>t("browse-companies"),className:te("browse-companies"),children:"Companies"}),l.jsx("button",{onClick:()=>t("public-announcements"),className:te("public-announcements"),children:"Announcements"})]}),s?.role==="employer"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>t("employer-dashboard"),className:te("employer-dashboard"),children:"Dashboard"}),l.jsx("button",{onClick:()=>t("post-job"),className:te("post-job"),children:"Post Job"}),l.jsx("button",{onClick:()=>t("manage-jobs"),className:te("manage-jobs"),children:"My Jobs"}),l.jsx("button",{onClick:()=>t("browse-companies"),className:te("browse-companies"),children:"Companies"}),l.jsx("button",{onClick:()=>t("public-announcements"),className:te("public-announcements"),children:"Announcements"}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>j(!E),className:`px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-1 ${I?"text-gray-300 hover:text-indigo-400 hover:bg-gray-700":"text-gray-600 hover:text-indigo-600 hover:bg-gray-50"}`,children:["More ",l.jsx(E6,{className:"w-3 h-3"})]}),E&&l.jsxs("div",{className:`absolute right-0 mt-1 w-48 rounded-xl shadow-lg border py-1 z-50 ${I?"bg-gray-800 border-gray-700":"bg-white border-gray-100"}`,children:[l.jsx("button",{onClick:()=>{t("find-talent"),j(!1)},className:`w-full text-left px-4 py-2 text-sm ${I?"text-gray-300 hover:bg-gray-700 hover:text-indigo-400":"text-gray-700 hover:bg-indigo-50 hover:text-indigo-600"}`,children:"Find Talent"}),l.jsx("button",{onClick:()=>{t("employer-branding"),j(!1)},className:`w-full text-left px-4 py-2 text-sm ${I?"text-gray-300 hover:bg-gray-700 hover:text-indigo-400":"text-gray-700 hover:bg-indigo-50 hover:text-indigo-600"}`,children:"Employer Branding"}),l.jsx("button",{onClick:()=>{t("campus-recruiting"),j(!1)},className:`w-full text-left px-4 py-2 text-sm ${I?"text-gray-300 hover:bg-gray-700 hover:text-indigo-400":"text-gray-700 hover:bg-indigo-50 hover:text-indigo-600"}`,children:"Campus Recruiting"}),l.jsx("button",{onClick:()=>{t("pricing"),j(!1)},className:`w-full text-left px-4 py-2 text-sm ${I?"text-gray-300 hover:bg-gray-700 hover:text-indigo-400":"text-gray-700 hover:bg-indigo-50 hover:text-indigo-600"}`,children:"Pricing Plans"})]})]})]}),s?.role==="admin"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>t("admin-dashboard"),className:te("admin-dashboard"),children:"Dashboard"}),l.jsx("button",{onClick:()=>t("manage-students"),className:te("manage-students"),children:"Students"}),l.jsx("button",{onClick:()=>t("manage-employers"),className:te("manage-employers"),children:"Employers"}),l.jsx("button",{onClick:()=>t("manage-all-jobs"),className:te("manage-all-jobs"),children:"All Jobs"}),l.jsx("button",{onClick:()=>t("announcements"),className:te("announcements"),children:"Announcements"}),l.jsxs("button",{onClick:()=>t("admin-messages"),className:te("admin-messages"),children:["Messages",Q>0&&l.jsx("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 bg-red-600 rounded-full",children:Q})]}),l.jsx("button",{onClick:()=>t("admin-contact-inbox"),className:te("admin-contact-inbox"),children:"Contact Inbox"})]})]}),l.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[l.jsx("button",{onClick:c,className:`p-2 rounded-xl transition-all ${I?"bg-gray-800 text-yellow-400 hover:bg-gray-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:I?"Switch to light mode":"Switch to dark mode",children:I?l.jsx(eE,{className:"w-5 h-5"}):l.jsx(Z1,{className:"w-5 h-5"})}),s?.role==="employer"&&l.jsxs("button",{onClick:()=>t("employer-messages"),className:`relative p-2 rounded-xl transition-all ${I?"bg-gray-800 text-indigo-400 hover:bg-gray-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:"Messages",children:[l.jsx(_f,{className:"w-5 h-5"}),q>0&&l.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs text-white",children:q})]}),s?.role==="student"&&l.jsxs("button",{onClick:()=>t("student-messages"),className:`relative p-2 rounded-xl transition-all ${I?"bg-gray-800 text-indigo-400 hover:bg-gray-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:"My Messages",children:[l.jsx(_f,{className:"w-5 h-5"}),O>0&&l.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs text-white",children:O})]}),s?l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:()=>{s.role==="student"?t("student-profile"):s.role==="employer"&&t("employer-branding")},className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${I?"hover:bg-gray-800":"hover:bg-gray-50"}`,children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:(s.name||s.email||"?").charAt(0).toUpperCase()}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:`text-sm font-medium ${I?"text-gray-100":"text-gray-900"}`,children:s.name||s.email||"User"}),l.jsx("div",{className:`text-xs capitalize ${I?"text-gray-400":"text-gray-500"}`,children:s.role})]})]}),l.jsxs("button",{onClick:r,className:"flex items-center gap-1 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg dark:hover:bg-red-900/20",children:[l.jsx(W1,{className:"w-4 h-4"}),"Logout"]})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>t("login"),className:`px-4 py-2 text-sm font-medium ${I?"text-gray-300 hover:text-indigo-400":"text-gray-700 hover:text-indigo-600"}`,children:"Sign In"}),l.jsx("button",{onClick:()=>t("register"),className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg hover:from-indigo-600 hover:to-purple-700 shadow-md shadow-indigo-200",children:"Get Started"})]})]}),l.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[l.jsx("button",{onClick:c,className:`p-2 rounded-lg transition ${I?"text-yellow-400 hover:bg-gray-800":"text-gray-500 hover:bg-gray-100"}`,title:I?"Switch to light mode":"Switch to dark mode",children:I?l.jsx(eE,{className:"w-5 h-5"}):l.jsx(Z1,{className:"w-5 h-5"})}),s?.role==="employer"&&l.jsxs("button",{onClick:()=>{t("employer-messages"),b(!1)},className:`relative p-2 rounded-lg transition ${I?"text-indigo-400 hover:bg-gray-800":"text-gray-600 hover:bg-gray-100"}`,title:"Messages",children:[l.jsx(_f,{className:"w-5 h-5"}),q>0&&l.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs text-white",children:q})]}),s?.role==="student"&&l.jsxs("button",{onClick:()=>{t("student-messages"),b(!1)},className:`relative p-2 rounded-lg transition ${I?"text-indigo-400 hover:bg-gray-800":"text-gray-600 hover:bg-gray-100"}`,title:"My Messages",children:[l.jsx(_f,{className:"w-5 h-5"}),O>0&&l.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs text-white",children:O})]}),s&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>j(!E),className:`flex items-center gap-2 px-2 py-1.5 rounded-lg ${I?"hover:bg-gray-800":"hover:bg-gray-50"}`,children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:(s.name||s.email||"?").charAt(0).toUpperCase()}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:`text-sm font-medium ${I?"text-gray-100":"text-gray-900"}`,children:s.name||s.email||"User"}),l.jsx("div",{className:`text-xs capitalize ${I?"text-gray-400":"text-gray-500"}`,children:s.role})]})]}),E&&l.jsxs("div",{className:`absolute right-0 mt-2 w-48 rounded-xl shadow-lg border py-1 z-50 ${I?"bg-gray-800 border-gray-700":"bg-white border-gray-100"}`,children:[s.role==="student"&&l.jsx("button",{onClick:()=>{t("student-profile"),j(!1)},className:`w-full text-left px-4 py-2 text-sm ${I?"text-gray-300 hover:bg-gray-700 hover:text-indigo-400":"text-gray-700 hover:bg-indigo-50 hover:text-indigo-600"}`,children:"Profile"}),s.role==="employer"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{t("employer-branding"),j(!1)},className:`w-full text-left px-4 py-2 text-sm ${I?"text-gray-300 hover:bg-gray-700 hover:text-indigo-400":"text-gray-700 hover:bg-indigo-50 hover:text-indigo-600"}`,children:"Branding"}),l.jsx("button",{onClick:()=>{t("find-talent"),j(!1)},className:`w-full text-left px-4 py-2 text-sm ${I?"text-gray-300 hover:bg-gray-700 hover:text-indigo-400":"text-gray-700 hover:bg-indigo-50 hover:text-indigo-600"}`,children:"Find Talent"})]}),l.jsx("button",{onClick:()=>{r(),j(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Logout"})]})]}),!s&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{t("login"),b(!1)},className:`px-3 py-1.5 text-sm font-medium ${I?"text-gray-300 hover:text-indigo-400":"text-gray-700 hover:text-indigo-600"}`,children:"Sign In"}),l.jsx("button",{onClick:()=>{t("register"),b(!1)},className:"px-3 py-1.5 text-sm font-medium text-white bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg hover:from-indigo-600 hover:to-purple-700",children:"Get Started"})]}),l.jsx("button",{onClick:()=>b(!x),className:`p-2 rounded-lg ${I?"text-gray-300 hover:bg-gray-800":"text-gray-500 hover:bg-gray-100"}`,children:x?l.jsx(So,{className:"w-6 h-6"}):l.jsx(H6,{className:"w-6 h-6"})})]})]})}),x&&l.jsxs("div",{className:`md:hidden border-t py-3 px-4 space-y-1 ${I?"bg-gray-900 border-gray-700":"bg-white border-gray-100"}`,children:[!s&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{t("home"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm font-medium ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Home"}),l.jsx("button",{onClick:()=>{t("browse-jobs"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm font-medium ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Find Jobs"}),l.jsx("button",{onClick:()=>{t("public-announcements"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm font-medium ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Announcements"}),l.jsx("button",{onClick:()=>{t("contact"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm font-medium ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Contact"}),l.jsxs("div",{className:`pt-2 border-t mt-2 space-y-1 ${I?"border-gray-700":""}`,children:[l.jsx("button",{onClick:()=>{t("login"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm font-medium ${I?"text-indigo-400":"text-indigo-600"}`,children:"Sign In"}),l.jsx("button",{onClick:()=>{t("register"),b(!1)},className:"block w-full text-left px-3 py-2 rounded-lg text-sm font-medium text-white bg-indigo-600",children:"Get Started"})]})]}),s?.role==="student"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{t("student-dashboard"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Dashboard"}),l.jsx("button",{onClick:()=>{t("browse-jobs"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Browse Jobs"}),l.jsx("button",{onClick:()=>{t("applied-jobs"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"My Applications"}),l.jsx("button",{onClick:()=>{t("student-messages"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"My Messages"}),l.jsx("button",{onClick:()=>{t("public-announcements"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Announcements"}),l.jsx("button",{onClick:()=>{t("student-profile"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Profile"})]}),s?.role==="employer"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{t("employer-dashboard"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Dashboard"}),l.jsx("button",{onClick:()=>{t("post-job"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Post Job"}),l.jsx("button",{onClick:()=>{t("manage-jobs"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"My Jobs"}),l.jsx("button",{onClick:()=>{t("find-talent"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Find Talent"}),l.jsx("button",{onClick:()=>{t("browse-companies"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Companies"}),l.jsx("button",{onClick:()=>{t("employer-branding"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Branding"}),l.jsx("button",{onClick:()=>{t("campus-recruiting"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Campus Recruiting"}),l.jsx("button",{onClick:()=>{t("public-announcements"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Announcements"}),l.jsx("button",{onClick:()=>{t("pricing"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Pricing"})]}),s?.role==="admin"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{t("admin-dashboard"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Dashboard"}),l.jsx("button",{onClick:()=>{t("manage-students"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Students"}),l.jsx("button",{onClick:()=>{t("manage-employers"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Employers"}),l.jsx("button",{onClick:()=>{t("manage-all-jobs"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"All Jobs"}),l.jsxs("button",{onClick:()=>{t("admin-messages"),b(!1)},className:`flex items-center justify-between w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:[l.jsx("span",{children:"Messages"}),Q>0&&l.jsx("span",{className:"inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-red-100 bg-red-600 rounded-full",children:Q})]}),l.jsx("button",{onClick:()=>{t("admin-contact-inbox"),b(!1)},className:`block w-full text-left px-3 py-2 rounded-lg text-sm ${I?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-indigo-50"}`,children:"Contact Inbox"})]}),s&&l.jsx("div",{className:`pt-2 border-t mt-2 ${I?"border-gray-700":""}`,children:l.jsxs("button",{onClick:()=>{r(),b(!1)},className:"flex items-center gap-2 w-full px-3 py-2 rounded-lg text-sm text-red-600 hover:bg-red-50",children:[l.jsx(W1,{className:"w-4 h-4"})," Logout"]})})]})]})}function yr({children:s,className:e="",delay:t=0,width:r="fit-content"}){const a=$.useRef(null),[c,d]=$.useState(!1);return $.useEffect(()=>{const h=a.current;if(!h)return;const g=new IntersectionObserver(([y])=>{y.isIntersecting&&(d(!0),g.unobserve(h))},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return g.observe(h),()=>{g.disconnect()}},[]),l.jsx("div",{ref:a,className:e,style:{width:r,opacity:c?1:0,transform:c?"translateY(0)":"translateY(30px)",transition:`opacity 0.6s ease-out ${t}ms, transform 0.6s ease-out ${t}ms`,willChange:"opacity, transform"},children:s})}function vM({children:s,className:e="",delay:t=0}){const r=$.useRef(null),[a,c]=$.useState(!1);return $.useEffect(()=>{const d=r.current;if(!d)return;const h=new IntersectionObserver(([g])=>{g.isIntersecting&&(c(!0),h.unobserve(d))},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return h.observe(d),()=>{h.disconnect()}},[]),l.jsx("div",{ref:r,className:e,style:{opacity:a?1:0,transform:a?"translateY(0)":"translateY(50px)",transition:`opacity 0.6s ease-out ${t}ms, transform 0.6s ease-out ${t}ms`,willChange:"opacity, transform"},children:s})}function ip(){const{jobs:s,navigate:e,currentUser:t,setSearchQuery:r,setFilterType:a,setLocation:c,theme:d,getEmployers:h}=We(),[g,y]=$.useState(""),[x,b]=$.useState(""),E=h(),I=s.filter(q=>q.status==="active").slice(0,6),R=d==="dark",V=()=>{r(g),c(x),console.log("Searching for:",g,"in",x),a(""),e("browse-jobs")},O=["Software Engineer","Marketing Intern","Data Analyst","Product Design"],Q=q=>{const J=Math.floor((Date.now()-new Date(q).getTime())/864e5);return J===0?"Today":J===1?"Yesterday":`${J} days ago`};return l.jsxs("div",{className:`min-h-screen ${R?"bg-gray-950":"bg-gray-50"}`,children:[l.jsxs("section",{className:`relative overflow-hidden ${R?"bg-gradient-to-br from-[#0a0f1a] via-[#0f172a] to-[#0a0f1a]":"bg-white"}`,children:[l.jsx("div",{className:`absolute inset-0 ${R?"opacity-20":"opacity-10"}`}),l.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 py-24 md:py-32 flex flex-col items-center",children:[l.jsx(yr,{delay:0,children:l.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-gray-800/60 backdrop-blur-sm rounded-full text-blue-300 text-sm mb-6 border border-gray-700/60",children:[l.jsx(un,{className:"w-4 h-4"})," 10,000+ opportunities waiting for you"]})}),l.jsx(yr,{delay:100,children:l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6 leading-tight max-w-4xl mx-auto",children:[l.jsx("span",{className:R?"text-gray-100":"text-gray-900",children:"Launch Your Career with"}),l.jsx("br",{}),l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-teal-400",children:"Dream Internships & Jobs"})]})}),l.jsx(yr,{delay:200,children:l.jsxs("p",{className:"text-lg text-gray-400 mb-10 max-w-2xl mx-auto items-center",children:[l.jsx("strong",{className:`min-h-screen ${R?"bg-gray-970":"bg-gray-50"}`,children:"Connect with top companies actively hiring university students."})," ",l.jsx("br",{}),l.jsx("span",{className:`min-h-screen ${R?"bg-gray-950":"bg-gray-50"}`,children:" Find internships and entry-level jobs tailored for your career path."})]})}),l.jsx(yr,{delay:300,width:"100%",children:l.jsxs("div",{className:"bg-gray-500/40 backdrop-blur-sm rounded-2xl p-2.5 border border-purple-700/50 flex flex-col sm:flex-row gap-2 max-w-2xl mx-auto shadow-2xl shadow-black/30",children:[l.jsxs("div",{className:"flex-1 flex items-center gap-2 px-4",children:[l.jsx(xr,{className:"w-5 h-5 text-gray-500"}),l.jsx("input",{type:"text",placeholder:"software engineer, marketing intern, data analyst, product design, etc.e",value:g,onChange:q=>y(q.target.value),onKeyDown:q=>q.key==="Enter"&&V(),className:"w-full py-3 bg-transparent placeholder-gray-100 focus:outline-none text-gray-200"})]}),l.jsxs("div",{className:"flex-1 flex items-center gap-2 px-4 border-l border-gray-700/50",children:[l.jsx(ps,{className:"w-5 h-5 text-gray-500"}),l.jsx("input",{type:"text",placeholder:"addis abeba,remote",value:x,onChange:q=>b(q.target.value),onKeyDown:q=>q.key==="Enter"&&V(),className:"w-full py-3 bg-transparent placeholder-gray-100 focus:outline-none text-gray-200"})]}),l.jsxs("button",{onClick:V,className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white-200 rounded-xl font-medium hover:from-blue-600 hover:to-purple-700 transition-all transform hover:scale-105 shadow-lg shadow-purple-500/30",children:[l.jsx(xr,{className:"w-5 h-5 sm:hidden"}),l.jsx("span",{className:"hidden sm:inline",children:"Search"})]})]})}),l.jsx(yr,{delay:400,width:"100%",children:l.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Popular:"}),O.map(q=>l.jsx("button",{onClick:()=>{y(q),V()},className:"px-3 py-1 bg-gray-500/60 rounded-full hover:bg-gray-700/80 transition-colors border border-gray-700/60",children:q},q))]})})]})]}),l.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-16",children:[l.jsxs(yr,{children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx("h2",{className:`text-2xl md:text-3xl font-bold ${R?"text-white":"text-gray-900"}`,children:"Latest Opportunities"})}),l.jsx("span",{className:"items-center",children:l.jsxs("button",{onClick:()=>e("browse-jobs"),className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:["View All ",l.jsx(X1,{className:"w-4 h-4"})]})}),l.jsx("p",{className:`mb-8 ${R?"text-gray-400":"text-gray-500"}`,children:"Fresh jobs posted by top employers"})]}),I.length===0?l.jsxs("div",{className:`text-center py-16 rounded-2xl border ${R?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx(un,{className:`w-12 h-12 mx-auto mb-4 ${R?"text-gray-600":"text-gray-300"}`}),l.jsx("h3",{className:`text-lg font-medium mb-2 ${R?"text-white":"text-gray-900"}`,children:"No jobs posted yet"}),l.jsx("p",{className:R?"text-gray-400":"text-gray-500",children:"Be the first employer to post a job opportunity!"})]}):l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:I.map(q=>l.jsxs("div",{className:`rounded-xl p-6 transition-all duration-300 ease-out cursor-pointer group transform hover:-translate-y-[5px] shadow-lg shadow-blue-500/20 ${R?"bg-gray-900 border border-blue-500/20":"bg-white"}`,onClick:()=>e("job-detail",q.id),children:[l.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-2xl flex-shrink-0 ${R?"bg-gray-800":"bg-gradient-to-br from-indigo-50 to-purple-50"}`,children:q.companyLogo||""}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:`font-semibold group-hover:text-indigo-600 transition-colors truncate ${R?"text-white":"text-gray-900"}`,children:q.title}),l.jsx("p",{className:`text-sm ${R?"text-gray-400":"text-gray-500"}`,children:q.companyName})]})]}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:`flex items-center gap-2 text-sm ${R?"text-gray-400":"text-gray-500"}`,children:[l.jsx(ps,{className:`w-4 h-4 ${R?"text-gray-500":"text-gray-400"}`})," ",q.location]}),l.jsxs("div",{className:`flex items-center gap-2 text-sm ${R?"text-gray-400":"text-gray-500"}`,children:[l.jsx(Pd,{className:`w-4 h-4 ${R?"text-gray-500":"text-gray-400"}`})," ",q.salary]}),l.jsxs("div",{className:`flex items-center gap-2 text-sm ${R?"text-gray-400":"text-gray-500"}`,children:[l.jsx(ms,{className:`w-4 h-4 ${R?"text-gray-500":"text-gray-400"}`})," ",Q(q.postedDate)]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${q.type==="Full-time"?R?"bg-green-900/40 text-green-400":"bg-green-50 text-green-700":q.type==="Part-time"?R?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-700":q.type==="Internship"?R?"bg-amber-900/40 text-amber-400":"bg-amber-50 text-amber-700":q.type==="Remote"?R?"bg-purple-900/40 text-purple-400":"bg-purple-50 text-purple-700":R?"bg-gray-800 text-gray-400":"bg-gray-50 text-gray-700"}`,children:q.type}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${R?"bg-gray-800 text-gray-400":"bg-gray-50 text-gray-600"}`,children:q.category})]})]},q.id))}),l.jsx("div",{className:"sm:hidden mt-6 text-center",children:l.jsxs("button",{onClick:()=>e("browse-jobs"),className:"text-indigo-600 font-medium text-sm flex items-center gap-1 mx-auto",children:["View All Jobs ",l.jsx(X1,{className:"w-4 h-4"})]})})]}),l.jsx("section",{className:`py-16 ${R?"bg-gray-900":"bg-white"}`,children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 ",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h2",{className:`text-2xl md:text-3xl font-bold ${R?"text-white":"text-gray-900"}`,children:"Featured Companies"}),l.jsx("p",{className:`mt-1 ${R?"text-gray-400":"text-gray-500"}`,children:"Companies actively hiring on HireHub"})]}),E.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(To,{className:`w-12 h-12 mx-auto mb-4 ${R?"text-gray-600":"text-gray-300"}`}),l.jsx("p",{className:R?"text-gray-400":"text-gray-500",children:"No companies registered yet"})]}):l.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-5 ",children:E.map((q,J)=>{const te=s.filter(re=>re.employerId===q.id&&re.status==="active");return l.jsx(vM,{delay:J*100,children:l.jsxs("div",{className:`rounded-4xl p-6 hover:shadow-md hover:-translate-y-1 hover:scale-105 transition-all border-2 text-center  ${R?"bg-gray-800 border-gray-700":"bg-indigo-50 border-gray-100"}`,children:[l.jsx("div",{className:`w-16 h-16 rounded-2xl shadow-sm flex items-center justify-center text-3xl mx-auto mb-4 ${R?"bg-gray-700":"bg-gray-300"}`,children:q.companyLogo||""}),l.jsx("h3",{className:`font-semibold mb-1 ${R?"text-white":"text-gray-900"}`,children:q.companyName||q.name}),l.jsx("p",{className:`text-sm mb-1 ${R?"text-gray-400":"text-gray-500"}`,children:q.industry||"Technology"}),l.jsx("p",{className:`text-sm mb-3 ${R?"text-gray-500":"text-gray-400"}`,children:q.companyLocation||"Remote"}),l.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${R?"bg-indigo-900/40 text-indigo-400":"bg-indigo-50 text-indigo-600"}`,children:[l.jsx(un,{className:"w-3 h-3"})," ",te.length," open positions"]})]})},q.id)})})]})}),l.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-16",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:`text-2xl md:text-3xl font-bold ${R?"text-white":"text-gray-900"}`,children:"How It Works"}),l.jsx("p",{className:`mt-1 ${R?"text-gray-400":"text-gray-500"}`,children:"Get started in 3 simple steps"})]}),l.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:$n,title:"Create Account",desc:"Sign up as a student or employer in seconds. Fill in your profile details."},{icon:xr,title:"Discover Opportunities",desc:"Browse jobs posted by real employers. Filter by type, location, and category."},{icon:uM,title:"Apply & Grow",desc:"Apply to jobs with one click. Track your applications and land your dream role."}].map((q,J)=>l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mx-auto mb-5 shadow-lg shadow-indigo-200",children:l.jsx(q.icon,{className:"w-7 h-7 text-white"})}),l.jsxs("div",{className:"text-sm font-medium text-indigo-600 mb-2",children:["Step ",J+1]}),l.jsx("h3",{className:`text-lg font-semibold mb-2 ${R?"text-white":"text-gray-900"}`,children:q.title}),l.jsx("p",{className:`text-sm ${R?"text-gray-400":"text-gray-500"}`,children:q.desc})]},J))})]}),!t&&l.jsx("section",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 py-16",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Start Your Journey?"}),l.jsx("p",{className:"text-indigo-100 mb-8 max-w-xl mx-auto",children:"Join HireHub today and connect with amazing opportunities. Whether you're a student looking for jobs or an employer looking for talent."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx("button",{onClick:()=>e("register"),className:"px-8 py-3 bg-white text-indigo-600 rounded-xl font-medium hover:bg-gray-50 shadow-lg",children:"Sign Up as Student"}),l.jsx("button",{onClick:()=>e("register"),className:"px-8 py-3 bg-indigo-500 text-white rounded-xl font-medium hover:bg-indigo-400 border border-indigo-400",children:"Register as Employer"})]})]})}),l.jsx("footer",{className:"py-12 bg-gray-900 text-gray-400",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[l.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:l.jsx(un,{className:"w-4 h-4 text-white"})}),l.jsx("span",{className:"text-lg font-bold text-white",children:"HireHub"})]}),l.jsx("p",{className:"text-sm",children:"Connecting students with their dream careers since 2024."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-medium mb-3",children:"For Students"}),l.jsxs("ul",{className:"space-y-2 text-sm",children:[l.jsx("li",{children:l.jsx("button",{onClick:()=>e("browse-jobs"),className:"hover:text-white",children:"Browse Jobs"})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>e("browse-companies"),className:"hover:text-white",children:"Companies"})}),l.jsx("li",{children:l.jsx("button",{className:"hover:text-white",children:"Career Resources"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-medium mb-3",children:"For Employers"}),l.jsxs("ul",{className:"space-y-2 text-sm",children:[l.jsx("li",{children:l.jsx("button",{onClick:()=>e("register"),className:"hover:text-white",children:"Post a Job"})}),l.jsx("li",{children:l.jsx("button",{className:"hover:text-white",children:"Find Talent"})}),l.jsx("li",{children:l.jsx("button",{className:"hover:text-white",children:"Pricing"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-medium mb-3",children:"Company"}),l.jsxs("ul",{className:"space-y-2 text-sm",children:[l.jsx("li",{children:l.jsx("button",{className:"hover:text-white",children:"About Us"})}),l.jsx("li",{children:l.jsx("button",{className:"hover:text-white",children:"Contact"})}),l.jsx("li",{children:l.jsx("button",{className:"hover:text-white",children:"Privacy Policy"})})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 pt-6 text-sm text-center",children:" 2024 HireHub. All rights reserved."})]})})]})}const Ol=s=>{switch(s){case"student":return"student-dashboard";case"employer":return"employer-dashboard";case"admin":return"admin-dashboard"}};function _M(){const{login:s,navigate:e,theme:t}=We(),[r,a]=$.useState(""),[c,d]=$.useState(""),[h,g]=$.useState(!1),[y,x]=$.useState(""),b=t==="dark",E=async q=>{q.preventDefault(),x("");try{const J=await s(r,c);J?e(Ol(J.role)):x("Invalid email or password.")}catch(J){x(J.message||"Invalid email or password.")}},[j,I]=$.useState(null),[R,V]=$.useState(!1),O=async()=>{x("");try{const J=(await tT($s,iA)).user,te=await Vd(bn(xt,"users",J.uid));if(te.exists()){const re=te.data();e(Ol(re.role))}else I({uid:J.uid,email:J.email,displayName:J.displayName}),V(!0)}catch(q){x(q.message||"Google sign-in failed.")}},Q=async q=>{if(j)try{const J=j.displayName||j.email?.split("@")[0]||"User",te={uid:j.uid,id:j.uid,name:J,email:j.email||"",role:q,createdAt:new Date().toISOString(),...q==="employer"?{companyName:J+"'s Company",companyLogo:"",industry:"Technology",companyDescription:"",companyLocation:"",companySize:"",companyWebsite:""}:{skills:[],education:"",bio:"",phone:""}};await Hs(bn(xt,"users",j.uid),te),V(!1),I(null),e(Ol(q))}catch(J){x(J.message||"Failed to create user profile."),V(!1)}};return l.jsxs("div",{className:`min-h-screen flex items-center justify-center p-4 ${b?"bg-gray-950":"bg-gradient-to-br from-indigo-50 via-white to-purple-50"}`,children:[l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"mt-4",children:l.jsx("button",{onClick:()=>e("home"),className:"w-1/4 mx-auto bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white py-3 border rounded-2xl font-medium mt-2 ml-2 text-sm",children:"Back to Home"})}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-indigo-200",children:l.jsx(un,{className:"w-7 h-7 text-white"})}),l.jsx("h1",{className:`text-2xl font-bold ${b?"text-white":"text-gray-900"}`,children:"Welcome Back"}),l.jsx("p",{className:`mt-1 ${b?"text-gray-400":"text-gray-500"}`,children:"Sign in to your HireHub account"})]}),l.jsxs("div",{className:`rounded-2xl shadow-xl border p-8 ${b?"bg-gray-900 border-gray-800 shadow-black/30":"bg-white border-gray-100 shadow-gray-200/50"}`,children:[y&&l.jsxs("div",{className:"flex items-center gap-2 p-3 mb-4 bg-red-50 border border-red-100 rounded-xl text-sm text-red-600",children:[l.jsx(ac,{className:"w-4 h-4 flex-shrink-0"})," ",y]}),l.jsxs("form",{onSubmit:E,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${b?"text-gray-300":"text-gray-700"}`,children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(tr,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 ${b?"text-gray-500":"text-gray-400"}`}),l.jsx("input",{type:"email",value:r,onChange:q=>a(q.target.value),placeholder:"you@example.com",required:!0,className:`w-full pl-11 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none ${b?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${b?"text-gray-300":"text-gray-700"}`,children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(hA,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 ${b?"text-gray-500":"text-gray-400"}`}),l.jsx("input",{type:h?"text":"password",value:c,onChange:q=>d(q.target.value),placeholder:"",required:!0,className:`w-full pl-11 pr-12 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none ${b?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`}),l.jsx("button",{type:"button",onClick:()=>g(!h),className:`absolute right-3 top-1/2 -translate-y-1/2 ${b?"text-gray-500 hover:text-gray-300":"text-gray-400 hover:text-gray-600"}`,children:h?l.jsx(dA,{className:"w-5 h-5"}):l.jsx(No,{className:"w-5 h-5"})})]})]}),l.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700 transition-all",children:"Sign In"})]}),l.jsx("button",{onClick:O,className:"w-full mt-4 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700 transition-all",children:"Continue with Google"}),l.jsxs("div",{className:`mt-6 text-center text-sm ${b?"text-gray-400":"text-gray-500"}`,children:["Don't have an account?"," ",l.jsx("button",{onClick:()=>e("register"),className:"text-indigo-600 font-medium hover:text-indigo-700",children:"Sign up"})]})]})]}),R&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:`rounded-2xl border max-w-md w-full p-6 ${b?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx("h2",{className:`text-xl font-bold mb-2 ${b?"text-white":"text-gray-900"}`,children:"Choose Your Role"}),l.jsx("p",{className:`mb-6 ${b?"text-gray-400":"text-gray-500"}`,children:"Please select whether you are a Student or Employer to continue."}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("button",{type:"button",onClick:()=>Q("student"),className:`flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${b?"border-gray-700 hover:border-indigo-500 bg-gray-800":"border-gray-200 hover:border-indigo-500 bg-gray-50"}`,children:[l.jsx(Um,{className:`w-5 h-5 ${b?"text-gray-400":"text-gray-600"}`}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:`font-medium ${b?"text-white":"text-gray-900"}`,children:"Student"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Find jobs and apply"})]})]}),l.jsxs("button",{type:"button",onClick:()=>Q("employer"),className:`flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${b?"border-gray-700 hover:border-indigo-500 bg-gray-800":"border-gray-200 hover:border-indigo-500 bg-gray-50"}`,children:[l.jsx(To,{className:`w-5 h-5 ${b?"text-gray-400":"text-gray-600"}`}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:`font-medium ${b?"text-white":"text-gray-900"}`,children:"Employer"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Post jobs and hire talent"})]})]})]})]})})]})}function wM(){const{register:s,navigate:e,theme:t,login:r}=We(),[a,c]=$.useState(null),[d,h]=$.useState(""),[g,y]=$.useState(""),[x,b]=$.useState(""),[E,j]=$.useState(""),[I,R]=$.useState(""),[V,O]=$.useState(""),Q=t==="dark",q=async re=>{if(re.preventDefault(),!a){O("Please select a role first.");return}O("");try{await s({name:d,email:g,role:a,...a==="employer"?{companyName:E||d+"'s Company",companyLogo:"",industry:I||"Technology",companyDescription:"",companyLocation:"",companySize:"",companyWebsite:""}:{skills:[],education:"",bio:"",phone:""}},x)&&e(Ol(a))}catch(S){const T=S.message||"Registration failed.";O(T)}},J=async()=>{if(!a){O("Please select a role first to continue with Google.");return}O("");try{const S=(await tT($s,iA)).user,T=await Vd(bn(xt,"users",S.uid));if(T.exists()){const C=T.data();e(Ol(C.role))}else{const C=S.displayName||S.email?.split("@")[0]||"User",D={uid:S.uid,id:S.uid,name:C,email:S.email||"",role:a,createdAt:new Date().toISOString(),...a==="employer"?{companyName:C+"'s Company",companyLogo:"",industry:"Technology",companyDescription:"",companyLocation:"",companySize:"",companyWebsite:""}:{skills:[],education:"",bio:"",phone:""}};await Hs(bn(xt,"users",S.uid),D),e(Ol(a))}}catch(re){O(re.message||"Google sign-up failed.")}},te=`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none ${Q?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`;return l.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 ${Q?"bg-gray-950":"bg-gradient-to-br from-indigo-50 via-white to-purple-50"}`,children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("button",{onClick:()=>e("home"),className:"w-1/4 mx-auto bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white py-3 border rounded-2xl font-medium mt-2 ml-2 text-sm",children:"Back to Home"}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-indigo-200",children:l.jsx(un,{className:"w-7 h-7 text-white"})}),l.jsx("h1",{className:`text-2xl font-bold ${Q?"text-white":"text-gray-900"}`,children:"Create Account"}),l.jsx("p",{className:`mt-1 ${Q?"text-gray-400":"text-gray-500"}`,children:"Join HireHub and start your journey"})]}),l.jsxs("div",{className:`rounded-2xl shadow-xl border p-8 ${Q?"bg-gray-900 border-gray-800 shadow-black/30":"bg-white border-gray-100 shadow-gray-200/50"}`,children:[l.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-6",children:[l.jsxs("button",{type:"button",onClick:()=>c("student"),className:`flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${a==="student"?"border-indigo-500 bg-indigo-50":Q?"border-gray-700 hover:border-gray-600":"border-gray-100 hover:border-gray-200"}`,children:[l.jsx(Um,{className:`w-5 h-5 ${a==="student"?"text-indigo-600":Q?"text-gray-500":"text-gray-400"}`}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:`font-medium text-sm ${a==="student"?"text-indigo-900":Q?"text-gray-300":"text-gray-700"}`,children:"Student"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Find jobs"})]})]}),l.jsxs("button",{type:"button",onClick:()=>c("employer"),className:`flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${a==="employer"?"border-indigo-500 bg-indigo-50":Q?"border-gray-700 hover:border-gray-600":"border-gray-100 hover:border-gray-200"}`,children:[l.jsx(To,{className:`w-5 h-5 ${a==="employer"?"text-indigo-600":Q?"text-gray-500":"text-gray-400"}`}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:`font-medium text-sm ${a==="employer"?"text-indigo-900":Q?"text-gray-300":"text-gray-700"}`,children:"Employer"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Post jobs"})]})]})]}),V&&l.jsxs("div",{className:"flex items-center gap-2 p-3 mb-4 bg-red-50 border border-red-100 rounded-xl text-sm text-red-600",children:[l.jsx(ac,{className:"w-4 h-4 flex-shrink-0"})," ",V]}),l.jsxs("form",{onSubmit:q,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${Q?"text-gray-300":"text-gray-700"}`,children:"Full Name"}),l.jsx("input",{type:"text",value:d,onChange:re=>h(re.target.value),placeholder:"John Doe",required:!0,className:te})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${Q?"text-gray-300":"text-gray-700"}`,children:"Email"}),l.jsx("input",{type:"email",value:g,onChange:re=>y(re.target.value),placeholder:"you@example.com",required:!0,className:te})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${Q?"text-gray-300":"text-gray-700"}`,children:"Password"}),l.jsx("input",{type:"password",value:x,onChange:re=>b(re.target.value),placeholder:"Min 6 characters",required:!0,minLength:6,className:te})]}),a==="employer"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${Q?"text-gray-300":"text-gray-700"}`,children:"Company Name"}),l.jsx("input",{type:"text",value:E,onChange:re=>j(re.target.value),placeholder:"Your company name",required:!0,className:te})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${Q?"text-gray-300":"text-gray-700"}`,children:"Industry"}),l.jsxs("select",{value:I,onChange:re=>R(re.target.value),className:te,children:[l.jsx("option",{value:"",children:"Select industry"}),l.jsx("option",{children:"Technology"}),l.jsx("option",{children:"Finance & Banking"}),l.jsx("option",{children:"Healthcare"}),l.jsx("option",{children:"Education"}),l.jsx("option",{children:"Design & Creative"}),l.jsx("option",{children:"Energy & Environment"}),l.jsx("option",{children:"Marketing & Media"}),l.jsx("option",{children:"Retail & E-commerce"}),l.jsx("option",{children:"Other"})]})]})]}),l.jsx("button",{type:"submit",disabled:!a,className:`w-full py-3 rounded-xl font-medium transition-all ${a?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white hover:from-indigo-600 hover:to-purple-700":Q?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Create Account"})]}),l.jsx("button",{type:"button",onClick:J,disabled:!a,className:`w-full mt-4 py-3 rounded-xl font-medium transition-all ${a?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white hover:from-indigo-600 hover:to-purple-700":Q?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Continue with Google"}),l.jsxs("div",{className:`mt-6 text-center text-sm ${Q?"text-gray-400":"text-gray-500"}`,children:["Already have an account?"," ",l.jsx("button",{onClick:()=>e("login"),className:"text-indigo-600 font-medium hover:text-indigo-700",children:"Sign in"})]})]})]})})}function EM(){const{navigate:s,theme:e,currentUser:t}=We(),{login:r}=fx(),[a,c]=$.useState(""),[d,h]=$.useState(""),[g,y]=$.useState(!1),[x,b]=$.useState(""),[E,j]=$.useState(!1),I=e==="dark";$.useEffect(()=>{E&&t&&t.role==="admin"&&(s("admin-dashboard"),j(!1))},[E,t,s]);const R=async V=>{V.preventDefault(),b("");try{const O=await r(a,d);O?O.role==="admin"?j(!0):(await $s.signOut(),b("Access denied. Admin privileges required.")):b("Invalid email or password.")}catch(O){b(O.message||"Invalid email or password.")}};return l.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 ${I?"bg-gray-950":"bg-gradient-to-br from-indigo-50 via-white to-purple-50"}`,children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"mt-4",children:l.jsx("button",{onClick:()=>s("home"),className:"w-1/4 mx-auto bg-gradient-to-r from-indigo-300 to-purple-600 hover:from-gray-600 hover:to-purple-700 text-white py-3 border rounded-2xl font-medium mt-2 ml-2 text-sm",children:"Back to Home"})}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-indigo-200",children:l.jsx(un,{className:"w-7 h-7 text-white"})}),l.jsx("h1",{className:`text-2xl font-bold ${I?"text-white":"text-gray-900"}`,children:"Admin Sign In"}),l.jsx("p",{className:`mt-1 ${I?"text-gray-400":"text-gray-500"}`,children:"Sign in to the admin dashboard"})]}),l.jsxs("div",{className:`rounded-2xl shadow-xl border p-8 ${I?"bg-gray-900 border-gray-800 shadow-black/30":"bg-white border-gray-100 shadow-gray-200/50"}`,children:[x&&l.jsxs("div",{className:"flex items-center gap-2 p-3 mb-4 bg-red-50 border border-red-100 rounded-xl text-sm text-red-600",children:[l.jsx(ac,{className:"w-4 h-4 flex-shrink-0"})," ",x]}),l.jsxs("form",{onSubmit:R,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${I?"text-gray-300":"text-gray-700"}`,children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(tr,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 ${I?"text-gray-500":"text-gray-400"}`}),l.jsx("input",{type:"email",value:a,onChange:V=>c(V.target.value),placeholder:"admin@example.com",required:!0,className:`w-full pl-11 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none ${I?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${I?"text-gray-300":"text-gray-700"}`,children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(hA,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 ${I?"text-gray-500":"text-gray-400"}`}),l.jsx("input",{type:g?"text":"password",value:d,onChange:V=>h(V.target.value),placeholder:"",required:!0,className:`w-full pl-11 pr-12 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none ${I?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`}),l.jsx("button",{type:"button",onClick:()=>y(!g),className:`absolute right-3 top-1/2 -translate-y-1/2 ${I?"text-gray-500 hover:text-gray-300":"text-gray-400 hover:text-gray-600"}`,children:g?l.jsx(dA,{className:"w-5 h-5"}):l.jsx(No,{className:"w-5 h-5"})})]})]}),l.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700 transition-all",children:"Sign In as Admin"})]})]})]})})}function TM(){const{theme:s,sendContactMessage:e,navigate:t}=We(),r=s==="dark",[a,c]=$.useState({name:"",email:"",subject:"",message:""}),[d,h]=$.useState(!1),[g,y]=$.useState(!1),x=E=>{c(j=>({...j,[E.target.name]:E.target.value}))},b=E=>{E.preventDefault(),y(!0),setTimeout(()=>{e(a.name,a.email,a.subject,a.message),h(!0),y(!1)},500)};return d?l.jsx("div",{className:`min-h-screen ${r?"bg-gray-950":"bg-gray-50"}`,children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-16",children:l.jsx(yr,{children:l.jsxs("div",{className:`max-w-md mx-auto text-center rounded-2xl border p-8 ${r?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Lr,{className:"w-8 h-8 text-green-500"})}),l.jsx("h2",{className:`text-2xl font-bold mb-2 ${r?"text-white":"text-gray-900"}`,children:"Message Sent!"}),l.jsx("p",{className:`mb-6 ${r?"text-gray-400":"text-gray-500"}`,children:"Thank you for contacting us. We'll get back to you within 24-48 hours."}),l.jsx("button",{onClick:()=>t("home"),className:"px-6 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700",children:"Back to Home"})]})})})}):l.jsxs("div",{className:`min-h-screen ${r?"bg-gray-950":"bg-gray-50"} flex flex-col`,children:[l.jsx("section",{className:`relative overflow-hidden ${r?"bg-gradient-to-br from-[#0a0f1a] via-[#0f172a] to-[#0a0f1a]":"bg-white"}`,children:l.jsx("div",{className:"relative w-full px-4 sm:px-6 py-16 md:py-24",children:l.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[l.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:[l.jsx("span",{className:r?"text-gray-100":"text-gray-900",children:"Get in "}),l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-teal-400",children:"Touch"})]}),l.jsx("p",{className:`text-lg ${r?"text-gray-400":"text-gray-500"}`,children:"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]})})}),l.jsx("section",{className:"flex-1 flex items-center justify-center py-14",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 max-w-4xl w-full px-4 sm:px-6",children:[l.jsx(yr,{delay:100,children:l.jsxs("div",{className:`rounded-2xl border p-6 ${r?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx("h2",{className:`text-2xl font-bold mb-6 ${r?"text-white":"text-gray-900"}`,children:"Contact Info"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:`bg-gradient-to-br from-indigo-500/10 to-purple-500/10 p-4 rounded-lg border ${r?"border-indigo-800/50":"border-indigo-200/50"}`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:l.jsx(ps,{className:"w-5 h-5 text-white"})}),l.jsx("h3",{className:`text-lg font-semibold ${r?"text-white":"text-gray-900"}`,children:"Visit Us"})]}),l.jsxs("p",{className:`text-sm ${r?"text-gray-300":"text-gray-600"}`,children:["Haramaya University",l.jsx("br",{}),"Building 2, Office No. 5"]})]}),l.jsxs("div",{className:`bg-gradient-to-br from-indigo-500/10 to-purple-500/10 p-4 rounded-lg border ${r?"border-indigo-800/50":"border-indigo-200/50"}`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:l.jsx(tr,{className:"w-5 h-5 text-white"})}),l.jsx("h3",{className:`text-lg font-semibold ${r?"text-white":"text-gray-900"}`,children:"Email Us"})]}),l.jsx("p",{className:`text-sm ${r?"text-gray-300":"text-gray-600"}`,children:"hirehub@gmail.com"})]}),l.jsxs("div",{className:`bg-gradient-to-br from-indigo-500/10 to-purple-500/10 p-4 rounded-lg border ${r?"border-indigo-800/50":"border-indigo-200/50"}`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:l.jsx(mA,{className:"w-5 h-5 text-white"})}),l.jsx("h3",{className:`text-lg font-semibold ${r?"text-white":"text-gray-900"}`,children:"Call Us"})]}),l.jsx("p",{className:`text-sm ${r?"text-gray-300":"text-gray-600"}`,children:"+2519333333"})]})]})]})}),l.jsx(yr,{delay:200,children:l.jsxs("div",{className:`rounded-2xl border p-6 ${r?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx("h2",{className:`text-2xl font-bold mb-6 ${r?"text-white":"text-gray-900"}`,children:"Send us a Message"}),l.jsxs("form",{onSubmit:b,className:"space-y-4",children:[l.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1.5 ${r?"text-gray-300":"text-gray-700"}`,children:"Name *"}),l.jsx("input",{type:"text",name:"name",value:a.name,onChange:x,required:!0,placeholder:"Your name",className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${r?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1.5 ${r?"text-gray-300":"text-gray-700"}`,children:"Email *"}),l.jsx("input",{type:"email",name:"email",value:a.email,onChange:x,required:!0,placeholder:"your@email.com",className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${r?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1.5 ${r?"text-gray-300":"text-gray-700"}`,children:"Subject *"}),l.jsx("input",{type:"text",name:"subject",value:a.subject,onChange:x,required:!0,placeholder:"Subject of your message",className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${r?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1.5 ${r?"text-gray-300":"text-gray-700"}`,children:"Message *"}),l.jsx("textarea",{name:"message",value:a.message,onChange:x,required:!0,rows:5,placeholder:"Tell us more about your inquiry...",className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 resize-none ${r?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`})]}),l.jsx("button",{type:"submit",disabled:g,className:"w-full px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:g?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(br,{className:"w-5 h-5"}),"Send Message"]})})]})]})})]})})]})}function NM(){const{currentUser:s,getMessagesForStudent:e,markStudentMessageAsRead:t,replyToStudentMessage:r,deleteStudentMessage:a,users:c,theme:d}=We(),h=d==="dark",g=s?e(s.id):[],[y,x]=$.useState(null),[b,E]=$.useState("");$.useEffect(()=>{s&&g.forEach(R=>{R.status==="sent"&&t(R.id)})},[s,g,t]);const j=R=>{b.trim()&&(r(R,b),E(""),x(null))},I=R=>c.find(V=>V.id===R);return l.jsxs("div",{className:`max-w-4xl mx-auto my-12 px-4 ${h?"text-gray-200":"text-gray-800"}`,children:[l.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[l.jsx(tr,{className:`w-10 h-10 ${h?"text-indigo-400":"text-indigo-600"}`}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold",children:"My Messages"}),l.jsx("p",{className:`${h?"text-gray-400":"text-gray-500"}`,children:"Communications from employers."})]})]}),l.jsx("div",{className:"space-y-6",children:g.length===0?l.jsxs("div",{className:`text-center py-16 px-6 rounded-2xl border-2 border-dashed ${h?"bg-gray-800/50 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[l.jsx(tr,{className:`w-12 h-12 mx-auto ${h?"text-gray-500":"text-gray-400"}`}),l.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"No Messages Yet"}),l.jsx("p",{className:`mt-1 ${h?"text-gray-400":"text-gray-500"}`,children:"You have no messages from employers at this time."})]}):g.sort((R,V)=>new Date(V.sentDate).getTime()-new Date(R.sentDate).getTime()).map(R=>{const V=I(R.employerId);return l.jsxs("div",{className:`p-6 rounded-2xl border ${h?"bg-gray-800/50 border-gray-700":"bg-white border-gray-200 shadow-sm"}`,children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("p",{className:`text-sm font-medium ${h?"text-indigo-400":"text-indigo-600"}`,children:["From: ",V?.companyName||"A Company"]}),l.jsx("h2",{className:"text-xl font-semibold mt-1",children:R.subject}),l.jsxs("p",{className:`text-sm mt-1 ${h?"text-gray-400":"text-gray-500"}`,children:["Received on: ",new Date(R.sentDate).toLocaleDateString()]})]}),l.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full capitalize ${R.status==="sent"?"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:R.status})]}),l.jsx("p",{className:`mt-4 whitespace-pre-wrap ${h?"text-gray-300":"text-gray-700"}`,children:R.body}),R.replies&&R.replies.length>0&&l.jsx("div",{className:"mt-4 space-y-3",children:R.replies.map(O=>l.jsxs("div",{className:`p-3 rounded-lg ${O.senderId===s?.id?h?"bg-indigo-900/20":"bg-indigo-50":h?"bg-gray-700/50":"bg-gray-50"}`,children:[l.jsx("p",{className:`text-xs font-medium ${h?"text-gray-400":"text-gray-500"}`,children:O.senderId===s?.id?"Your reply":`${V?.companyName||"Employer"} reply`}),l.jsx("p",{className:`mt-1 text-sm ${h?"text-gray-200":"text-gray-800"}`,children:O.body})]},O.id))}),l.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[y===R.id?l.jsxs("div",{className:"flex items-center gap-2 flex-grow",children:[l.jsx("input",{type:"text",value:b,onChange:O=>E(O.target.value),placeholder:"Type your reply...",className:`flex-grow px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-indigo-500 ${h?"bg-gray-800 border-gray-700":"border-gray-300"}`}),l.jsx("button",{onClick:()=>j(R.id),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:l.jsx(br,{className:"w-4 h-4"})})]}):l.jsxs("button",{onClick:()=>x(R.id),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg ${h?"bg-gray-700 hover:bg-gray-600":"bg-gray-100 hover:bg-gray-200"}`,children:[l.jsx(ba,{className:"w-4 h-4"})," Reply"]}),l.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this message?")&&a(R.id)},className:`p-2 rounded-lg ${h?"text-gray-500 hover:text-red-400 hover:bg-red-900/30":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:"Delete message",children:l.jsx(va,{className:"w-4 h-4"})})]})]},R.id)})})]})}const fd=s=>{const e=Math.floor((Date.now()-new Date(s).getTime())/864e5);return e===0?"Today":e===1?"Yesterday":`${e} days ago`},yA=s=>{const e=Math.ceil((new Date(s).getTime()-Date.now())/864e5);return e<0?"Expired":e===0?"Today":e===1?"Tomorrow":`${e} days left`};function SM(){const{currentUser:s,jobs:e,navigate:t,getApplicationsForStudent:r,theme:a}=We(),c=a==="dark";if(!s)return null;const d=r(s.id),h=e.filter(x=>x.status==="active"),g=h.slice(0,4),y=[{label:"Available Jobs",value:h.length,icon:un,bg:c?"bg-indigo-900/30":"bg-indigo-50"},{label:"Applications Sent",value:d.length,icon:br,bg:c?"bg-purple-900/30":"bg-purple-50"},{label:"Shortlisted",value:d.filter(x=>x.status==="shortlisted").length,icon:Lr,bg:c?"bg-emerald-900/30":"bg-emerald-50"},{label:"Under Review",value:d.filter(x=>x.status==="pending"||x.status==="reviewed").length,icon:No,bg:c?"bg-amber-900/30":"bg-amber-50"}];return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:`text-2xl font-bold ${c?"text-white":"text-gray-900"}`,children:["Welcome back, ",s.name.split(" ")[0],"! "]}),l.jsx("p",{className:`mt-1 ${c?"text-gray-400":"text-gray-500"}`,children:"Here's what's happening with your job search"})]}),l.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:y.map((x,b)=>l.jsxs("div",{className:`rounded-2xl border p-5 ${c?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsx("div",{className:`w-10 h-10 rounded-xl ${x.bg} flex items-center justify-center`,children:l.jsx(x.icon,{className:`w-5 h-5 ${c?"text-gray-300":"text-gray-700"}`})})}),l.jsx("div",{className:`text-2xl font-bold ${c?"text-white":"text-gray-900"}`,children:x.value}),l.jsx("div",{className:`text-sm ${c?"text-gray-400":"text-gray-500"}`,children:x.label})]},b))}),(!s.skills||s.skills.length===0||!s.education)&&l.jsx("div",{className:`rounded-2xl p-6 mb-8 border ${c?"bg-amber-900/20 border-amber-800/30":"bg-gradient-to-r from-amber-50 to-orange-50 border-amber-100"}`,children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${c?"bg-amber-900/40":"bg-amber-100"}`,children:l.jsx(nM,{className:`w-5 h-5 ${c?"text-amber-400":"text-amber-600"}`})}),l.jsxs("div",{children:[l.jsx("h3",{className:`font-semibold ${c?"text-white":"text-gray-900"}`,children:"Complete Your Profile"}),l.jsx("p",{className:`text-sm mt-1 ${c?"text-gray-400":"text-gray-600"}`,children:"Add your skills and education to increase your chances of getting hired."}),l.jsx("button",{onClick:()=>t("student-profile"),className:"mt-3 px-4 py-2 bg-amber-500 text-white text-sm rounded-lg font-medium hover:bg-amber-600",children:"Update Profile"})]})]})}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:`text-lg font-semibold ${c?"text-white":"text-gray-900"}`,children:"Recommended Jobs"}),l.jsx("button",{onClick:()=>t("browse-jobs"),className:"text-sm text-indigo-600 font-medium hover:text-indigo-700",children:"View All"})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:g.map(x=>l.jsx("div",{onClick:()=>t("job-detail",x.id),className:`rounded-xl border p-5 hover:shadow-md transition-all cursor-pointer ${c?"bg-gray-900 border-gray-800 hover:border-indigo-800":"bg-white border-gray-100 hover:border-indigo-100"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-xl flex-shrink-0 ${c?"bg-gray-800":"bg-gradient-to-br from-indigo-50 to-purple-50"}`,children:x.companyLogo||""}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h3",{className:`font-semibold truncate ${c?"text-white":"text-gray-900"}`,children:x.title}),l.jsx("p",{className:`text-sm ${c?"text-gray-400":"text-gray-500"}`,children:x.companyName}),l.jsxs("div",{className:"flex flex-wrap gap-3 mt-2 text-xs text-gray-500",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ps,{className:"w-3 h-3"})," ",x.location]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Pd,{className:"w-3 h-3"})," ",x.salary]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ms,{className:"w-3 h-3"})," ",fd(x.postedDate)]})]})]})]})},x.id))})]}),d.length>0&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:`text-lg font-semibold ${c?"text-white":"text-gray-900"}`,children:"Recent Applications"}),l.jsx("button",{onClick:()=>t("applied-jobs"),className:"text-sm text-indigo-600 font-medium hover:text-indigo-700",children:"View All"})]}),l.jsx("div",{className:`rounded-xl border overflow-hidden ${c?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:d.slice(0,5).map(x=>{const b=e.find(E=>E.id===x.jobId);return l.jsxs("div",{className:`flex items-center justify-between p-4 border-b last:border-0 ${c?"border-gray-800 hover:bg-gray-800/50":"border-gray-50 hover:bg-gray-50"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center text-lg ${c?"bg-gray-800":"bg-indigo-50"}`,children:b?.companyLogo||""}),l.jsxs("div",{children:[l.jsx("div",{className:`font-medium text-sm ${c?"text-white":"text-gray-900"}`,children:b?.title||"Unknown Job"}),l.jsxs("div",{className:"text-xs text-gray-500",children:[b?.companyName,"  Applied ",fd(x.appliedDate)]})]})]}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${x.status==="pending"?c?"bg-yellow-900/40 text-yellow-400":"bg-yellow-50 text-yellow-700":x.status==="reviewed"?c?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-700":x.status==="shortlisted"?c?"bg-green-900/40 text-green-400":"bg-green-50 text-green-700":x.status==="accepted"?c?"bg-emerald-900/40 text-emerald-400":"bg-emerald-50 text-emerald-700":c?"bg-red-900/40 text-red-400":"bg-red-50 text-red-700"}`,children:x.status.charAt(0).toUpperCase()+x.status.slice(1)})]},x.id)})})]})]})}function AM(){const{jobs:s,navigate:e,searchQuery:t,setSearchQuery:r,filterType:a,setFilterType:c,currentUser:d,hasApplied:h,theme:g,location:y}=We(),x=g==="dark",[b,E]=$.useState(t),I=s.filter(O=>O.status==="active").filter(O=>{const Q=!t||O.title.toLowerCase().includes(t.toLowerCase())||O.companyName.toLowerCase().includes(t.toLowerCase())||O.description.toLowerCase().includes(t.toLowerCase())||O.category.toLowerCase().includes(t.toLowerCase()),q=!a||O.type===a,J=!y||O.location.toLowerCase().includes(y.toLowerCase());return Q&&q&&J}),R=()=>r(b),V=["Full-time","Part-time","Internship","Contract","Remote"];return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:`text-2xl font-bold ${x?"text-white":"text-gray-900"}`,children:"Browse Jobs"}),l.jsxs("p",{className:`mt-1 ${x?"text-gray-400":"text-gray-500"}`,children:[I.length," opportunities available"]})]}),l.jsxs("div",{className:`rounded-2xl border p-4 mb-6 ${x?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("div",{className:`flex-1 flex items-center gap-2 px-3 border rounded-xl ${x?"border-gray-700":"border-gray-200"}`,children:[l.jsx(xr,{className:`w-5 h-5 ${x?"text-gray-500":"text-gray-400"}`}),l.jsx("input",{type:"text",value:b,onChange:O=>E(O.target.value),onKeyDown:O=>O.key==="Enter"&&R(),placeholder:"Search jobs, companies, categories...",className:`w-full py-2.5 outline-none text-sm ${x?"bg-transparent text-gray-100 placeholder-gray-500":""}`})]}),l.jsx("button",{onClick:R,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Search"})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-3 flex-wrap",children:[l.jsx(V6,{className:`w-4 h-4 ${x?"text-gray-500":"text-gray-400"}`}),l.jsx("button",{onClick:()=>c(""),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition ${a?x?"bg-gray-800 text-gray-400 hover:bg-gray-700":"bg-gray-50 text-gray-600 hover:bg-gray-100":x?"bg-indigo-900/50 text-indigo-300":"bg-indigo-100 text-indigo-700"}`,children:"All"}),V.map(O=>l.jsx("button",{onClick:()=>c(a===O?"":O),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition ${a===O?x?"bg-indigo-900/50 text-indigo-300":"bg-indigo-100 text-indigo-700":x?"bg-gray-800 text-gray-400 hover:bg-gray-700":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:O},O))]})]}),I.length===0?l.jsxs("div",{className:`text-center py-16 rounded-2xl border ${x?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx(xr,{className:`w-12 h-12 mx-auto mb-4 ${x?"text-gray-600":"text-gray-300"}`}),l.jsx("h3",{className:`text-lg font-medium mb-2 ${x?"text-white":"text-gray-900"}`,children:"No jobs found"}),l.jsx("p",{className:x?"text-gray-400":"text-gray-500",children:"Try adjusting your search or filters"})]}):l.jsx("div",{className:"space-y-3",children:I.map(O=>{const Q=h(O.id),q=d?.role==="employer";return l.jsx("div",{className:`rounded-xl border p-5 hover:shadow-md transition-all cursor-pointer ${x?"bg-gray-900 border-gray-800 hover:border-indigo-800":"bg-white border-gray-100 hover:border-indigo-100"}`,onClick:()=>e("job-detail",O.id),children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[l.jsxs("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[l.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-2xl flex-shrink-0 ${x?"bg-gray-800":"bg-gradient-to-br from-indigo-50 to-purple-50"}`,children:O.companyLogo||""}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h3",{className:`font-semibold ${x?"text-white":"text-gray-900"}`,children:O.title}),l.jsx("p",{className:`text-sm ${x?"text-gray-400":"text-gray-500"}`,children:O.companyName}),l.jsxs("div",{className:"flex flex-wrap gap-3 mt-2 text-xs text-gray-500",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ps,{className:"w-3 h-3"})," ",O.location]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Pd,{className:"w-3 h-3"})," ",O.salary]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ms,{className:"w-3 h-3"})," ",fd(O.postedDate)]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 sm:flex-col sm:items-end",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${O.type==="Full-time"?x?"bg-green-900/40 text-green-400":"bg-green-50 text-green-700":O.type==="Part-time"?x?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-700":O.type==="Internship"?x?"bg-amber-900/40 text-amber-400":"bg-amber-50 text-amber-700":O.type==="Remote"?x?"bg-purple-900/40 text-purple-400":"bg-purple-50 text-purple-700":x?"bg-gray-800 text-gray-400":"bg-gray-50 text-gray-700"}`,children:O.type}),Q&&l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${x?"bg-indigo-900/40 text-indigo-400":"bg-indigo-50 text-indigo-700"}`,children:"Applied "}),q&&l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${x?"bg-gray-800 text-gray-400":"bg-gray-50 text-gray-500"}`,children:"Employer View"}),l.jsx("span",{className:`text-xs ${x?"text-gray-500":"text-gray-400"}`,children:yA(O.deadline)})]})]})},O.id)})})]})}function IM(){const{selectedJobId:s,getJobById:e,navigate:t,currentUser:r,applyForJob:a,hasApplied:c,theme:d}=We(),h=d==="dark",[g,y]=$.useState(""),[x,b]=$.useState(!1),[E,j]=$.useState(!1),I=s?e(s):void 0;if(!I)return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-16 text-center",children:[l.jsx("h2",{className:`text-xl font-bold ${h?"text-white":"text-gray-900"}`,children:"Job not found"}),l.jsx("button",{onClick:()=>t("browse-jobs"),className:"mt-4 text-indigo-600 hover:text-indigo-700",children:"Back to Jobs"})]});const R=c(I.id),V=r?.role==="employer",O=r?.role==="admin",Q=r?.id===I.employerId,q=()=>{if(!r){t("login");return}if(r.role!=="student"&&r.role!=="admin")return;a(I.id,g)&&(j(!0),b(!1))};return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("button",{onClick:()=>t("browse-jobs"),className:`flex items-center gap-1 text-sm mb-6 ${h?"text-gray-400 hover:text-indigo-400":"text-gray-500 hover:text-indigo-600"}`,children:[l.jsx(ba,{className:"w-4 h-4"})," Back to Jobs"]}),l.jsxs("div",{className:`rounded-2xl border overflow-hidden ${h?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx("div",{className:`p-6 sm:p-8 border-b ${h?"border-gray-800":"border-gray-100"}`,children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center text-3xl flex-shrink-0 ${h?"bg-gray-800":"bg-gradient-to-br from-indigo-50 to-purple-50"}`,children:I.companyLogo||""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:`text-2xl font-bold ${h?"text-white":"text-gray-900"}`,children:I.title}),l.jsx("p",{className:`mt-1 ${h?"text-gray-400":"text-gray-500"}`,children:I.companyName}),l.jsxs("div",{className:"flex flex-wrap gap-3 mt-3",children:[l.jsxs("span",{className:`flex items-center gap-1 text-sm ${h?"text-gray-400":"text-gray-500"}`,children:[l.jsx(ps,{className:"w-4 h-4"})," ",I.location]}),l.jsxs("span",{className:`flex items-center gap-1 text-sm ${h?"text-gray-400":"text-gray-500"}`,children:[l.jsx(Pd,{className:"w-4 h-4"})," ",I.salary]}),l.jsxs("span",{className:`flex items-center gap-1 text-sm ${h?"text-gray-400":"text-gray-500"}`,children:[l.jsx(ms,{className:"w-4 h-4"})," Posted ",fd(I.postedDate)]}),l.jsxs("span",{className:`flex items-center gap-1 text-sm ${h?"text-gray-400":"text-gray-500"}`,children:[l.jsx(un,{className:"w-4 h-4"})," ",I.type]})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${I.type==="Full-time"?h?"bg-green-900/40 text-green-400":"bg-green-50 text-green-700":I.type==="Internship"?h?"bg-amber-900/40 text-amber-400":"bg-amber-50 text-amber-700":h?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-700"}`,children:I.type}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h?"bg-gray-800 text-gray-400":"bg-gray-50 text-gray-600"}`,children:I.category}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h?"bg-orange-900/40 text-orange-400":"bg-orange-50 text-orange-600"}`,children:yA(I.deadline)})]})]})]})}),l.jsxs("div",{className:"p-6 sm:p-8",children:[l.jsxs("div",{className:"prose prose-gray max-w-none",children:[l.jsx("h3",{className:`text-lg font-semibold mb-3 ${h?"text-white":"text-gray-900"}`,children:"Job Description"}),l.jsx("div",{className:`whitespace-pre-line mb-6 ${h?"text-gray-300":"text-gray-600"}`,children:I.description}),l.jsx("h3",{className:`text-lg font-semibold mb-3 ${h?"text-white":"text-gray-900"}`,children:"Requirements"}),l.jsx("ul",{className:"space-y-2 mb-6",children:I.requirements.map((J,te)=>l.jsxs("li",{className:`flex items-start gap-2 ${h?"text-gray-300":"text-gray-600"}`,children:[l.jsx(Lr,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),J]},te))}),l.jsxs("div",{className:`flex items-center gap-2 text-sm ${h?"text-gray-400":"text-gray-500"}`,children:[l.jsx(la,{className:"w-4 h-4"}),I.applicantCount," applicant",I.applicantCount!==1?"s":""]})]}),l.jsx("div",{className:`mt-8 pt-6 border-t ${h?"border-gray-800":"border-gray-100"}`,children:r?V?l.jsxs("div",{className:`rounded-xl p-6 text-center ${h?"bg-gray-800":"bg-gray-50"}`,children:[l.jsx("p",{className:h?"text-gray-400":"text-gray-500",children:Q?"This is your job posting. You can manage it from your dashboard.":"As an employer, you cannot apply for jobs. You can view this posting only."}),Q&&l.jsx("button",{onClick:()=>t("manage-jobs"),className:"mt-3 px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Manage My Jobs"})]}):O&&(R||E)?l.jsxs("div",{className:`rounded-xl p-6 text-center ${h?"bg-green-900/20":"bg-green-50"}`,children:[l.jsx(Lr,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),l.jsx("p",{className:`font-medium ${h?"text-green-400":"text-green-700"}`,children:"Application submitted successfully"}),l.jsx("p",{className:`text-sm mt-1 ${h?"text-green-500":"text-green-600"}`,children:"The employer will review your application"})]}):R||E?l.jsxs("div",{className:`rounded-xl p-6 text-center ${h?"bg-green-900/20":"bg-green-50"}`,children:[l.jsx(Lr,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),l.jsx("p",{className:`font-medium ${h?"text-green-400":"text-green-700"}`,children:"You've already applied for this position"}),l.jsx("p",{className:`text-sm mt-1 ${h?"text-green-500":"text-green-600"}`,children:'Track your application status in "My Applications"'})]}):x?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:`font-semibold ${h?"text-white":"text-gray-900"}`,children:["Apply for ",I.title]}),O&&l.jsx("div",{className:`rounded-lg p-3 mb-2 ${h?"bg-blue-900/20 border border-blue-800":"bg-blue-50 border border-blue-100"}`,children:l.jsx("p",{className:`text-sm ${h?"text-blue-300":"text-blue-700"}`,children:"As an admin, your application will be sent to the employer for review."})}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${h?"text-gray-300":"text-gray-700"}`,children:"Cover Letter"}),l.jsx("textarea",{value:g,onChange:J=>y(J.target.value),rows:5,placeholder:"Tell the employer why you're a great fit for this role...",className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none resize-none ${h?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:q,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Submit Application"}),l.jsx("button",{onClick:()=>b(!1),className:`px-6 py-2.5 border rounded-xl text-sm font-medium ${h?"border-gray-700 text-gray-300 hover:bg-gray-800":"border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"})]})]}):l.jsx("button",{onClick:()=>b(!0),className:"w-full sm:w-auto px-8 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700 shadow-lg shadow-indigo-200",children:"Apply Now"}):l.jsxs("div",{className:`rounded-xl p-6 text-center ${h?"bg-indigo-900/20":"bg-indigo-50"}`,children:[l.jsx("p",{className:`mb-3 ${h?"text-gray-300":"text-gray-700"}`,children:"Sign in to apply for this job"}),l.jsx("button",{onClick:()=>t("login"),className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Sign In to Apply"})]})})]})]})]})}function jM(){const{currentUser:s,jobs:e,navigate:t,getApplicationsForStudent:r,theme:a}=We(),c=a==="dark";if(!s)return null;const d=r(s.id),h={pending:c?"bg-yellow-900/40 text-yellow-400 border-yellow-800":"bg-yellow-50 text-yellow-700 border-yellow-200",reviewed:c?"bg-blue-900/40 text-blue-400 border-blue-800":"bg-blue-50 text-blue-700 border-blue-200",shortlisted:c?"bg-green-900/40 text-green-400 border-green-800":"bg-green-50 text-green-700 border-green-200",accepted:c?"bg-emerald-900/40 text-emerald-400 border-emerald-800":"bg-emerald-50 text-emerald-700 border-emerald-200",rejected:c?"bg-red-900/40 text-red-400 border-red-800":"bg-red-50 text-red-700 border-red-200"};return l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[l.jsx("h1",{className:`text-2xl font-bold mb-2 ${c?"text-white":"text-gray-900"}`,children:"My Applications"}),l.jsx("p",{className:`mb-6 ${c?"text-gray-400":"text-gray-500"}`,children:"Track the status of your job applications"}),d.length===0?l.jsxs("div",{className:`text-center py-16 rounded-2xl border ${c?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx(la,{className:`w-12 h-12 mx-auto mb-4 ${c?"text-gray-600":"text-gray-300"}`}),l.jsx("h3",{className:`text-lg font-medium mb-2 ${c?"text-white":"text-gray-900"}`,children:"No applications yet"}),l.jsx("p",{className:`mb-4 ${c?"text-gray-400":"text-gray-500"}`,children:"Start applying to jobs to see them here"}),l.jsx("button",{onClick:()=>t("browse-jobs"),className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Browse Jobs"})]}):l.jsx("div",{className:"space-y-3",children:d.map(g=>{const y=e.find(x=>x.id===g.jobId);return l.jsx("div",{className:`rounded-xl border p-5 hover:shadow-sm transition ${c?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[l.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[l.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-xl flex-shrink-0 ${c?"bg-gray-800":"bg-gradient-to-br from-indigo-50 to-purple-50"}`,children:y?.companyLogo||""}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:`font-semibold ${c?"text-white":"text-gray-900"}`,children:y?.title||"Unknown Job"}),l.jsx("p",{className:`text-sm ${c?"text-gray-400":"text-gray-500"}`,children:y?.companyName}),l.jsxs("p",{className:`text-xs mt-1 ${c?"text-gray-500":"text-gray-400"}`,children:["Applied ",fd(g.appliedDate)]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-medium border ${h[g.status]||""}`,children:g.status.charAt(0).toUpperCase()+g.status.slice(1)}),y&&l.jsx("button",{onClick:()=>t("job-detail",y.id),className:"px-3 py-1.5 text-xs font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg",children:"View Job"})]})]})},g.id)})})]})}function CM(){const{currentUser:s,updateUser:e,theme:t}=We(),r=t==="dark";if(!s)return null;const[a,c]=$.useState(s.name),[d]=$.useState(s.email),[h,g]=$.useState(s.phone||""),[y,x]=$.useState(s.education||""),[b,E]=$.useState(s.bio||""),[j,I]=$.useState(""),[R,V]=$.useState(s.skills||[]),[O,Q]=$.useState(!1),q=()=>{j.trim()&&!R.includes(j.trim())&&(V([...R,j.trim()]),I(""))},J=S=>V(R.filter(T=>T!==S)),te=()=>{e({...s,name:a,phone:h,education:y,bio:b,skills:R}),Q(!0),setTimeout(()=>Q(!1),2e3)},re=`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${r?"bg-gray-800 border-gray-700 text-gray-100":"border-gray-200"}`;return l.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-8",children:[l.jsx("h1",{className:`text-2xl font-bold mb-2 ${r?"text-white":"text-gray-900"}`,children:"My Profile"}),l.jsx("p",{className:`mb-6 ${r?"text-gray-400":"text-gray-500"}`,children:"Manage your personal information"}),l.jsxs("div",{className:`rounded-2xl border p-6 sm:p-8 space-y-6 ${r?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white text-3xl font-bold",children:a.charAt(0)}),l.jsxs("div",{children:[l.jsx("h3",{className:`font-semibold ${r?"text-white":"text-gray-900"}`,children:a}),l.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-500"}`,children:d})]})]}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:`flex items-center gap-1 text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:[l.jsx(Um,{className:"w-4 h-4"})," Full Name"]}),l.jsx("input",{value:a,onChange:S=>c(S.target.value),className:re})]}),l.jsxs("div",{children:[l.jsxs("label",{className:`flex items-center gap-1 text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:[l.jsx(tr,{className:"w-4 h-4"})," Email"]}),l.jsx("input",{value:d,disabled:!0,className:`w-full px-4 py-2.5 border rounded-xl ${r?"bg-gray-800 border-gray-700 text-gray-500":"bg-gray-50 border-gray-200 text-gray-500"}`})]}),l.jsxs("div",{children:[l.jsxs("label",{className:`flex items-center gap-1 text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:[l.jsx(mA,{className:"w-4 h-4"})," Phone"]}),l.jsx("input",{value:h,onChange:S=>g(S.target.value),placeholder:"+1-555-0000",className:re})]}),l.jsxs("div",{children:[l.jsxs("label",{className:`flex items-center gap-1 text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:[l.jsx(Om,{className:"w-4 h-4"})," Education"]}),l.jsx("input",{value:y,onChange:S=>x(S.target.value),placeholder:"BS Computer Science",className:re})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:`flex items-center gap-1 text-sm font-medium mb-1 ${r?"text-gray-300":"text-gray-700"}`,children:[l.jsx(g6,{className:"w-4 h-4"})," Bio"]}),l.jsx("textarea",{value:b,onChange:S=>E(S.target.value),rows:3,placeholder:"Tell employers about yourself...",className:`${re} resize-none`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`text-sm font-medium mb-2 block ${r?"text-gray-300":"text-gray-700"}`,children:"Skills"}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{value:j,onChange:S=>I(S.target.value),onKeyDown:S=>S.key==="Enter"&&(S.preventDefault(),q()),placeholder:"Add a skill",className:`flex-1 ${re}`}),l.jsx("button",{onClick:q,className:"px-4 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Add"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(S=>l.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm ${r?"bg-indigo-900/40 text-indigo-400":"bg-indigo-50 text-indigo-700"}`,children:[S,l.jsx("button",{onClick:()=>J(S),className:"hover:text-red-500",children:l.jsx(oc,{className:"w-3.5 h-3.5"})})]},S))})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:te,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Save Changes"}),O&&l.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[l.jsx(Lr,{className:"w-4 h-4"})," Saved!"]})]})]})]})}function RM(){const{currentUser:s,getAdminMessagesForEmployer:e,getMessagesForEmployerFromStudent:t,markAdminMessageAsRead:r,acceptAdminMessage:a,rejectAdminMessage:c,replyToStudentMessage:d,markStudentMessageAsRead:h,deleteEmployerMessage:g,users:y,theme:x}=We(),b=x==="dark",E=s?e(s.id):[],j=s?t(s.id):[],[I,R]=$.useState(null),[V,O]=$.useState(""),Q=[...E.map(S=>({...S,type:"admin"})),...j.map(S=>({...S,type:"student"}))].sort((S,T)=>new Date(T.sentDate).getTime()-new Date(S.sentDate).getTime());$.useEffect(()=>{s&&(E.forEach(S=>{S.status==="pending"&&r(S.id)}),j.forEach(S=>{S.status==="sent"&&h(S.id)}))},[s,E,j,r,h]);const q=S=>{a(S)},J=S=>{c(S)},te=S=>{V.trim()&&(d(S,V),O(""),R(null))},re=S=>y.find(T=>T.id===S);return l.jsxs("div",{className:`max-w-4xl mx-auto my-12 px-4 ${b?"text-gray-200":"text-gray-800"}`,children:[l.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[l.jsx(tr,{className:`w-10 h-10 ${b?"text-indigo-400":"text-indigo-600"}`}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold",children:"Messages"}),l.jsx("p",{className:`${b?"text-gray-400":"text-gray-500"}`,children:"Communications from the HireHub team and students."})]})]}),l.jsx("div",{className:"space-y-6",children:Q.length===0?l.jsxs("div",{className:`text-center py-16 px-6 rounded-2xl border-2 border-dashed ${b?"bg-gray-800/50 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[l.jsx(tr,{className:`w-12 h-12 mx-auto ${b?"text-gray-500":"text-gray-400"}`}),l.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"No Messages Yet"}),l.jsx("p",{className:`mt-1 ${b?"text-gray-400":"text-gray-500"}`,children:"You have no messages at this time."})]}):Q.map(S=>{if(S.type==="admin"){const T=S;return l.jsxs("div",{className:`p-6 rounded-2xl border ${T.status==="pending"?b?"bg-gray-800/50 border-red-500 shadow-lg shadow-red-500/20":"bg-white border-red-500 shadow-lg shadow-red-500/10":b?"bg-gray-800/50 border-gray-700":"bg-white border-gray-200 shadow-sm"}`,children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-xs font-medium ${b?"text-indigo-400":"text-indigo-600"}`,children:"From: HireHub Admin"}),l.jsx("h2",{className:"text-xl font-semibold mt-1",children:T.subject}),l.jsxs("p",{className:`text-sm mt-1 ${b?"text-gray-400":"text-gray-500"}`,children:["Received on: ",new Date(T.sentDate).toLocaleDateString()]})]}),l.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full capitalize ${T.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300":T.status==="accepted"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":T.status==="rejected"?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:T.status})]}),l.jsx("p",{className:`mt-4 whitespace-pre-wrap ${b?"text-gray-300":"text-gray-700"}`,children:T.body}),T.status!=="accepted"&&T.status!=="rejected"&&l.jsxs("div",{className:"flex gap-4 mt-6 border-t pt-4",children:[l.jsxs("button",{onClick:()=>q(T.id),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(mx,{className:"w-4 h-4"})," Accept"]}),l.jsxs("button",{onClick:()=>J(T.id),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors",children:[l.jsx(So,{className:"w-4 h-4"})," Reject"]})]})]},T.id)}else{const T=S,C=re(T.studentId);return l.jsxs("div",{className:`p-6 rounded-2xl border ${b?"bg-gray-800/50 border-gray-700":"bg-white border-gray-200 shadow-sm"}`,children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("p",{className:`text-xs font-medium ${b?"text-indigo-400":"text-indigo-600"}`,children:["From: ",C?.name||"A Student"]}),l.jsx("h2",{className:"text-xl font-semibold mt-1",children:T.subject}),l.jsxs("p",{className:`text-sm mt-1 ${b?"text-gray-400":"text-gray-500"}`,children:["Received on: ",new Date(T.sentDate).toLocaleDateString()]})]}),l.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full capitalize ${T.status==="sent"?"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:T.status})]}),l.jsx("p",{className:`mt-4 whitespace-pre-wrap ${b?"text-gray-300":"text-gray-700"}`,children:T.body}),T.replies&&T.replies.length>0&&l.jsx("div",{className:"mt-4 space-y-3",children:T.replies.map(D=>l.jsxs("div",{className:`p-3 rounded-lg ${D.senderId===s?.id?b?"bg-indigo-900/20":"bg-indigo-50":b?"bg-gray-700/50":"bg-gray-50"}`,children:[l.jsx("p",{className:`text-xs font-medium ${b?"text-gray-400":"text-gray-500"}`,children:D.senderId===s?.id?"Your reply":`${C?.name||"Student"} reply`}),l.jsx("p",{className:`mt-1 text-sm ${b?"text-gray-200":"text-gray-800"}`,children:D.body})]},D.id))}),l.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[I===T.id?l.jsxs("div",{className:"flex items-center gap-2 flex-grow",children:[l.jsx("input",{type:"text",value:V,onChange:D=>O(D.target.value),placeholder:"Type your reply...",className:`flex-grow px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-indigo-500 ${b?"bg-gray-800 border-gray-700":"border-gray-300"}`}),l.jsx("button",{onClick:()=>te(T.id),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:l.jsx(br,{className:"w-4 h-4"})})]}):l.jsxs("button",{onClick:()=>R(T.id),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg ${b?"bg-gray-700 hover:bg-gray-600":"bg-gray-100 hover:bg-gray-200"}`,children:[l.jsx(ba,{className:"w-4 h-4"})," Reply"]}),l.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this message?")&&g(T.id)},className:`p-2 rounded-lg ${b?"text-gray-500 hover:text-red-400 hover:bg-red-900/30":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:"Delete message",children:l.jsx(va,{className:"w-4 h-4"})})]})]},T.id)}})})]})}const gx=s=>{const e=Math.floor((Date.now()-new Date(s).getTime())/864e5);return e===0?"Today":e===1?"Yesterday":`${e}d ago`};function DM(){const{currentUser:s,navigate:e,getJobsForEmployer:t,getApplicationsForJob:r,applications:a,users:c,sendMessage:d,theme:h}=We(),[g,y]=$.useState(!1),[x,b]=$.useState(""),[E,j]=$.useState(""),[I,R]=$.useState(!1),V=h==="dark";if(!s)return null;if(s.role==="employer"&&!s.isApproved)return l.jsx("div",{className:`min-h-screen ${V?"bg-gray-950":"bg-gray-50"} flex items-center justify-center`,children:l.jsx("div",{className:`max-w-md w-full mx-auto p-8 rounded-2xl border ${V?"bg-gray-900 border-gray-800":"bg-white border-gray-200"}`,children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsx("h1",{className:`text-2xl font-bold mb-2 ${V?"text-white":"text-gray-900"}`,children:"Account Pending Approval"}),l.jsx("p",{className:`mb-6 ${V?"text-gray-400":"text-gray-500"}`,children:"Your employer account is currently under review by our administrators. You will receive an email notification once your account has been approved."}),l.jsx("div",{className:`bg-gradient-to-br from-indigo-500/10 to-purple-500/10 p-4 rounded-lg border ${V?"border-indigo-800/50":"border-indigo-200/50"} mb-6`,children:l.jsxs("p",{className:`text-sm ${V?"text-gray-300":"text-gray-600"}`,children:[l.jsx("strong",{children:"What happens next?"}),l.jsx("br",{})," An administrator will review your account",l.jsx("br",{})," You'll receive an email when approved",l.jsx("br",{})," You'll be able to post jobs and access all employer features"]})}),l.jsx("button",{onClick:()=>e("home"),className:"px-6 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700",children:"Back to Home"})]})})});const O=t(s.id),Q=O.filter(T=>T.status==="active"),q=O.reduce((T,C)=>T+C.applicantCount,0),te=a.filter(T=>O.some(C=>C.id===T.jobId)).filter(T=>T.status==="pending"),re=c.filter(T=>T.role==="admin"),S=[{label:"Total Jobs Posted",value:O.length,icon:un,bg:V?"bg-indigo-900/30":"bg-indigo-50",color:V?"text-indigo-400":"text-indigo-600"},{label:"Active Listings",value:Q.length,icon:No,bg:V?"bg-green-900/30":"bg-green-50",color:V?"text-green-400":"text-green-600"},{label:"Total Applicants",value:q,icon:$n,bg:V?"bg-purple-900/30":"bg-purple-50",color:V?"text-purple-400":"text-purple-600"},{label:"Pending Review",value:te.length,icon:ms,bg:V?"bg-amber-900/30":"bg-amber-50",color:V?"text-amber-400":"text-amber-600"}];return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:`text-2xl font-bold ${V?"text-white":"text-gray-900"}`,children:"Employer Dashboard"}),l.jsx("p",{className:`mt-1 ${V?"text-gray-400":"text-gray-500"}`,children:s.companyName||"Your Company"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-xl text-sm font-medium hover:from-purple-600 hover:to-pink-700 shadow-lg shadow-purple-200",children:[l.jsx(Lm,{className:"w-4 h-4"})," Message Admin"]}),l.jsxs("button",{onClick:()=>e("post-job"),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl text-sm font-medium hover:from-indigo-600 hover:to-purple-700 shadow-lg shadow-indigo-200",children:[l.jsx(om,{className:"w-4 h-4"})," Post New Job"]})]})]}),l.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:S.map((T,C)=>l.jsxs("div",{className:`rounded-2xl border p-5 ${V?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx("div",{className:`w-10 h-10 rounded-xl ${T.bg} flex items-center justify-center mb-3`,children:l.jsx(T.icon,{className:`w-5 h-5 ${T.color}`})}),l.jsx("div",{className:`text-2xl font-bold ${V?"text-white":"text-gray-900"}`,children:T.value}),l.jsx("div",{className:`text-sm ${V?"text-gray-400":"text-gray-500"}`,children:T.label})]},C))}),l.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[{label:"Post a Job",icon:om,page:"post-job",desc:"Create new listing"},{label:"Find Talent",icon:xr,page:"find-talent",desc:"Browse candidates"},{label:"Employer Branding",icon:fA,page:"employer-branding",desc:"Build your brand"},{label:"Campus Recruiting",icon:Om,page:"campus-recruiting",desc:"Hire students"}].map((T,C)=>l.jsxs("button",{onClick:()=>e(T.page),className:`rounded-xl border p-5 text-left hover:shadow-md transition-all group ${V?"bg-gray-900 border-gray-800 hover:border-indigo-800":"bg-white border-gray-100 hover:border-indigo-100"}`,children:[l.jsx(T.icon,{className:"w-6 h-6 text-indigo-500 mb-2 group-hover:scale-110 transition-transform"}),l.jsx("div",{className:`font-medium ${V?"text-white":"text-gray-900"}`,children:T.label}),l.jsx("div",{className:"text-xs text-gray-500",children:T.desc})]},C))}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:`text-lg font-semibold ${V?"text-white":"text-gray-900"}`,children:"Your Job Listings"}),l.jsx("button",{onClick:()=>e("manage-jobs"),className:"text-sm text-indigo-600 font-medium",children:"View All"})]}),O.length===0?l.jsxs("div",{className:`text-center py-12 rounded-2xl border ${V?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx(un,{className:`w-12 h-12 mx-auto mb-4 ${V?"text-gray-600":"text-gray-300"}`}),l.jsx("p",{className:`mb-4 ${V?"text-gray-400":"text-gray-500"}`,children:"You haven't posted any jobs yet"}),l.jsx("button",{onClick:()=>e("post-job"),className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium",children:"Post Your First Job"})]}):l.jsx("div",{className:`rounded-xl border overflow-hidden ${V?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:O.slice(0,5).map(T=>{const C=r(T.id);return l.jsxs("div",{className:`flex items-center justify-between p-4 border-b last:border-0 transition ${V?"border-gray-800 hover:bg-gray-800/50":"border-gray-50 hover:bg-gray-50"}`,children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center text-lg flex-shrink-0 ${V?"bg-gray-800":"bg-indigo-50"}`,children:T.companyLogo||""}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:`font-medium text-sm truncate ${V?"text-white":"text-gray-900"}`,children:T.title}),l.jsxs("div",{className:"text-xs text-gray-500",children:[T.location,"  ",T.type,"  ",gx(T.postedDate)]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${T.status==="active"?V?"bg-green-900/40 text-green-400":"bg-green-50 text-green-700":V?"bg-red-900/40 text-red-400":"bg-red-50 text-red-700"}`,children:T.status}),l.jsxs("span",{className:"text-xs text-gray-500",children:[C.length," applicants"]}),l.jsx("button",{onClick:()=>e("view-applicants",T.id),className:"px-3 py-1.5 text-xs text-indigo-600 hover:bg-indigo-50 rounded-lg font-medium",children:"View"})]})]},T.id)})})]}),g&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:`rounded-2xl border max-w-2xl w-full max-h-[90vh] overflow-y-auto ${V?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsxs("div",{className:`p-6 border-b flex items-center justify-between ${V?"border-gray-800":"border-gray-100"}`,children:[l.jsxs("div",{children:[l.jsx("h2",{className:`text-xl font-bold ${V?"text-white":"text-gray-900"}`,children:"Message Admin"}),l.jsx("p",{className:`text-sm mt-1 ${V?"text-gray-400":"text-gray-500"}`,children:"Send a message to the platform administrators"})]}),l.jsx("button",{onClick:()=>{y(!1),R(!1),b(""),j("")},className:`p-2 rounded-lg ${V?"hover:bg-gray-800 text-gray-400":"hover:bg-gray-100 text-gray-500"}`,children:l.jsx(oc,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"p-6",children:I?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Lr,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:`text-lg font-semibold mb-2 ${V?"text-white":"text-gray-900"}`,children:"Message Sent!"}),l.jsx("p",{className:V?"text-gray-400":"text-gray-500",children:"Your message has been sent to the administrators. They will get back to you soon."}),l.jsx("button",{onClick:()=>{y(!1),R(!1),b(""),j("")},className:"mt-4 px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Close"})]}):l.jsxs("form",{onSubmit:T=>{T.preventDefault(),d(x,E),R(!0)},className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${V?"text-gray-300":"text-gray-700"}`,children:"Subject *"}),l.jsx("input",{type:"text",value:x,onChange:T=>b(T.target.value),required:!0,placeholder:"What is this message about?",className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${V?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${V?"text-gray-300":"text-gray-700"}`,children:"Message *"}),l.jsx("textarea",{value:E,onChange:T=>j(T.target.value),required:!0,rows:6,placeholder:"Describe your question or concern...",className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 resize-none ${V?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`})]}),re.length>0&&l.jsxs("div",{className:`rounded-lg p-3 ${V?"bg-gray-800":"bg-gray-50"}`,children:[l.jsx("p",{className:`text-xs font-medium mb-1 ${V?"text-gray-400":"text-gray-600"}`,children:"Sending to:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:re.map(T=>l.jsx("span",{className:`text-xs px-2 py-1 rounded ${V?"bg-indigo-900/40 text-indigo-400":"bg-indigo-50 text-indigo-600"}`,children:T.name||T.email},T.id))})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Send Message"}),l.jsx("button",{type:"button",onClick:()=>{y(!1),b(""),j("")},className:`px-6 py-2.5 border rounded-xl text-sm font-medium ${V?"border-gray-700 text-gray-300 hover:bg-gray-800":"border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"})]})]})})]})})]})}function kM(){const{currentUser:s,postJob:e,navigate:t,theme:r}=We(),[a,c]=$.useState(""),[d,h]=$.useState(""),[g,y]=$.useState(""),[x,b]=$.useState("Full-time"),[E,j]=$.useState(""),[I,R]=$.useState(""),[V,O]=$.useState(""),[Q,q]=$.useState(""),[J,te]=$.useState([]),re=r==="dark";if(!s)return null;if(s.role==="employer"&&!s.isApproved)return l.jsx("div",{className:`min-h-screen ${re?"bg-gray-950":"bg-gray-50"} flex items-center justify-center`,children:l.jsx("div",{className:`max-w-md w-full mx-auto p-8 rounded-2xl border ${re?"bg-gray-900 border-gray-800":"bg-white border-gray-200"}`,children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsx("h1",{className:`text-2xl font-bold mb-2 ${re?"text-white":"text-gray-900"}`,children:"Account Pending Approval"}),l.jsx("p",{className:`mb-6 ${re?"text-gray-400":"text-gray-500"}`,children:"Your employer account is currently under review by our administrators. You will receive an email notification once your account has been approved."}),l.jsx("div",{className:`bg-gradient-to-br from-indigo-500/10 to-purple-500/10 p-4 rounded-lg border ${re?"border-indigo-800/50":"border-indigo-200/50"} mb-6`,children:l.jsxs("p",{className:`text-sm ${re?"text-gray-300":"text-gray-600"}`,children:[l.jsx("strong",{children:"What happens next?"}),l.jsx("br",{})," An administrator will review your account",l.jsx("br",{})," You'll receive an email when approved",l.jsx("br",{})," You'll be able to post jobs and access all employer features"]})}),l.jsx("button",{onClick:()=>t("employer-dashboard"),className:"px-6 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700",children:"Back to Dashboard"})]})})});const S=()=>{Q.trim()&&(te([...J,Q.trim()]),q(""))},T=D=>{D.preventDefault(),e({employerId:s.id,companyName:s.companyName||s.name,companyLogo:s.companyLogo,title:a,description:d,location:g,type:x,salary:E,category:I,deadline:V||new Date(Date.now()+30*864e5).toISOString(),requirements:J,status:"active"}),t("manage-jobs")},C=`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${re?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`;return l.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("button",{onClick:()=>t("employer-dashboard"),className:`flex items-center gap-1 text-sm mb-6 ${re?"text-gray-400 hover:text-indigo-400":"text-gray-500 hover:text-indigo-600"}`,children:[l.jsx(ba,{className:"w-4 h-4"})," Back to Dashboard"]}),l.jsx("h1",{className:`text-2xl font-bold mb-2 ${re?"text-white":"text-gray-900"}`,children:"Post a New Job"}),l.jsx("p",{className:`mb-6 ${re?"text-gray-400":"text-gray-500"}`,children:"Fill in the details to create a new job listing"}),l.jsxs("form",{onSubmit:T,className:`rounded-2xl border p-6 sm:p-8 space-y-5 ${re?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${re?"text-gray-300":"text-gray-700"}`,children:"Job Title *"}),l.jsx("input",{value:a,onChange:D=>c(D.target.value),required:!0,placeholder:"e.g. Senior Frontend Developer",className:C})]}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${re?"text-gray-300":"text-gray-700"}`,children:"Location *"}),l.jsx("input",{value:g,onChange:D=>y(D.target.value),required:!0,placeholder:"e.g. San Francisco, CA",className:C})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${re?"text-gray-300":"text-gray-700"}`,children:"Job Type *"}),l.jsxs("select",{value:x,onChange:D=>b(D.target.value),className:C,children:[l.jsx("option",{children:"Full-time"}),l.jsx("option",{children:"Part-time"}),l.jsx("option",{children:"Internship"}),l.jsx("option",{children:"Contract"}),l.jsx("option",{children:"Remote"})]})]})]}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${re?"text-gray-300":"text-gray-700"}`,children:"Salary Range *"}),l.jsx("input",{value:E,onChange:D=>j(D.target.value),required:!0,placeholder:"e.g. $80,000 - $120,000",className:C})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${re?"text-gray-300":"text-gray-700"}`,children:"Category *"}),l.jsxs("select",{value:I,onChange:D=>R(D.target.value),required:!0,className:C,children:[l.jsx("option",{value:"",children:"Select category"}),l.jsx("option",{children:"Engineering"}),l.jsx("option",{children:"Design"}),l.jsx("option",{children:"Marketing"}),l.jsx("option",{children:"Data & Analytics"}),l.jsx("option",{children:"Sales"}),l.jsx("option",{children:"Human Resources"}),l.jsx("option",{children:"Finance"}),l.jsx("option",{children:"Operations"}),l.jsx("option",{children:"Other"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${re?"text-gray-300":"text-gray-700"}`,children:"Application Deadline"}),l.jsx("input",{type:"date",value:V,onChange:D=>O(D.target.value),className:C})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${re?"text-gray-300":"text-gray-700"}`,children:"Job Description *"}),l.jsx("textarea",{value:d,onChange:D=>h(D.target.value),required:!0,rows:6,placeholder:"Describe the role...",className:`${C} resize-none`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${re?"text-gray-300":"text-gray-700"}`,children:"Requirements"}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{value:Q,onChange:D=>q(D.target.value),onKeyDown:D=>{D.key==="Enter"&&(D.preventDefault(),S())},placeholder:"Add a requirement",className:`flex-1 ${C}`}),l.jsx("button",{type:"button",onClick:S,className:`px-4 py-2.5 rounded-xl text-sm font-medium ${re?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Add"})]}),J.length>0&&l.jsx("ul",{className:"space-y-1.5",children:J.map((D,L)=>l.jsxs("li",{className:`flex items-center justify-between px-3 py-2 rounded-lg text-sm ${re?"bg-gray-800 text-gray-300":"bg-gray-50"}`,children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Lr,{className:"w-4 h-4 text-green-500"})," ",D]}),l.jsx("button",{type:"button",onClick:()=>te(J.filter((M,k)=>k!==L)),className:"text-gray-400 hover:text-red-500",children:l.jsx(oc,{className:"w-4 h-4"})})]},L))})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{type:"submit",className:"px-8 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700 shadow-lg shadow-indigo-200",children:"Publish Job"}),l.jsx("button",{type:"button",onClick:()=>t("employer-dashboard"),className:`px-6 py-3 border rounded-xl font-medium ${re?"border-gray-700 text-gray-300 hover:bg-gray-800":"border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"})]})]})]})}function MM(){const{currentUser:s,navigate:e,getJobsForEmployer:t,getApplicationsForJob:r,updateJob:a,deleteJob:c,theme:d}=We(),h=d==="dark";if(!s)return null;const g=t(s.id),y=x=>{a({...x,status:x.status==="active"?"closed":"active"})};return l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:`text-2xl font-bold ${h?"text-white":"text-gray-900"}`,children:"Manage Jobs"}),l.jsxs("p",{className:`mt-1 ${h?"text-gray-400":"text-gray-500"}`,children:[g.length," total job listings"]})]}),l.jsxs("button",{onClick:()=>e("post-job"),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:[l.jsx(om,{className:"w-4 h-4"})," New Job"]})]}),g.length===0?l.jsxs("div",{className:`text-center py-16 rounded-2xl border ${h?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx(un,{className:`w-12 h-12 mx-auto mb-4 ${h?"text-gray-600":"text-gray-300"}`}),l.jsx("p",{className:`mb-4 ${h?"text-gray-400":"text-gray-500"}`,children:"No jobs posted yet"}),l.jsx("button",{onClick:()=>e("post-job"),className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium",children:"Post Your First Job"})]}):l.jsx("div",{className:"space-y-3",children:g.map(x=>{const b=r(x.id);return l.jsx("div",{className:`rounded-xl border p-5 ${h?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h3",{className:`font-semibold truncate ${h?"text-white":"text-gray-900"}`,children:x.title}),l.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${x.status==="active"?h?"bg-green-900/40 text-green-400":"bg-green-50 text-green-700":h?"bg-red-900/40 text-red-400":"bg-red-50 text-red-700"}`,children:x.status})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-500",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ps,{className:"w-3 h-3"})," ",x.location]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(un,{className:"w-3 h-3"})," ",x.type]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Pd,{className:"w-3 h-3"})," ",x.salary]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx($n,{className:"w-3 h-3"})," ",b.length," applicants"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ms,{className:"w-3 h-3"})," ",gx(x.postedDate)]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsxs("button",{onClick:()=>e("view-applicants",x.id),className:`px-3 py-1.5 text-xs font-medium text-indigo-600 rounded-lg border ${h?"border-indigo-800 hover:bg-indigo-900/30":"border-indigo-100 hover:bg-indigo-50"}`,children:[l.jsx($n,{className:"w-3.5 h-3.5 inline mr-1"}),b.length]}),l.jsx("button",{onClick:()=>y(x),className:`px-3 py-1.5 text-xs font-medium rounded-lg border ${x.status==="active"?h?"text-red-400 border-red-800 hover:bg-red-900/30":"text-red-600 hover:bg-red-50 border-red-100":h?"text-green-400 border-green-800 hover:bg-green-900/30":"text-green-600 hover:bg-green-50 border-green-100"}`,children:x.status==="active"?"Close":"Reopen"}),l.jsx("button",{onClick:()=>c(x.id),className:`p-1.5 rounded-lg ${h?"text-gray-500 hover:text-red-400 hover:bg-red-900/30":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,children:l.jsx(va,{className:"w-4 h-4"})})]})]})},x.id)})})]})}function VM(){const{selectedJobId:s,getJobById:e,getApplicationsForJob:t,updateApplicationStatus:r,navigate:a,users:c,sendStudentMessage:d,theme:h}=We(),g=h==="dark",y=s?e(s):void 0,x=s?t(s):[],[b,E]=$.useState(!1),[j,I]=$.useState(null),[R,V]=$.useState(""),[O,Q]=$.useState(""),[q,J]=$.useState(!1);if(!y)return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-16 text-center",children:[l.jsx("p",{className:g?"text-gray-400":"text-gray-500",children:"Job not found"}),l.jsx("button",{onClick:()=>a("manage-jobs"),className:"mt-4 text-indigo-600",children:"Back to Jobs"})]});const te=(S,T)=>{const C=S||{id:T.studentId,name:T.studentName,email:T.studentEmail};if(!C||!C.id){console.error("Student data not found for messaging");return}I(C),E(!0),J(!1),V(`Regarding your application for ${y.title}`),Q("")},re={pending:g?"bg-yellow-900/40 text-yellow-400":"bg-yellow-50 text-yellow-700",reviewed:g?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-700",shortlisted:g?"bg-green-900/40 text-green-400":"bg-green-50 text-green-700",accepted:g?"bg-emerald-900/40 text-emerald-400":"bg-emerald-50 text-emerald-700",rejected:g?"bg-red-900/40 text-red-400":"bg-red-50 text-red-700"};return l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("button",{onClick:()=>a("manage-jobs"),className:`flex items-center gap-1 text-sm mb-6 ${g?"text-gray-400 hover:text-indigo-400":"text-gray-500 hover:text-indigo-600"}`,children:[l.jsx(ba,{className:"w-4 h-4"})," Back to My Jobs"]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h1",{className:`text-2xl font-bold ${g?"text-white":"text-gray-900"}`,children:['Applicants for "',y.title,'"']}),l.jsxs("p",{className:`mt-1 ${g?"text-gray-400":"text-gray-500"}`,children:[x.length," total applicants"]})]}),x.length===0?l.jsxs("div",{className:`text-center py-16 rounded-2xl border ${g?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx($n,{className:`w-12 h-12 mx-auto mb-4 ${g?"text-gray-600":"text-gray-300"}`}),l.jsx("p",{className:g?"text-gray-400":"text-gray-500",children:"No one has applied to this job yet"})]}):l.jsx("div",{className:"space-y-3",children:x.map(S=>{const T=c.find(C=>C.id===S.studentId);return l.jsx("div",{className:`rounded-xl border p-5 ${g?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l.jsx("div",{className:"w-11 h-11 rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white font-medium flex-shrink-0",children:S.studentName.charAt(0)}),l.jsxs("div",{children:[l.jsx("h3",{className:`font-semibold ${g?"text-white":"text-gray-900"}`,children:S.studentName}),l.jsxs("p",{className:`text-sm flex items-center gap-1 ${g?"text-gray-400":"text-gray-500"}`,children:[l.jsx(tr,{className:"w-3 h-3"})," ",S.studentEmail]}),T?.education&&l.jsxs("p",{className:`text-sm flex items-center gap-1 mt-0.5 ${g?"text-gray-400":"text-gray-500"}`,children:[l.jsx(Om,{className:"w-3 h-3"})," ",T.education]}),T?.skills&&T.skills.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:T.skills.map(C=>l.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${g?"bg-indigo-900/40 text-indigo-400":"bg-indigo-50 text-indigo-600"}`,children:C},C))}),S.coverLetter&&l.jsxs("div",{className:`mt-3 p-3 rounded-lg ${g?"bg-gray-800":"bg-gray-50"}`,children:[l.jsx("p",{className:"text-xs font-medium mb-1 text-gray-500",children:"Cover Letter:"}),l.jsx("p",{className:`text-sm ${g?"text-gray-300":"text-gray-700"}`,children:S.coverLetter})]}),l.jsxs("p",{className:`text-xs mt-2 ${g?"text-gray-500":"text-gray-400"}`,children:["Applied ",gx(S.appliedDate)]})]})]}),l.jsxs("div",{className:"flex flex-col gap-2 sm:items-end",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${re[S.status]||""}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)}),l.jsxs("div",{className:"flex gap-1.5 flex-wrap",children:[l.jsxs("button",{onClick:()=>te(T,S),className:`px-2.5 py-1 text-xs rounded-lg flex items-center gap-1 ${g?"bg-purple-900/30 text-purple-400 hover:bg-purple-900/50":"bg-purple-50 text-purple-700 hover:bg-purple-100"}`,children:[l.jsx(Lm,{className:"w-3 h-3"})," Message"]}),S.status!=="reviewed"&&l.jsx("button",{onClick:()=>r(S.id,"reviewed"),className:`px-2.5 py-1 text-xs rounded-lg ${g?"bg-blue-900/30 text-blue-400 hover:bg-blue-900/50":"bg-blue-50 text-blue-700 hover:bg-blue-100"}`,children:"Review"}),S.status!=="shortlisted"&&l.jsx("button",{onClick:()=>r(S.id,"shortlisted"),className:`px-2.5 py-1 text-xs rounded-lg ${g?"bg-green-900/30 text-green-400 hover:bg-green-900/50":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:"Shortlist"}),S.status!=="accepted"&&l.jsx("button",{onClick:()=>r(S.id,"accepted"),className:`px-2.5 py-1 text-xs rounded-lg ${g?"bg-emerald-900/30 text-emerald-400 hover:bg-emerald-900/50":"bg-emerald-50 text-emerald-700 hover:bg-emerald-100"}`,children:"Accept"}),S.status!=="rejected"&&l.jsx("button",{onClick:()=>r(S.id,"rejected"),className:`px-2.5 py-1 text-xs rounded-lg ${g?"bg-red-900/30 text-red-400 hover:bg-red-900/50":"bg-red-50 text-red-700 hover:bg-red-100"}`,children:"Reject"})]})]})]})},S.id)})}),b&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:`rounded-2xl border max-w-lg w-full ${g?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsxs("div",{className:`p-6 border-b flex items-center justify-between ${g?"border-gray-800":"border-gray-100"}`,children:[l.jsxs("div",{children:[l.jsx("h2",{className:`text-xl font-bold ${g?"text-white":"text-gray-900"}`,children:"Send Message"}),l.jsxs("p",{className:`text-sm mt-1 ${g?"text-gray-400":"text-gray-500"}`,children:["To: ",j?.name]})]}),l.jsx("button",{onClick:()=>E(!1),className:`p-2 rounded-lg ${g?"hover:bg-gray-800 text-gray-400":"hover:bg-gray-100 text-gray-500"}`,children:l.jsx(oc,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"p-6",children:q?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(br,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:`text-lg font-semibold mb-2 ${g?"text-white":"text-gray-900"}`,children:"Message Sent!"}),l.jsxs("p",{className:g?"text-gray-400":"text-gray-500",children:["Your message has been sent to ",j?.name,"."]}),l.jsx("button",{onClick:()=>E(!1),className:"mt-4 px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Close"})]}):l.jsxs("form",{onSubmit:S=>{S.preventDefault(),j&&R&&O&&(d(j.id,R,O),J(!0))},className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${g?"text-gray-300":"text-gray-700"}`,children:"Subject *"}),l.jsx("input",{type:"text",value:R,onChange:S=>V(S.target.value),required:!0,placeholder:"Message subject",className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${g?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${g?"text-gray-300":"text-gray-700"}`,children:"Message *"}),l.jsx("textarea",{value:O,onChange:S=>Q(S.target.value),required:!0,rows:5,placeholder:"Your message...",className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 resize-none ${g?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsxs("button",{type:"submit",className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700 flex items-center gap-2",children:[l.jsx(br,{className:"w-4 h-4"})," Send Message"]}),l.jsx("button",{type:"button",onClick:()=>E(!1),className:`px-6 py-2.5 border rounded-xl text-sm font-medium ${g?"border-gray-700 text-gray-300 hover:bg-gray-800":"border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"})]})]})})]})})]})}function PM(){const{getStudents:s,theme:e}=We(),t=e==="dark",r=s(),[a,c]=$.useState(""),d=r.filter(h=>!a||h.name.toLowerCase().includes(a.toLowerCase())||h.skills?.some(g=>g.toLowerCase().includes(a.toLowerCase()))||h.education?.toLowerCase().includes(a.toLowerCase()));return l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[l.jsx("h1",{className:`text-2xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"Find Talent"}),l.jsx("p",{className:`mb-6 ${t?"text-gray-400":"text-gray-500"}`,children:"Browse student profiles to find the perfect candidate"}),l.jsx("div",{className:"flex gap-3 mb-6",children:l.jsxs("div",{className:`flex-1 flex items-center gap-2 px-4 border rounded-xl ${t?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:[l.jsx(xr,{className:`w-5 h-5 ${t?"text-gray-500":"text-gray-400"}`}),l.jsx("input",{value:a,onChange:h=>c(h.target.value),placeholder:"Search by name, skills, or education...",className:`w-full py-2.5 outline-none text-sm ${t?"bg-transparent text-gray-100 placeholder-gray-500":""}`})]})}),d.length===0?l.jsxs("div",{className:`text-center py-16 rounded-2xl border ${t?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx($n,{className:`w-12 h-12 mx-auto mb-4 ${t?"text-gray-600":"text-gray-300"}`}),l.jsx("p",{className:t?"text-gray-400":"text-gray-500",children:"No students found"})]}):l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:d.map(h=>l.jsx("div",{className:`rounded-xl border p-5 hover:shadow-sm transition ${t?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:h.name.charAt(0)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:`font-semibold ${t?"text-white":"text-gray-900"}`,children:h.name}),l.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:h.email}),h.education&&l.jsxs("p",{className:`text-sm mt-1 ${t?"text-gray-400":"text-gray-500"}`,children:[" ",h.education]}),h.bio&&l.jsx("p",{className:`text-sm mt-2 ${t?"text-gray-400":"text-gray-600"}`,children:h.bio}),h.skills&&h.skills.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1.5 mt-3",children:h.skills.map(g=>l.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${t?"bg-indigo-900/40 text-indigo-400":"bg-indigo-50 text-indigo-600"}`,children:g},g))})]})]})},h.id))})]})}function OM(){const{getEmployers:s,jobs:e,navigate:t,currentUser:r,theme:a}=We(),c=a==="dark",d=s();return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[l.jsx("h1",{className:`text-2xl font-bold mb-2 ${c?"text-white":"text-gray-900"}`,children:"Companies"}),l.jsx("p",{className:`mb-6 ${c?"text-gray-400":"text-gray-500"}`,children:"Explore companies hiring on HireHub"}),d.length===0?l.jsxs("div",{className:`text-center py-16 rounded-2xl border ${c?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx(To,{className:`w-12 h-12 mx-auto mb-4 ${c?"text-gray-600":"text-gray-300"}`}),l.jsx("p",{className:c?"text-gray-400":"text-gray-500",children:"No companies registered yet"})]}):l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:d.map(h=>{const g=e.filter(x=>x.employerId===h.id&&x.status==="active"),y=r?.id===h.id;return l.jsxs("div",{className:`rounded-2xl border p-6 hover:shadow-md transition ${y?"border-indigo-200 ring-1 ring-indigo-100":c?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[y&&l.jsx("span",{className:"text-xs font-medium text-indigo-600 mb-2 block",children:"Your Company"}),l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-3xl ${c?"bg-gray-800":"bg-gradient-to-br from-indigo-50 to-purple-50"}`,children:h.companyLogo||""}),l.jsxs("div",{children:[l.jsx("h3",{className:`font-semibold ${c?"text-white":"text-gray-900"}`,children:h.companyName||h.name}),l.jsx("p",{className:`text-sm ${c?"text-gray-400":"text-gray-500"}`,children:h.industry||"Technology"})]})]}),h.companyDescription&&l.jsx("p",{className:`text-sm mb-3 line-clamp-2 ${c?"text-gray-400":"text-gray-600"}`,children:h.companyDescription}),l.jsxs("div",{className:"flex flex-wrap gap-2 text-xs mb-4 text-gray-500",children:[h.companyLocation&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ps,{className:"w-3 h-3"})," ",h.companyLocation]}),h.companySize&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx($n,{className:"w-3 h-3"})," ",h.companySize]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:[g.length," open positions"]}),g.length>0&&l.jsx("button",{onClick:()=>t("browse-jobs"),className:`text-sm ${c?"text-gray-400 hover:text-indigo-400":"text-gray-500 hover:text-indigo-600"}`,children:"View Jobs "})]})]},h.id)})})]})}function LM(){const{currentUser:s,updateUser:e,navigate:t,theme:r}=We(),a=r==="dark";if(!s)return null;const[c,d]=$.useState(s.companyName||""),[h,g]=$.useState(s.companyDescription||""),[y,x]=$.useState(s.companyWebsite||""),[b,E]=$.useState(s.companyLocation||""),[j,I]=$.useState(s.companySize||""),[R,V]=$.useState(s.industry||""),[O,Q]=$.useState(s.companyLogo||""),[q,J]=$.useState(!1),te=["","","","","","","","","","","","","","",""],re=`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-800 border-gray-700 text-gray-100":"border-gray-200"}`,S=()=>{e({...s,companyName:c,companyDescription:h,companyWebsite:y,companyLocation:b,companySize:j,industry:R,companyLogo:O}),J(!0),setTimeout(()=>J(!1),2e3)};return l.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("button",{onClick:()=>t("employer-dashboard"),className:`flex items-center gap-1 text-sm mb-6 ${a?"text-gray-400 hover:text-indigo-400":"text-gray-500 hover:text-indigo-600"}`,children:[l.jsx(ba,{className:"w-4 h-4"})," Back to Dashboard"]}),l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(fA,{className:"w-7 h-7 text-indigo-600"}),l.jsxs("div",{children:[l.jsx("h1",{className:`text-2xl font-bold ${a?"text-white":"text-gray-900"}`,children:"Employer Branding"}),l.jsx("p",{className:a?"text-gray-400":"text-gray-500",children:"Customize your company profile to attract top talent"})]})]}),l.jsxs("div",{className:`rounded-2xl border p-6 sm:p-8 space-y-5 ${a?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:"Company Logo"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:te.map(T=>l.jsx("button",{type:"button",onClick:()=>Q(T),className:`w-12 h-12 rounded-xl text-2xl flex items-center justify-center border-2 transition ${O===T?"border-indigo-500 bg-indigo-50":a?"border-gray-700 hover:border-gray-600":"border-gray-100 hover:border-gray-200"}`,children:T},T))})]}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Company Name"}),l.jsx("input",{value:c,onChange:T=>d(T.target.value),className:re})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Industry"}),l.jsx("input",{value:R,onChange:T=>V(T.target.value),className:re})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Location"}),l.jsx("input",{value:b,onChange:T=>E(T.target.value),placeholder:"City, State",className:re})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Company Size"}),l.jsxs("select",{value:j,onChange:T=>I(T.target.value),className:re,children:[l.jsx("option",{value:"",children:"Select size"}),l.jsx("option",{children:"1-10"}),l.jsx("option",{children:"10-50"}),l.jsx("option",{children:"50-200"}),l.jsx("option",{children:"200-500"}),l.jsx("option",{children:"500-1000"}),l.jsx("option",{children:"1000+"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Website"}),l.jsx("input",{value:y,onChange:T=>x(T.target.value),placeholder:"https://...",className:re})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Company Description"}),l.jsx("textarea",{value:h,onChange:T=>g(T.target.value),rows:4,placeholder:"Tell candidates about your company...",className:`${re} resize-none`})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:S,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Save Changes"}),q&&l.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[l.jsx(Lr,{className:"w-4 h-4"})," Saved!"]})]})]})]})}function UM(){const{navigate:s,theme:e}=We(),t=e==="dark";return l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("button",{onClick:()=>s("employer-dashboard"),className:`flex items-center gap-1 text-sm mb-6 ${t?"text-gray-400 hover:text-indigo-400":"text-gray-500 hover:text-indigo-600"}`,children:[l.jsx(ba,{className:"w-4 h-4"})," Back to Dashboard"]}),l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mx-auto mb-4 shadow-lg shadow-indigo-200",children:l.jsx(Om,{className:"w-8 h-8 text-white"})}),l.jsx("h1",{className:`text-3xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Campus Recruiting"}),l.jsx("p",{className:`mt-2 max-w-xl mx-auto ${t?"text-gray-400":"text-gray-500"}`,children:"Connect directly with university students and recent graduates."})]}),l.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[{icon:oM,title:"Targeted Outreach",desc:"Reach students at specific universities with tailored job postings and internship opportunities."},{icon:h6,title:"Campus Events",desc:"Host virtual career fairs, info sessions, and hackathons to engage with student talent."},{icon:v6,title:"Analytics",desc:"Track engagement, application rates, and conversion metrics from campus campaigns."}].map((r,a)=>l.jsxs("div",{className:`rounded-2xl border p-6 ${t?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-4 ${t?"bg-indigo-900/30":"bg-indigo-50"}`,children:l.jsx(r.icon,{className:"w-6 h-6 text-indigo-600"})}),l.jsx("h3",{className:`font-semibold mb-2 ${t?"text-white":"text-gray-900"}`,children:r.title}),l.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:r.desc})]},a))}),l.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl p-8 text-center text-white",children:[l.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Start Recruiting on Campus"}),l.jsx("p",{className:"text-indigo-100 mb-6",children:"Post internships and entry-level positions to attract top university talent."}),l.jsxs("div",{className:"flex gap-3 justify-center flex-wrap",children:[l.jsx("button",{onClick:()=>s("post-job"),className:"px-6 py-3 bg-white text-indigo-600 rounded-xl font-medium hover:bg-gray-50",children:"Post an Internship"}),l.jsx("button",{onClick:()=>s("find-talent"),className:"px-6 py-3 border border-white/30 text-white rounded-xl font-medium hover:bg-white/10",children:"Browse Students"})]})]})]})}function $M(){const{navigate:s,theme:e}=We(),t=e==="dark",r=[{name:"Starter",price:"Free",period:"",desc:"Perfect for small businesses getting started",icon:xM,features:["Post up to 3 jobs","Basic applicant tracking","Email support","Company profile"],cta:"Current Plan",popular:!1},{name:"Professional",price:"$49",period:"/month",desc:"For growing companies with active hiring needs",icon:j6,features:["Unlimited job posts","Advanced analytics","Priority support","Employer branding","Featured listings","Campus recruiting"],cta:"Upgrade Now",popular:!0},{name:"Enterprise",price:"$149",period:"/month",desc:"For large organizations with complex needs",icon:gA,features:["Everything in Pro","Dedicated account manager","Custom integrations","API access","Bulk job posting","Advanced reporting","SLA guarantee"],cta:"Contact Sales",popular:!1}];return l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("button",{onClick:()=>s("employer-dashboard"),className:`flex items-center gap-1 text-sm mb-6 ${t?"text-gray-400 hover:text-indigo-400":"text-gray-500 hover:text-indigo-600"}`,children:[l.jsx(ba,{className:"w-4 h-4"})," Back to Dashboard"]}),l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:`text-3xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Pricing Plans"}),l.jsx("p",{className:`mt-2 ${t?"text-gray-400":"text-gray-500"}`,children:"Choose the plan that best fits your hiring needs"})]}),l.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:r.map((a,c)=>l.jsxs("div",{className:`rounded-2xl border-2 p-6 relative ${a.popular?"border-indigo-500 shadow-xl shadow-indigo-100":t?"border-gray-800 bg-gray-900":"border-gray-100 bg-white"}`,children:[a.popular&&l.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1 bg-gradient-to-r from-indigo-500 to-purple-600 text-white text-xs font-medium rounded-full",children:"Most Popular"}),l.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-4 ${t?"bg-indigo-900/30":"bg-indigo-50"}`,children:l.jsx(a.icon,{className:"w-6 h-6 text-indigo-600"})}),l.jsx("h3",{className:`text-xl font-bold ${t?"text-white":"text-gray-900"}`,children:a.name}),l.jsxs("div",{className:"mt-2 mb-1",children:[l.jsx("span",{className:`text-3xl font-bold ${t?"text-white":"text-gray-900"}`,children:a.price}),l.jsx("span",{className:t?"text-gray-400":"text-gray-500",children:a.period})]}),l.jsx("p",{className:`text-sm mb-6 ${t?"text-gray-400":"text-gray-500"}`,children:a.desc}),l.jsx("ul",{className:"space-y-3 mb-6",children:a.features.map((d,h)=>l.jsxs("li",{className:`flex items-center gap-2 text-sm ${t?"text-gray-300":"text-gray-600"}`,children:[l.jsx(mx,{className:"w-4 h-4 text-green-500 flex-shrink-0"})," ",d]},h))}),l.jsx("button",{className:`w-full py-2.5 rounded-xl font-medium text-sm ${a.popular?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white hover:from-indigo-600 hover:to-purple-700":t?"border border-gray-700 text-gray-300 hover:bg-gray-800":"border border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:a.cta})]},c))})]})}const zM=s=>WS(im(xt,s)),tE=(s,e,t)=>ZS(bn(xt,s,e),t),BM=(s,e)=>eA(bn(xt,s,e)),FM=s=>{const e=Math.floor((Date.now()-new Date(s).getTime())/864e5);return e===0?"Today":e===1?"Yesterday":`${e} days ago`};function qM(){const{theme:s,currentUser:e}=We(),t=s==="dark",[r,a]=$.useState([]),[c,d]=$.useState(0);$.useEffect(()=>{(async()=>{const S=(await zM("contactMessages")).docs.map(T=>({id:T.id,...T.data()}));a(S),d(S.filter(T=>!T.read).length)})()},[]);const[h,g]=$.useState(""),[y,x]=$.useState(null),[b,E]=$.useState(""),[j,I]=$.useState(!1),[R,V]=$.useState(null),O=r.filter(te=>!h||te.name.toLowerCase().includes(h.toLowerCase())||te.email.toLowerCase().includes(h.toLowerCase())).sort((te,re)=>re.createdAt-te.createdAt),Q=async te=>{await tE("contactMessages",te,{read:!0}),a(r.map(re=>re.id===te?{...re,read:!0}:re)),y?.id===te&&x({...y,read:!0}),d(c-1)},q=async()=>{y&&b.trim()&&(await tE("contactMessages",y.id,{reply:b,repliedDate:lx(),read:!0}),I(!1),E(""),a(r.map(te=>te.id===y.id?{...te,reply:b,repliedDate:new Date().toISOString(),read:!0}:te)),x({...y,reply:b,repliedDate:new Date().toISOString()}))},J=async te=>{await BM("contactMessages",te),a(r.filter(re=>re.id!==te)),y?.id===te&&x(null),V(null)};return l.jsx("div",{className:`min-h-screen ${t?"bg-gray-950":"bg-gray-50"}`,children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[l.jsx(yr,{children:l.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center",children:l.jsx(tr,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Contact Messages"}),l.jsxs("p",{className:t?"text-gray-400":"text-gray-500",children:[r.length," total message",r.length!==1?"s":"",c>0&&l.jsxs("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-medium ${t?"bg-red-900/40 text-red-400":"bg-red-50 text-red-700"}`,children:[c," unread"]})]})]})]})}),l.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[l.jsx(yr,{delay:100,children:l.jsxs("div",{className:`rounded-xl border ${t?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx("div",{className:"p-4 border-b border-gray-700/50",children:l.jsxs("div",{className:`flex items-center gap-2 px-3 border rounded-lg ${t?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[l.jsx(xr,{className:`w-4 h-4 ${t?"text-gray-500":"text-gray-400"}`}),l.jsx("input",{value:h,onChange:te=>g(te.target.value),placeholder:"Search messages...",className:`w-full py-2 bg-transparent outline-none text-sm ${t?"text-gray-100 placeholder-gray-500":"text-gray-900 placeholder-gray-400"}`})]})}),l.jsx("div",{className:"divide-y divide-gray-700/50 max-h-[600px] overflow-y-auto",children:O.length===0?l.jsx("div",{className:"p-8 text-center text-sm text-gray-500",children:"No messages found"}):O.map(te=>l.jsx("button",{onClick:()=>{x(te),te.read||Q(te.id)},className:`w-full text-left p-4 hover:bg-gray-800/50 transition-colors ${y?.id===te.id?t?"bg-indigo-900/30":"bg-indigo-50":""} ${te.read?"":t?"bg-blue-900/20":"bg-blue-50"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium flex-shrink-0 ${t?"bg-gray-800 text-indigo-400":"bg-indigo-100 text-indigo-600"}`,children:te.name.charAt(0).toUpperCase()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`font-medium text-sm truncate ${t?"text-white":"text-gray-900"}`,children:te.name}),l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${t?"bg-purple-900/40 text-purple-400":"bg-purple-100 text-purple-700"}`,children:"Contact Form"}),!te.read&&l.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${t?"bg-blue-400":"bg-blue-600"}`})]}),l.jsx("p",{className:`text-xs truncate ${t?"text-gray-400":"text-gray-500"}`,children:te.email}),l.jsx("p",{className:`text-sm truncate mt-1 ${t?"text-gray-300":"text-gray-700"}`,children:te.subject}),l.jsx("p",{className:`text-xs mt-1 ${t?"text-gray-500":"text-gray-400"}`,children:FM(te.createdAt.toDate())})]})]})},te.id))})]})}),l.jsx(yr,{delay:200,children:l.jsx("div",{className:`lg:col-span-2 rounded-xl border ${t?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:y?l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:`p-6 border-b ${t?"border-gray-800":"border-gray-100"}`,children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-medium ${t?"bg-gray-800 text-indigo-400":"bg-indigo-100 text-indigo-600"}`,children:y.name.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("h3",{className:`font-semibold ${t?"text-white":"text-gray-900"}`,children:y.name}),l.jsx("div",{className:`flex flex-wrap items-center gap-3 mt-1 text-sm ${t?"text-gray-400":"text-gray-500"}`,children:l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(tr,{className:"w-3.5 h-3.5"}),y.email]})}),l.jsx("p",{className:`text-xs mt-2 ${t?"text-gray-500":"text-gray-400"}`,children:new Date(y.createdAt.toDate()).toLocaleString()})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[y.read?l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t?"bg-green-900/40 text-green-400":"bg-green-50 text-green-700"}`,children:"Read"}):l.jsx("button",{onClick:()=>Q(y.id),className:`p-2 rounded-lg ${t?"text-gray-400 hover:text-indigo-400 hover:bg-indigo-900/30":"text-gray-500 hover:text-indigo-500 hover:bg-indigo-50"}`,title:"Mark as read",children:l.jsx(mx,{className:"w-4 h-4"})}),R===y.id?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>J(y.id),className:"px-2 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700",children:"Confirm"}),l.jsx("button",{onClick:()=>V(null),className:`p-1.5 rounded-lg ${t?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:l.jsx(So,{className:"w-3.5 h-3.5"})})]}):l.jsx("button",{onClick:()=>V(y.id),className:`p-2 rounded-lg ${t?"text-gray-400 hover:text-red-400 hover:bg-red-900/30":"text-gray-500 hover:text-red-500 hover:bg-red-50"}`,title:"Delete",children:l.jsx(va,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:`mt-4 px-4 py-3 rounded-lg ${t?"bg-gray-800":"bg-gray-50"}`,children:l.jsxs("p",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-600"}`,children:["Subject: ",l.jsx("span",{className:t?"text-white":"text-gray-900",children:y.subject})]})})]}),l.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[l.jsx("div",{className:`prose prose-sm max-w-none ${t?"text-gray-300":"text-gray-700"}`,children:l.jsx("p",{className:"whitespace-pre-wrap",children:y.message})}),y.reply&&l.jsxs("div",{className:`mt-6 p-4 rounded-lg border ${t?"bg-green-900/20 border-green-800":"bg-green-50 border-green-200"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(br,{className:`w-4 h-4 ${t?"text-green-400":"text-green-600"}`}),l.jsx("span",{className:`text-sm font-medium ${t?"text-green-400":"text-green-700"}`,children:"Your Reply"}),y.repliedDate&&l.jsxs("span",{className:`text-xs ${t?"text-gray-500":"text-gray-400"}`,children:["(",new Date(y.repliedDate).toLocaleString(),")"]})]}),l.jsx("p",{className:`text-sm whitespace-pre-wrap ${t?"text-gray-300":"text-gray-700"}`,children:y.reply})]})]}),j?l.jsxs("div",{className:`p-6 border-t ${t?"border-gray-800":"border-gray-100"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h4",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"Send Reply"}),l.jsx("button",{onClick:()=>{I(!1),E("")},className:`p-1.5 rounded-lg ${t?"hover:bg-gray-800 text-gray-400":"hover:bg-gray-100 text-gray-500"}`,children:l.jsx(So,{className:"w-4 h-4"})})]}),l.jsx("textarea",{value:b,onChange:te=>E(te.target.value),placeholder:"Type your reply...",rows:4,className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 resize-none ${t?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`}),l.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[l.jsx("button",{onClick:()=>{I(!1),E("")},className:`px-4 py-2 rounded-lg text-sm font-medium ${t?"border border-gray-700 text-gray-300 hover:bg-gray-800":"border border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"}),l.jsxs("button",{onClick:q,disabled:!b.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[l.jsx(br,{className:"w-3.5 h-3.5"}),"Send Reply"]})]})]}):l.jsx("div",{className:`p-6 border-t ${t?"border-gray-800":"border-gray-100"}`,children:l.jsxs("button",{onClick:()=>I(!0),className:"w-full px-4 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700 flex items-center justify-center gap-2",children:[l.jsx(br,{className:"w-4 h-4"}),"Reply to ",y.name]})})]}):l.jsx("div",{className:"h-full flex items-center justify-center p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(tr,{className:`w-16 h-16 mx-auto mb-4 ${t?"text-gray-600":"text-gray-300"}`}),l.jsx("p",{className:t?"text-gray-400":"text-gray-500",children:"Select a message to view"})]})})})})]})]})})}function HM({message:s,isVisible:e,onClose:t}){const[r,a]=$.useState(!1);return $.useEffect(()=>{if(e){a(!0);const c=setTimeout(()=>{a(!1),setTimeout(t,300)},3e3);return()=>clearTimeout(c)}else a(!1)},[e,t]),r?l.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-right-2 duration-300",children:l.jsxs("div",{className:"bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px]",children:[l.jsx(Lr,{className:"w-5 h-5 flex-shrink-0"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"font-medium",children:s})}),l.jsx("button",{onClick:()=>{a(!1),setTimeout(t,300)},className:"ml-2 p-1 hover:bg-green-600 rounded-full transition-colors",children:l.jsx(So,{className:"w-4 h-4"})})]})}):null}const GM=s=>{const e=Math.floor((Date.now()-new Date(s).getTime())/864e5);return e===0?"Today":e===1?"Yesterday":`${e}d ago`},nE=s=>s?new Date(s)<new Date:!1,xA=s=>{if(s===0)return"0 Bytes";const e=1024,t=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(s)/Math.log(e));return parseFloat((s/Math.pow(e,r)).toFixed(2))+" "+t[r]},bA=s=>["image/jpeg","image/jpg","image/png"].includes(s.type)?s.size>2097152?"Image size must be under 2MB":null:"Only JPG and PNG images are allowed";function KM(){const{announcements:s,theme:e,createAnnouncement:t,updateAnnouncement:r,deleteAnnouncement:a}=We(),c=e==="dark",[d,h]=$.useState(""),[g,y]=$.useState(""),[x,b]=$.useState(""),[E,j]=$.useState(!1),[I,R]=$.useState(!1),[V,O]=$.useState(null),[Q,q]=$.useState(null),[J,te]=$.useState(!1),[re,S]=$.useState(""),T=s.filter(M=>{const k=!d||M.title.toLowerCase().includes(d.toLowerCase())||M.description.toLowerCase().includes(d.toLowerCase()),st=!g||M.type===g,Dt=!x||M.targetAudience===x;return k&&st&&Dt}),C=M=>{t({title:M.title,type:M.type,description:M.description,expiryDate:M.expiryDate||void 0,targetAudience:M.targetAudience,image:M.image,attachment:M.attachment}),te(!0),S("Announcement created successfully!")},D=M=>{r({id:M.id,title:M.title,type:M.type,description:M.description,expiryDate:M.expiryDate||void 0,targetAudience:M.targetAudience,image:M.image,attachment:M.attachment,postedDate:M.postedDate,postedBy:M.postedBy}),te(!0),S("Announcement updated successfully!")},L=M=>{a(M),te(!0),S("Announcement deleted successfully!")};return l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:`text-2xl font-bold ${c?"text-white":"text-gray-900"}`,children:"Announcements"}),l.jsxs("p",{className:`mt-1 ${c?"text-gray-400":"text-gray-500"}`,children:[s.length," total announcements"]})]}),l.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[l.jsx(om,{className:"w-4 h-4"}),"Create Announcement"]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[l.jsxs("div",{className:`flex-1 flex items-center gap-2 px-4 border rounded-xl ${c?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:[l.jsx(xr,{className:`w-5 h-5 ${c?"text-gray-500":"text-gray-400"}`}),l.jsx("input",{value:d,onChange:M=>h(M.target.value),placeholder:"Search announcements...",className:`w-full py-2.5 outline-none text-sm ${c?"bg-transparent text-gray-100 placeholder-gray-500":""}`})]}),l.jsxs("select",{value:g,onChange:M=>y(M.target.value),className:`px-4 py-2.5 border rounded-xl text-sm outline-none ${c?"bg-gray-900 border-gray-700 text-gray-100":"bg-white border-gray-200"}`,children:[l.jsx("option",{value:"",children:"All Types"}),l.jsx("option",{value:"urgent",children:"Urgent"}),l.jsx("option",{value:"normal",children:"Normal"}),l.jsx("option",{value:"other",children:"Other"})]}),l.jsxs("select",{value:x,onChange:M=>b(M.target.value),className:`px-4 py-2.5 border rounded-xl text-sm outline-none ${c?"bg-gray-900 border-gray-700 text-gray-100":"bg-white border-gray-200"}`,children:[l.jsx("option",{value:"",children:"All Audiences"}),l.jsx("option",{value:"students",children:"Students"}),l.jsx("option",{value:"employers",children:"Employers"}),l.jsx("option",{value:"all",children:"All"})]})]}),T.length===0?l.jsxs("div",{className:`text-center py-16 rounded-2xl border ${c?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx(ac,{className:`w-12 h-12 mx-auto mb-4 ${c?"text-gray-600":"text-gray-300"}`}),l.jsx("p",{className:c?"text-gray-400":"text-gray-500",children:"No announcements found"})]}):l.jsx("div",{className:"grid gap-4",children:T.map(M=>l.jsx("div",{className:`rounded-xl border p-6 ${c?"bg-gray-900 border-gray-800":"bg-white border-gray-100"} ${nE(M.expiryDate)?"opacity-50":""}`,children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:`text-lg font-semibold ${c?"text-white":"text-gray-900"}`,children:M.title}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M.type==="urgent"?c?"bg-red-900/40 text-red-400":"bg-red-50 text-red-700":M.type==="normal"?c?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-700":c?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:M.type.toUpperCase()}),M.expiryDate&&nE(M.expiryDate)&&l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c?"bg-yellow-900/40 text-yellow-400":"bg-yellow-50 text-yellow-700"}`,children:"EXPIRED"})]}),l.jsx("p",{className:`text-sm mb-3 ${c?"text-gray-300":"text-gray-600"}`,children:M.description}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ju,{className:"w-3 h-3"}),GM(M.postedDate)]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Um,{className:"w-3 h-3"}),M.postedBy]}),M.targetAudience&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx($n,{className:"w-3 h-3"}),M.targetAudience]}),M.expiryDate&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ju,{className:"w-3 h-3"}),"Expires: ",new Date(M.expiryDate).toLocaleDateString()]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[M.image&&l.jsx("button",{onClick:()=>window.open(M.image,"_blank"),className:`p-2 rounded-lg ${c?"text-gray-400 hover:text-indigo-400 hover:bg-indigo-900/30":"text-gray-500 hover:text-indigo-500 hover:bg-indigo-50"}`,children:l.jsx(L6,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{O(M),R(!0)},className:`p-2 rounded-lg ${c?"text-gray-400 hover:text-indigo-400 hover:bg-indigo-900/30":"text-gray-500 hover:text-indigo-500 hover:bg-indigo-50"}`,children:l.jsx(sM,{className:"w-4 h-4"})}),Q===M.id?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>L(M.id),className:"px-2 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700",children:"Yes"}),l.jsx("button",{onClick:()=>q(null),className:`px-2 py-1 text-xs rounded ${c?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:"No"})]}):l.jsx("button",{onClick:()=>q(M.id),className:`p-2 rounded-lg ${c?"text-gray-500 hover:text-red-400 hover:bg-red-900/30":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,children:l.jsx(va,{className:"w-4 h-4"})})]})]})},M.id))}),E&&l.jsx(QM,{onClose:()=>j(!1),onSubmit:C}),I&&V&&l.jsx(YM,{announcement:V,onClose:()=>R(!1),onSubmit:D}),l.jsx(HM,{message:re,isVisible:J,onClose:()=>te(!1)})]})}function QM({onClose:s,onSubmit:e}){const{theme:t,currentUser:r}=We(),a=t==="dark",c=$.useRef(null),d=$.useRef(null),[h,g]=$.useState(!1),[y,x]=$.useState({x:0,y:0}),[b,E]=$.useState({title:"",type:"normal",description:"",expiryDate:"",targetAudience:"all",image:"",attachment:"",imageFile:null,attachmentFile:null}),[j,I]=$.useState(""),[R,V]=$.useState(""),[O,Q]=$.useState(""),q=T=>{if(!h||!d.current)return;const C=T.clientX-y.x,D=T.clientY-y.y,L=window.innerWidth-d.current.offsetWidth,M=window.innerHeight-d.current.offsetHeight,k=Math.max(0,Math.min(C,L)),st=Math.max(0,Math.min(D,M));d.current.style.left=`${k}px`,d.current.style.top=`${st}px`},J=()=>{g(!1)};$.useEffect(()=>{if(h)return document.addEventListener("mousemove",q),document.addEventListener("mouseup",J),()=>{document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",J)}},[h,y]);const te=T=>{const C=T.target.files?.[0];if(C){const D=bA(C);if(D){V(D);return}V(""),E({...b,imageFile:C});const L=new FileReader;L.onload=M=>I(M.target?.result),L.readAsDataURL(C)}},re=T=>{const C=T.target.files?.[0];if(C){if(!["application/pdf","text/plain","application/msword"].includes(C.type)){Q("Only PDF, TXT, and DOC files are allowed");return}if(C.size>5242880){Q("Attachment size must be under 5MB");return}Q(""),E({...b,attachmentFile:C})}},S=async T=>{T.preventDefault();const C={...b,postedDate:new Date().toISOString(),postedBy:r?.name||"Admin",image:j||b.image,attachment:b.attachment};e(C),s()};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:`rounded-2xl border max-w-2xl w-full ${a?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsxs("div",{className:`p-6 border-b flex items-center justify-between ${a?"border-gray-800":"border-gray-100"}`,children:[l.jsx("h2",{className:`text-xl font-bold ${a?"text-white":"text-gray-900"}`,children:"Create Announcement"}),l.jsx("button",{onClick:s,className:`p-2 rounded-lg ${a?"hover:bg-gray-800 text-gray-400":"hover:bg-gray-100 text-gray-500"}`,children:l.jsx(So,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:S,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Title *"}),l.jsx("input",{type:"text",value:b.title,onChange:T=>E({...b,title:T.target.value}),required:!0,maxLength:100,placeholder:"Enter announcement title (6-12 words)",className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`}),l.jsxs("p",{className:"text-xs mt-1 text-gray-500",children:[b.title.length,"/100 characters"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Type *"}),l.jsxs("select",{value:b.type,onChange:T=>E({...b,type:T.target.value}),required:!0,className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-800 border-gray-700 text-gray-100":"border-gray-200"}`,children:[l.jsx("option",{value:"urgent",children:"Urgent"}),l.jsx("option",{value:"normal",children:"Normal"}),l.jsx("option",{value:"other",children:"Other"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Description *"}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{value:b.description,onChange:T=>E({...b,description:T.target.value}),required:!0,rows:6,placeholder:"Enter announcement content...",className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 resize-none ${a?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"} pr-10`}),l.jsx("div",{className:`absolute right-2 bottom-2 text-xs ${a?"text-gray-400":"text-gray-500"}`,children:b.description.length})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Expiry Date (Optional)"}),l.jsx("input",{type:"date",value:b.expiryDate,onChange:T=>E({...b,expiryDate:T.target.value}),className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-800 border-gray-700 text-gray-100":"border-gray-200"}`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Target Audience"}),l.jsxs("select",{value:b.targetAudience,onChange:T=>E({...b,targetAudience:T.target.value}),className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-800 border-gray-700 text-gray-100":"border-gray-200"}`,children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"students",children:"Students"}),l.jsx("option",{value:"employers",children:"Employers"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:"Image Upload (Optional)"}),l.jsxs("div",{className:`border-2 border-dashed rounded-xl p-4 text-center ${a?"border-gray-700 hover:border-indigo-500":"border-gray-300 hover:border-indigo-400"}`,children:[l.jsx("input",{ref:c,type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:te,className:"hidden"}),j?l.jsxs("div",{className:"space-y-2",children:[l.jsx("img",{src:j,alt:"Preview",className:"max-h-32 mx-auto rounded-lg"}),l.jsx("p",{className:`text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"Image preview - 16:9 aspect ratio recommended"}),l.jsx("button",{type:"button",onClick:()=>{I(""),E({...b,imageFile:null})},className:"text-red-500 hover:text-red-700 text-sm",children:"Remove Image"})]}):l.jsxs("button",{type:"button",onClick:()=>c.current?.click(),className:`flex items-center gap-2 mx-auto px-4 py-2 border rounded-lg ${a?"border-gray-600 text-gray-300 hover:border-indigo-500 hover:text-indigo-400":"border-gray-300 text-gray-600 hover:border-indigo-400 hover:text-indigo-600"}`,children:[l.jsx(pA,{className:"w-4 h-4"}),"Choose Image (Max 2MB)"]}),R&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:R})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:"Attachment (Optional)"}),l.jsxs("div",{className:`border-2 border-dashed rounded-xl p-4 text-center ${a?"border-gray-700 hover:border-indigo-500":"border-gray-300 hover:border-indigo-400"}`,children:[l.jsx("input",{type:"file",accept:".pdf,.txt,.doc,.docx",onChange:re,className:"hidden",id:"attachment-input"}),b.attachmentFile?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${a?"bg-gray-800":"bg-gray-50"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(la,{className:"w-4 h-4 text-blue-500"}),l.jsx("span",{className:"text-sm",children:b.attachmentFile.name}),l.jsx("span",{className:`text-xs ${a?"text-gray-400":"text-gray-500"}`,children:xA(b.attachmentFile.size)})]}),l.jsx("button",{type:"button",onClick:()=>E({...b,attachmentFile:null}),className:"text-red-500 hover:text-red-700",children:"Remove"})]}),l.jsx("p",{className:`text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"PDF, TXT, or DOC files only (Max 5MB)"})]}):l.jsxs("button",{type:"button",onClick:()=>document.getElementById("attachment-input")?.click(),className:`flex items-center gap-2 mx-auto px-4 py-2 border rounded-lg ${a?"border-gray-600 text-gray-300 hover:border-indigo-500 hover:text-indigo-400":"border-gray-300 text-gray-600 hover:border-indigo-400 hover:text-indigo-600"}`,children:[l.jsx(la,{className:"w-4 h-4"}),"Choose Attachment"]}),O&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:O})]})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Create Announcement"}),l.jsx("button",{type:"button",onClick:s,className:`px-6 py-2.5 border rounded-xl text-sm font-medium ${a?"border-gray-700 text-gray-300 hover:bg-gray-800":"border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"})]})]})]})})}function YM({announcement:s,onClose:e,onSubmit:t}){const{theme:r}=We(),a=r==="dark",c=$.useRef(null),[d,h]=$.useState({title:s.title,type:s.type,description:s.description,expiryDate:s.expiryDate||"",targetAudience:s.targetAudience||"all",image:s.image||"",attachment:s.attachment||"",imageFile:null,attachmentFile:null}),[g,y]=$.useState(s.image||""),[x,b]=$.useState(""),[E,j]=$.useState(""),I=O=>{const Q=O.target.files?.[0];if(Q){const q=bA(Q);if(q){b(q);return}b(""),h({...d,imageFile:Q});const J=new FileReader;J.onload=te=>y(te.target?.result),J.readAsDataURL(Q)}},R=O=>{const Q=O.target.files?.[0];if(Q){if(!["application/pdf","text/plain","application/msword"].includes(Q.type)){j("Only PDF, TXT, and DOC files are allowed");return}if(Q.size>5242880){j("Attachment size must be under 5MB");return}j(""),h({...d,attachmentFile:Q})}},V=O=>{O.preventDefault();const Q={...s,...d,image:g||d.image,attachment:d.attachment};t(Q),e()};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:`rounded-2xl border max-w-2xl w-full ${a?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsxs("div",{className:`p-6 border-b flex items-center justify-between ${a?"border-gray-800":"border-gray-100"}`,children:[l.jsx("h2",{className:`text-xl font-bold ${a?"text-white":"text-gray-900"}`,children:"Edit Announcement"}),l.jsx("button",{onClick:e,className:`p-2 rounded-lg ${a?"hover:bg-gray-800 text-gray-400":"hover:bg-gray-100 text-gray-500"}`,children:l.jsx(So,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:V,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Title *"}),l.jsx("input",{type:"text",value:d.title,onChange:O=>h({...d,title:O.target.value}),required:!0,maxLength:100,placeholder:"Enter announcement title (6-12 words)",className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`}),l.jsxs("p",{className:"text-xs mt-1 text-gray-500",children:[d.title.length,"/100 characters"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Type *"}),l.jsxs("select",{value:d.type,onChange:O=>h({...d,type:O.target.value}),required:!0,className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-800 border-gray-700 text-gray-100":"border-gray-200"}`,children:[l.jsx("option",{value:"urgent",children:"Urgent"}),l.jsx("option",{value:"normal",children:"Normal"}),l.jsx("option",{value:"other",children:"Other"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Description *"}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{value:d.description,onChange:O=>h({...d,description:O.target.value}),required:!0,rows:6,placeholder:"Enter announcement content...",className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 resize-none ${a?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"} pr-10`}),l.jsx("div",{className:`absolute right-2 bottom-2 text-xs ${a?"text-gray-400":"text-gray-500"}`,children:d.description.length})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Expiry Date (Optional)"}),l.jsx("input",{type:"date",value:d.expiryDate,onChange:O=>h({...d,expiryDate:O.target.value}),className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-800 border-gray-700 text-gray-100":"border-gray-200"}`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-300":"text-gray-700"}`,children:"Target Audience"}),l.jsxs("select",{value:d.targetAudience,onChange:O=>h({...d,targetAudience:O.target.value}),className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-800 border-gray-700 text-gray-100":"border-gray-200"}`,children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"students",children:"Students"}),l.jsx("option",{value:"employers",children:"Employers"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:"Image Upload (Optional)"}),l.jsxs("div",{className:`border-2 border-dashed rounded-xl p-4 text-center ${a?"border-gray-700 hover:border-indigo-500":"border-gray-300 hover:border-indigo-400"}`,children:[l.jsx("input",{ref:c,type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:I,className:"hidden"}),g?l.jsxs("div",{className:"space-y-2",children:[l.jsx("img",{src:g,alt:"Preview",className:"max-h-32 mx-auto rounded-lg"}),l.jsx("p",{className:`text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"Image preview - 16:9 aspect ratio recommended"}),l.jsx("button",{type:"button",onClick:()=>{y(""),h({...d,imageFile:null})},className:"text-red-500 hover:text-red-700 text-sm",children:"Remove Image"})]}):l.jsxs("button",{type:"button",onClick:()=>c.current?.click(),className:`flex items-center gap-2 mx-auto px-4 py-2 border rounded-lg ${a?"border-gray-600 text-gray-300 hover:border-indigo-500 hover:text-indigo-400":"border-gray-300 text-gray-600 hover:border-indigo-400 hover:text-indigo-600"}`,children:[l.jsx(pA,{className:"w-4 h-4"}),"Choose Image (Max 2MB)"]}),x&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:x})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:"Attachment (Optional)"}),l.jsxs("div",{className:`border-2 border-dashed rounded-xl p-4 text-center ${a?"border-gray-700 hover:border-indigo-500":"border-gray-300 hover:border-indigo-400"}`,children:[l.jsx("input",{type:"file",accept:".pdf,.txt,.doc,.docx",onChange:R,className:"hidden",id:"attachment-input"}),d.attachmentFile?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${a?"bg-gray-800":"bg-gray-50"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(la,{className:"w-4 h-4 text-blue-500"}),l.jsx("span",{className:"text-sm",children:d.attachmentFile.name}),l.jsx("span",{className:`text-xs ${a?"text-gray-400":"text-gray-500"}`,children:xA(d.attachmentFile.size)})]}),l.jsx("button",{type:"button",onClick:()=>h({...d,attachmentFile:null}),className:"text-red-500 hover:text-red-700",children:"Remove"})]}),l.jsx("p",{className:`text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"PDF, TXT, or DOC files only (Max 5MB)"})]}):l.jsxs("button",{type:"button",onClick:()=>document.getElementById("attachment-input")?.click(),className:`flex items-center gap-2 mx-auto px-4 py-2 border rounded-lg ${a?"border-gray-600 text-gray-300 hover:border-indigo-500 hover:text-indigo-400":"border-gray-300 text-gray-600 hover:border-indigo-400 hover:text-indigo-600"}`,children:[l.jsx(la,{className:"w-4 h-4"}),"Choose Attachment"]}),E&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:E})]})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Update Announcement"}),l.jsx("button",{type:"button",onClick:e,className:`px-6 py-2.5 border rounded-xl text-sm font-medium ${a?"border-gray-700 text-gray-300 hover:bg-gray-800":"border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"})]})]})]})})}const lc=s=>{const e=Math.floor((Date.now()-new Date(s).getTime())/864e5);return e===0?"Today":e===1?"Yesterday":`${e}d ago`};function JM(){const{users:s,jobs:e,applications:t,navigate:r,getStudents:a,getEmployers:c,theme:d}=We(),h=d==="dark",g=a(),y=c(),x=e.filter(E=>E.status==="active"),b=[{label:"Total Users",value:s.length,icon:$n,bg:h?"bg-indigo-900/30":"bg-indigo-50",color:h?"text-indigo-400":"text-indigo-600",sub:`${g.length} students, ${y.length} employers`},{label:"Total Jobs",value:e.length,icon:un,bg:h?"bg-green-900/30":"bg-green-50",color:h?"text-green-400":"text-green-600",sub:`${x.length} active`},{label:"Applications",value:t.length,icon:la,bg:h?"bg-purple-900/30":"bg-purple-50",color:h?"text-purple-400":"text-purple-600",sub:`${t.filter(E=>E.status==="pending").length} pending`},{label:"Companies",value:y.length,icon:To,bg:h?"bg-amber-900/30":"bg-amber-50",color:h?"text-amber-400":"text-amber-600",sub:"Registered employers"}];return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center",children:l.jsx(gA,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:`text-2xl font-bold ${h?"text-white":"text-gray-900"}`,children:"Admin Dashboard"}),l.jsx("p",{className:h?"text-gray-400":"text-gray-500",children:"Manage the entire platform"})]})]}),l.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:b.map((E,j)=>l.jsxs("div",{className:`rounded-2xl border p-5 ${h?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx("div",{className:`w-10 h-10 rounded-xl ${E.bg} flex items-center justify-center mb-3`,children:l.jsx(E.icon,{className:`w-5 h-5 ${E.color}`})}),l.jsx("div",{className:`text-2xl font-bold ${h?"text-white":"text-gray-900"}`,children:E.value}),l.jsx("div",{className:`text-sm ${h?"text-gray-400":"text-gray-500"}`,children:E.label}),l.jsx("div",{className:`text-xs mt-1 ${h?"text-gray-500":"text-gray-400"}`,children:E.sub})]},j))}),l.jsxs("div",{className:"grid sm:grid-cols-3 gap-4 mb-8",children:[l.jsxs("button",{onClick:()=>r("manage-students"),className:`rounded-xl border p-6 text-left hover:shadow-md transition group ${h?"bg-gray-900 border-gray-800 hover:border-indigo-800":"bg-white border-gray-100 hover:border-indigo-100"}`,children:[l.jsx($n,{className:"w-7 h-7 text-indigo-500 mb-3"}),l.jsx("h3",{className:`font-semibold ${h?"text-white":"text-gray-900"}`,children:"Manage Students"}),l.jsxs("p",{className:`text-sm mt-1 ${h?"text-gray-400":"text-gray-500"}`,children:[g.length," registered students"]})]}),l.jsxs("button",{onClick:()=>r("manage-employers"),className:`rounded-xl border p-6 text-left hover:shadow-md transition group ${h?"bg-gray-900 border-gray-800 hover:border-indigo-800":"bg-white border-gray-100 hover:border-indigo-100"}`,children:[l.jsx(To,{className:"w-7 h-7 text-purple-500 mb-3"}),l.jsx("h3",{className:`font-semibold ${h?"text-white":"text-gray-900"}`,children:"Manage Employers"}),l.jsxs("p",{className:`text-sm mt-1 ${h?"text-gray-400":"text-gray-500"}`,children:[y.length," registered companies"]})]}),l.jsxs("button",{onClick:()=>r("manage-all-jobs"),className:`rounded-xl border p-6 text-left hover:shadow-md transition group ${h?"bg-gray-900 border-gray-800 hover:border-indigo-800":"bg-white border-gray-100 hover:border-indigo-100"}`,children:[l.jsx(un,{className:"w-7 h-7 text-green-500 mb-3"}),l.jsx("h3",{className:`font-semibold ${h?"text-white":"text-gray-900"}`,children:"Manage Jobs"}),l.jsxs("p",{className:`text-sm mt-1 ${h?"text-gray-400":"text-gray-500"}`,children:[e.length," total job listings"]})]})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:`text-lg font-semibold mb-3 ${h?"text-white":"text-gray-900"}`,children:"Recent Users"}),l.jsx("div",{className:`rounded-xl border overflow-hidden ${h?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:s.filter(E=>E.role!=="admin").slice(-5).reverse().map(E=>l.jsxs("div",{className:`flex items-center justify-between p-4 border-b last:border-0 ${h?"border-gray-800":"border-gray-50"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white text-sm font-medium",children:E.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("div",{className:`text-sm font-medium ${h?"text-white":"text-gray-900"}`,children:E.name}),l.jsx("div",{className:"text-xs text-gray-500",children:E.email})]})]}),l.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${E.role==="student"?h?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-700":h?"bg-purple-900/40 text-purple-400":"bg-purple-50 text-purple-700"}`,children:E.role})]},E.id))})]}),l.jsxs("div",{children:[l.jsx("h2",{className:`text-lg font-semibold mb-3 ${h?"text-white":"text-gray-900"}`,children:"Recent Applications"}),l.jsx("div",{className:`rounded-xl border overflow-hidden ${h?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:t.length===0?l.jsx("div",{className:"p-8 text-center text-sm text-gray-500",children:"No applications yet"}):t.slice(-5).reverse().map(E=>{const j=e.find(I=>I.id===E.jobId);return l.jsxs("div",{className:`flex items-center justify-between p-4 border-b last:border-0 ${h?"border-gray-800":"border-gray-50"}`,children:[l.jsxs("div",{children:[l.jsx("div",{className:`text-sm font-medium ${h?"text-white":"text-gray-900"}`,children:E.studentName}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Applied to ",j?.title||"Unknown","  ",lc(E.appliedDate)]})]}),l.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${E.status==="pending"?h?"bg-yellow-900/40 text-yellow-400":"bg-yellow-50 text-yellow-700":E.status==="accepted"?h?"bg-green-900/40 text-green-400":"bg-green-50 text-green-700":E.status==="rejected"?h?"bg-red-900/40 text-red-400":"bg-red-50 text-red-700":h?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-700"}`,children:E.status})]},E.id)})})]})]})]})}function XM(){const{getStudents:s,deleteUser:e,getApplicationsForStudent:t,theme:r}=We(),a=r==="dark",c=s(),[d,h]=$.useState(""),[g,y]=$.useState(null),x=c.filter(b=>!d||b.name.toLowerCase().includes(d.toLowerCase())||b.email.toLowerCase().includes(d.toLowerCase()));return l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{children:[l.jsx("h1",{className:`text-2xl font-bold ${a?"text-white":"text-gray-900"}`,children:"Manage Students"}),l.jsxs("p",{className:`mt-1 ${a?"text-gray-400":"text-gray-500"}`,children:[c.length," registered students"]})]})}),l.jsx("div",{className:"flex gap-3 mb-6",children:l.jsxs("div",{className:`flex-1 flex items-center gap-2 px-4 border rounded-xl ${a?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:[l.jsx(xr,{className:`w-5 h-5 ${a?"text-gray-500":"text-gray-400"}`}),l.jsx("input",{value:d,onChange:b=>h(b.target.value),placeholder:"Search students...",className:`w-full py-2.5 outline-none text-sm ${a?"bg-transparent text-gray-100 placeholder-gray-500":""}`})]})}),x.length===0?l.jsxs("div",{className:`text-center py-16 rounded-2xl border ${a?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx($n,{className:`w-12 h-12 mx-auto mb-4 ${a?"text-gray-600":"text-gray-300"}`}),l.jsx("p",{className:a?"text-gray-400":"text-gray-500",children:"No students found"})]}):l.jsx("div",{className:`rounded-xl border overflow-hidden ${a?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:`border-b ${a?"border-gray-800 bg-gray-800/50":"border-gray-100 bg-gray-50"}`,children:[l.jsx("th",{className:`text-left px-4 py-3 text-xs font-medium uppercase ${a?"text-gray-400":"text-gray-500"}`,children:"Student"}),l.jsx("th",{className:`text-left px-4 py-3 text-xs font-medium uppercase ${a?"text-gray-400":"text-gray-500"}`,children:"Education"}),l.jsx("th",{className:`text-left px-4 py-3 text-xs font-medium uppercase ${a?"text-gray-400":"text-gray-500"}`,children:"Skills"}),l.jsx("th",{className:`text-left px-4 py-3 text-xs font-medium uppercase ${a?"text-gray-400":"text-gray-500"}`,children:"Applications"}),l.jsx("th",{className:`text-left px-4 py-3 text-xs font-medium uppercase ${a?"text-gray-400":"text-gray-500"}`,children:"Joined"}),l.jsx("th",{className:`text-right px-4 py-3 text-xs font-medium uppercase ${a?"text-gray-400":"text-gray-500"}`,children:"Actions"})]})}),l.jsx("tbody",{children:x.map(b=>{const E=t(b.id);return l.jsxs("tr",{className:`border-b last:border-0 ${a?"border-gray-800 hover:bg-gray-800/50":"border-gray-50 hover:bg-gray-50"}`,children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white text-sm font-medium flex-shrink-0",children:b.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("div",{className:`text-sm font-medium ${a?"text-white":"text-gray-900"}`,children:b.name}),l.jsx("div",{className:"text-xs text-gray-500",children:b.email})]})]})}),l.jsx("td",{className:`px-4 py-3 text-sm ${a?"text-gray-400":"text-gray-600"}`,children:b.education||"-"}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("div",{className:"flex flex-wrap gap-1",children:b.skills?.slice(0,3).map(j=>l.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${a?"bg-indigo-900/40 text-indigo-400":"bg-indigo-50 text-indigo-600"}`,children:j},j))||"-"})}),l.jsx("td",{className:`px-4 py-3 text-sm ${a?"text-gray-400":"text-gray-600"}`,children:E.length}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:lc(b.createdAt)}),l.jsx("td",{className:"px-4 py-3 text-right",children:g===b.id?l.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[l.jsx("button",{onClick:()=>{e(b.id),y(null)},className:"px-2 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700",children:"Confirm"}),l.jsx("button",{onClick:()=>y(null),className:`px-2 py-1 text-xs rounded ${a?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Cancel"})]}):l.jsx("button",{onClick:()=>y(b.id),className:`p-1.5 rounded-lg ${a?"text-gray-500 hover:text-red-400 hover:bg-red-900/30":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,children:l.jsx(va,{className:"w-4 h-4"})})})]},b.id)})})]})})})]})}function WM(){const{getEmployers:s,deleteUser:e,getJobsForEmployer:t,sendAdminMessage:r,approveEmployer:a,rejectEmployer:c,theme:d}=We(),h=d==="dark",g=s(),[y,x]=$.useState(""),[b,E]=$.useState(null),[j,I]=$.useState(!1),[R,V]=$.useState(null),[O,Q]=$.useState(""),[q,J]=$.useState(""),[te,re]=$.useState(!1),S=g.filter(D=>!y||D.name.toLowerCase().includes(y.toLowerCase())||D.email.toLowerCase().includes(y.toLowerCase())||D.companyName?.toLowerCase().includes(y.toLowerCase())),T=D=>{V(D),I(!0),re(!1),Q(""),J("")},C=()=>{R&&O&&q&&(r(R.id,O,q),re(!0))};return l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{children:[l.jsx("h1",{className:`text-2xl font-bold ${h?"text-white":"text-gray-900"}`,children:"Manage Employers"}),l.jsxs("p",{className:`mt-1 ${h?"text-gray-400":"text-gray-500"}`,children:[g.length," registered companies"]})]})}),l.jsx("div",{className:"flex gap-3 mb-6",children:l.jsxs("div",{className:`flex-1 flex items-center gap-2 px-4 border rounded-xl ${h?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:[l.jsx(xr,{className:`w-5 h-5 ${h?"text-gray-500":"text-gray-400"}`}),l.jsx("input",{value:y,onChange:D=>x(D.target.value),placeholder:"Search employers...",className:`w-full py-2.5 outline-none text-sm ${h?"bg-transparent text-gray-100 placeholder-gray-500":""}`})]})}),S.length===0?l.jsxs("div",{className:`text-center py-16 rounded-2xl border ${h?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx(To,{className:`w-12 h-12 mx-auto mb-4 ${h?"text-gray-600":"text-gray-300"}`}),l.jsx("p",{className:h?"text-gray-400":"text-gray-500",children:"No employers found"})]}):l.jsx("div",{className:"space-y-3",children:S.map(D=>{const L=t(D.id),M=L.filter(k=>k.status==="active");return l.jsx("div",{className:`rounded-xl border p-5 ${h?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-2xl flex-shrink-0 ${h?"bg-gray-800":"bg-gradient-to-br from-indigo-50 to-purple-50"}`,children:D.companyLogo||""}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:`font-semibold ${h?"text-white":"text-gray-900"}`,children:D.companyName||D.name}),l.jsx("p",{className:`text-sm ${h?"text-gray-400":"text-gray-500"}`,children:D.email}),l.jsxs("div",{className:"flex flex-wrap gap-3 mt-1 text-xs text-gray-500",children:[D.industry&&l.jsx("span",{children:D.industry}),D.companyLocation&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ps,{className:"w-3 h-3"})," ",D.companyLocation]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(un,{className:"w-3 h-3"})," ",L.length," jobs (",M.length," active)"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ms,{className:"w-3 h-3"})," Joined ",lc(D.createdAt)]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>T(D),className:`p-2 rounded-lg ${h?"text-gray-400 hover:text-indigo-400 hover:bg-indigo-900/30":"text-gray-500 hover:text-indigo-500 hover:bg-indigo-50"}`,children:l.jsx(Lm,{className:"w-4 h-4"})}),!D.isApproved&&l.jsxs("div",{className:"flex gap-1",children:[l.jsxs("button",{onClick:()=>a(D.id),className:"px-3 py-1.5 text-xs bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-1",children:[l.jsx(Lr,{className:"w-3 h-3"})," Approve"]}),l.jsxs("button",{onClick:()=>c(D.id),className:"px-3 py-1.5 text-xs bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-1",children:[l.jsx(oc,{className:"w-3 h-3"})," Reject"]})]}),D.isApproved&&l.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${h?"bg-green-900/40 text-green-400":"bg-green-50 text-green-700"}`,children:"Approved"}),b===D.id?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(hM,{className:"w-4 h-4 text-red-500"}),l.jsx("button",{onClick:()=>{e(D.id),E(null)},className:"px-3 py-1.5 text-xs bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete All"}),l.jsx("button",{onClick:()=>E(null),className:`px-3 py-1.5 text-xs rounded-lg ${h?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Cancel"})]}):l.jsx("button",{onClick:()=>E(D.id),className:`p-1.5 rounded-lg ${h?"text-gray-500 hover:text-red-400 hover:bg-red-900/30":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,children:l.jsx(va,{className:"w-4 h-4"})})]})]})},D.id)})}),j&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:`rounded-2xl border max-w-lg w-full ${h?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsxs("div",{className:`p-6 border-b flex items-center justify-between ${h?"border-gray-800":"border-gray-100"}`,children:[l.jsxs("div",{children:[l.jsx("h2",{className:`text-xl font-bold ${h?"text-white":"text-gray-900"}`,children:"Send Message"}),l.jsxs("p",{className:`text-sm mt-1 ${h?"text-gray-400":"text-gray-500"}`,children:["To: ",R?.companyName||R?.name]})]}),l.jsx("button",{onClick:()=>I(!1),className:`p-2 rounded-lg ${h?"hover:bg-gray-800 text-gray-400":"hover:bg-gray-100 text-gray-500"}`,children:l.jsx(oc,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"p-6",children:te?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(br,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:`text-lg font-semibold mb-2 ${h?"text-white":"text-gray-900"}`,children:"Message Sent!"}),l.jsxs("p",{className:h?"text-gray-400":"text-gray-500",children:["Your message has been sent to ",R?.companyName||R?.name,"."]}),l.jsx("button",{onClick:()=>I(!1),className:"mt-4 px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700",children:"Close"})]}):l.jsxs("form",{onSubmit:D=>{D.preventDefault(),C()},className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${h?"text-gray-300":"text-gray-700"}`,children:"Subject *"}),l.jsx("input",{type:"text",value:O,onChange:D=>Q(D.target.value),required:!0,placeholder:"Message subject",className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 ${h?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1 ${h?"text-gray-300":"text-gray-700"}`,children:"Message *"}),l.jsx("textarea",{value:q,onChange:D=>J(D.target.value),required:!0,rows:5,placeholder:"Your message...",className:`w-full px-4 py-2.5 border rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 resize-none ${h?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsxs("button",{type:"submit",className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700 flex items-center gap-2",children:[l.jsx(br,{className:"w-4 h-4"})," Send Message"]}),l.jsx("button",{type:"button",onClick:()=>I(!1),className:`px-6 py-2.5 border rounded-xl text-sm font-medium ${h?"border-gray-700 text-gray-300 hover:bg-gray-800":"border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"})]})]})})]})})]})}function ZM(){const{jobs:s,deleteJob:e,updateJob:t,navigate:r,users:a,theme:c}=We(),d=c==="dark",[h,g]=$.useState(""),[y,x]=$.useState(""),[b,E]=$.useState(""),[j,I]=$.useState(null),R=a.filter(J=>J.role==="employer"),V=s.filter(J=>J.status==="active"),O=s.filter(J=>Math.floor((Date.now()-new Date(J.postedDate).getTime())/864e5)<=7),Q=s.filter(J=>{const te=!h||J.title.toLowerCase().includes(h.toLowerCase())||J.companyName.toLowerCase().includes(h.toLowerCase()),re=!y||J.status===y,S=!b||J.employerId===b;return te&&re&&S}),q=J=>{t({...J,status:J.status==="active"?"closed":"active"})};return l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-8",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{children:[l.jsx("h1",{className:`text-2xl font-bold ${d?"text-white":"text-gray-900"}`,children:"All Job Listings"}),l.jsxs("p",{className:`mt-1 ${d?"text-gray-400":"text-gray-500"}`,children:[s.length," total jobs  ",V.length," active  ",O.length," posted this week"]})]})}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[l.jsxs("div",{className:`flex-1 flex items-center gap-2 px-4 border rounded-xl ${d?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:[l.jsx(xr,{className:`w-5 h-5 ${d?"text-gray-500":"text-gray-400"}`}),l.jsx("input",{value:h,onChange:J=>g(J.target.value),placeholder:"Search jobs by title or company...",className:`w-full py-2.5 outline-none text-sm ${d?"bg-transparent text-gray-100 placeholder-gray-500":""}`})]}),l.jsxs("select",{value:y,onChange:J=>x(J.target.value),className:`px-4 py-2.5 border rounded-xl text-sm outline-none ${d?"bg-gray-900 border-gray-700 text-gray-100":"bg-white border-gray-200"}`,children:[l.jsx("option",{value:"",children:"All Status"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"closed",children:"Closed"}),l.jsx("option",{value:"draft",children:"Draft"})]}),l.jsxs("select",{value:b,onChange:J=>E(J.target.value),className:`px-4 py-2.5 border rounded-xl text-sm outline-none ${d?"bg-gray-900 border-gray-700 text-gray-100":"bg-white border-gray-200"}`,children:[l.jsx("option",{value:"",children:"All Employers"}),R.map(J=>l.jsx("option",{value:J.id,children:J.companyName||J.name},J.id))]})]}),Q.length===0?l.jsxs("div",{className:`text-center py-16 rounded-2xl border ${d?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx(un,{className:`w-12 h-12 mx-auto mb-4 ${d?"text-gray-600":"text-gray-300"}`}),l.jsx("p",{className:d?"text-gray-400":"text-gray-500",children:"No jobs found"})]}):l.jsx("div",{className:`rounded-xl border overflow-hidden ${d?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:`border-b ${d?"border-gray-800 bg-gray-800/50":"border-gray-100 bg-gray-50"}`,children:[l.jsx("th",{className:`text-left px-4 py-3 text-xs font-medium uppercase ${d?"text-gray-400":"text-gray-500"}`,children:"Job"}),l.jsx("th",{className:`text-left px-4 py-3 text-xs font-medium uppercase ${d?"text-gray-400":"text-gray-500"}`,children:"Company"}),l.jsx("th",{className:`text-left px-4 py-3 text-xs font-medium uppercase ${d?"text-gray-400":"text-gray-500"}`,children:"Type"}),l.jsx("th",{className:`text-left px-4 py-3 text-xs font-medium uppercase ${d?"text-gray-400":"text-gray-500"}`,children:"Status"}),l.jsx("th",{className:`text-left px-4 py-3 text-xs font-medium uppercase ${d?"text-gray-400":"text-gray-500"}`,children:"Applicants"}),l.jsx("th",{className:`text-left px-4 py-3 text-xs font-medium uppercase ${d?"text-gray-400":"text-gray-500"}`,children:"Posted"}),l.jsx("th",{className:`text-right px-4 py-3 text-xs font-medium uppercase ${d?"text-gray-400":"text-gray-500"}`,children:"Actions"})]})}),l.jsx("tbody",{children:Q.map(J=>l.jsxs("tr",{className:`border-b last:border-0 ${d?"border-gray-800 hover:bg-gray-800/50":"border-gray-50 hover:bg-gray-50"}`,children:[l.jsxs("td",{className:"px-4 py-3",children:[l.jsx("div",{className:`text-sm font-medium ${d?"text-white":"text-gray-900"}`,children:J.title}),l.jsxs("div",{className:"text-xs flex items-center gap-1 text-gray-500",children:[l.jsx(ps,{className:"w-3 h-3"})," ",J.location]})]}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:J.companyLogo||""}),l.jsx("span",{className:`text-sm ${d?"text-gray-300":"text-gray-700"}`,children:J.companyName})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${J.type==="Full-time"?d?"bg-green-900/40 text-green-400":"bg-green-50 text-green-700":J.type==="Internship"?d?"bg-amber-900/40 text-amber-400":"bg-amber-50 text-amber-700":d?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-700"}`,children:J.type})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${J.status==="active"?d?"bg-green-900/40 text-green-400":"bg-green-50 text-green-700":d?"bg-red-900/40 text-red-400":"bg-red-50 text-red-700"}`,children:J.status})}),l.jsx("td",{className:`px-4 py-3 text-sm ${d?"text-gray-400":"text-gray-600"}`,children:J.applicantCount}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:lc(J.postedDate)}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[l.jsx("button",{onClick:()=>r("job-detail",J.id),className:`p-1.5 rounded-lg ${d?"text-gray-500 hover:text-indigo-400 hover:bg-indigo-900/30":"text-gray-400 hover:text-indigo-500 hover:bg-indigo-50"}`,children:l.jsx(No,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>q(J),className:`px-2 py-1 text-xs rounded-lg ${J.status==="active"?d?"text-red-400 hover:bg-red-900/30":"text-red-600 hover:bg-red-50":d?"text-green-400 hover:bg-green-900/30":"text-green-600 hover:bg-green-50"}`,children:J.status==="active"?"Close":"Open"}),j===J.id?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>{e(J.id),I(null)},className:"px-2 py-1 text-xs bg-red-600 text-white rounded",children:"Yes"}),l.jsx("button",{onClick:()=>I(null),className:`px-2 py-1 text-xs rounded ${d?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:"No"})]}):l.jsx("button",{onClick:()=>I(J.id),className:`p-1.5 rounded-lg ${d?"text-gray-500 hover:text-red-400 hover:bg-red-900/30":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,children:l.jsx(va,{className:"w-4 h-4"})})]})})]},J.id))})]})})})]})}function eV(){const{getMessagesForAdmin:s,markMessageAsRead:e,replyToMessage:t,theme:r}=We(),a=r==="dark",c=s(),[d,h]=$.useState(null),[g,y]=$.useState({}),x=c.reduce((j,I)=>{const R=I.companyName||I.employerName;return j[R]||(j[R]=[]),j[R].push(I),j},{}),b=Object.keys(x).sort(),E=c.filter(j=>!j.read).length;return l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center",children:l.jsx(Lm,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:`text-2xl font-bold ${a?"text-white":"text-gray-900"}`,children:"Messages from Employers"}),l.jsxs("p",{className:a?"text-gray-400":"text-gray-500",children:[c.length," total message",c.length!==1?"s":"",E>0&&l.jsxs("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-medium ${a?"bg-red-900/40 text-red-400":"bg-red-50 text-red-700"}`,children:[E," unread"]})]})]})]}),b.length===0?l.jsxs("div",{className:`text-center py-16 rounded-2xl border ${a?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx(tr,{className:`w-12 h-12 mx-auto mb-4 ${a?"text-gray-600":"text-gray-300"}`}),l.jsx("h3",{className:`text-lg font-medium mb-2 ${a?"text-white":"text-gray-900"}`,children:"No messages found"}),l.jsx("p",{className:a?"text-gray-400":"text-gray-500",children:"No employers have sent messages yet."})]}):l.jsx("div",{className:"space-y-4",children:b.map(j=>{const I=x[j].sort((O,Q)=>new Date(Q.sentDate).getTime()-new Date(O.sentDate).getTime()),R=I[0],V=I.filter(O=>!O.read).length;return l.jsxs("div",{className:`rounded-xl border overflow-hidden ${a?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx("div",{className:`p-4 border-b ${a?"border-gray-800 bg-gray-800/50":"border-gray-100 bg-gray-50"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center text-lg ${a?"bg-gray-800":"bg-indigo-50"}`,children:R.companyName?.charAt(0)||""}),l.jsxs("div",{children:[l.jsx("h3",{className:`font-semibold ${a?"text-white":"text-gray-900"}`,children:j}),l.jsxs("p",{className:`text-sm ${a?"text-gray-400":"text-gray-500"}`,children:[R.employerName,"  ",R.employerEmail]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:`text-sm font-medium ${a?"text-white":"text-gray-900"}`,children:[I.length," message",I.length!==1?"s":""]}),V>0&&l.jsxs("div",{className:`text-xs mt-1 px-2 py-0.5 rounded-full inline-block ${a?"bg-red-900/40 text-red-400":"bg-red-50 text-red-700"}`,children:[V," unread"]})]})]})}),l.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:I.map(O=>l.jsx("div",{className:`p-4 ${a?"hover:bg-gray-800":"hover:bg-gray-50"} ${O.read?"":a?"bg-blue-900/20":"bg-blue-50"}`,children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:`font-medium ${a?"text-white":"text-gray-900"}`,children:O.subject}),!O.read&&l.jsx("span",{className:`w-2 h-2 rounded-full ${a?"bg-blue-400":"bg-blue-600"}`})]}),l.jsx("p",{className:`text-sm mt-2 whitespace-pre-wrap ${a?"text-gray-300":"text-gray-600"}`,children:O.body}),l.jsx("p",{className:`text-xs mt-2 ${a?"text-gray-500":"text-gray-400"}`,children:lc(O.sentDate)}),O.replies&&O.replies.length>0&&l.jsx("div",{className:"mt-4 space-y-3",children:O.replies.map(Q=>l.jsxs("div",{className:`pl-4 border-l-2 ${a?"border-indigo-800 bg-indigo-900/10":"border-indigo-200 bg-indigo-50"} rounded-r-lg p-3`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:`text-xs font-medium ${a?"text-indigo-400":"text-indigo-700"}`,children:"Admin Reply"}),l.jsx("span",{className:`text-xs ${a?"text-gray-500":"text-gray-400"}`,children:lc(Q.sentDate)})]}),l.jsx("p",{className:`text-sm whitespace-pre-wrap ${a?"text-gray-300":"text-gray-700"}`,children:Q.body})]},Q.id))}),d===O.id?l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsx("textarea",{value:g[O.id]||"",onChange:Q=>y({...g,[O.id]:Q.target.value}),placeholder:"Type your reply...",rows:3,className:`w-full px-3 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-indigo-500 resize-none ${a?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-500":"border-gray-200"}`,autoFocus:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>{g[O.id]?.trim()&&(t(O.id,g[O.id]),y({...g,[O.id]:""}),h(null))},className:"px-4 py-1.5 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 flex items-center gap-1",children:[l.jsx(br,{className:"w-3 h-3"})," Send Reply"]}),l.jsx("button",{onClick:()=>{h(null),y({...g,[O.id]:""})},className:`px-4 py-1.5 border rounded-lg text-sm font-medium ${a?"border-gray-700 text-gray-300 hover:bg-gray-800":"border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"})]})]}):l.jsxs("button",{onClick:Q=>{Q.stopPropagation(),h(O.id),O.read||e(O.id)},className:"mt-3 px-3 py-1.5 text-xs font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg flex items-center gap-1",children:[l.jsx(X6,{className:"w-3 h-3"})," Reply"]})]}),l.jsx("div",{className:"flex flex-col gap-2",children:!O.read&&l.jsx("button",{onClick:Q=>{Q.stopPropagation(),e(O.id)},className:`px-3 py-1 text-xs rounded-lg ${a?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Mark as read"})})]})},O.id))})]},j)})})]})}const rE=s=>{const e=Math.floor((Date.now()-new Date(s).getTime())/864e5);return e===0?"Today":e===1?"Yesterday":`${e}d ago`},Du=s=>s?new Date(s)<new Date:!1;function tV(){const{announcements:s,currentUser:e,theme:t}=We(),r=t==="dark",[a,c]=$.useState(null),d=s.filter(y=>{const x=new Date;if(y.expiryDate&&new Date(y.expiryDate)<x)return!1;if(y.targetAudience&&y.targetAudience!=="all"){const b=e?.role==="student"?"students":e?.role==="employer"?"employers":null;if(b&&y.targetAudience!==b)return!1}return!0}).sort((y,x)=>new Date(x.postedDate).getTime()-new Date(y.postedDate).getTime()),h=d.filter(y=>y.type==="urgent"),g=d.filter(y=>y.type==="normal");return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center",children:l.jsx(ac,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:`text-2xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Announcements"}),l.jsxs("p",{className:`mt-1 ${r?"text-gray-400":"text-gray-500"}`,children:[d.length," announcement",d.length!==1?"s":""," for ",e?.role||"users"]})]})]}),h.length>0&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:`text-lg font-semibold mb-4 ${r?"text-white":"text-gray-900"}`,children:"Urgent Announcements"}),l.jsx("div",{className:"space-y-4",children:h.map(y=>l.jsx("div",{onClick:()=>c(y),className:`rounded-xl border p-6 cursor-pointer transition-all hover:shadow-lg ${r?"bg-gray-900 border-red-900/30 hover:border-red-900/50":"bg-white border-red-100 hover:border-red-200"} ${Du(y.expiryDate)?"opacity-50":""}`,children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h3",{className:`text-lg font-semibold ${r?"text-white":"text-gray-900"}`,children:y.title}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r?"bg-red-900/40 text-red-400":"bg-red-50 text-red-700"}`,children:"URGENT"}),y.expiryDate&&Du(y.expiryDate)&&l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r?"bg-yellow-900/40 text-yellow-400":"bg-yellow-50 text-yellow-700"}`,children:"EXPIRED"})]}),l.jsx("p",{className:`text-sm mb-3 line-clamp-3 ${r?"text-gray-300":"text-gray-600"}`,children:y.description}),l.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ju,{className:"w-3 h-3"}),rE(y.postedDate)]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx($n,{className:"w-3 h-3"}),y.targetAudience||"All"]}),y.expiryDate&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ms,{className:"w-3 h-3"}),"Expires: ",new Date(y.expiryDate).toLocaleDateString()]})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(No,{className:`w-4 h-4 ${r?"text-gray-500":"text-gray-400"}`})})]})},y.id))})]}),g.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:`text-lg font-semibold mb-4 ${r?"text-white":"text-gray-900"}`,children:"Recent Announcements"}),l.jsx("div",{className:"space-y-4",children:g.map(y=>l.jsx("div",{onClick:()=>c(y),className:`rounded-xl border p-6 cursor-pointer transition-all hover:shadow-lg ${r?"bg-gray-900 border-gray-800 hover:border-gray-700":"bg-white border-gray-100 hover:border-gray-200"} ${Du(y.expiryDate)?"opacity-50":""}`,children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h3",{className:`text-lg font-semibold ${r?"text-white":"text-gray-900"}`,children:y.title}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-700"}`,children:"NORMAL"}),y.expiryDate&&Du(y.expiryDate)&&l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r?"bg-yellow-900/40 text-yellow-400":"bg-yellow-50 text-yellow-700"}`,children:"EXPIRED"})]}),l.jsx("p",{className:`text-sm mb-3 line-clamp-3 ${r?"text-gray-300":"text-gray-600"}`,children:y.description}),l.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ju,{className:"w-3 h-3"}),rE(y.postedDate)]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx($n,{className:"w-3 h-3"}),y.targetAudience||"All"]}),y.expiryDate&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ms,{className:"w-3 h-3"}),"Expires: ",new Date(y.expiryDate).toLocaleDateString()]})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(No,{className:`w-4 h-4 ${r?"text-gray-500":"text-gray-400"}`})})]})},y.id))})]}),d.length===0&&l.jsxs("div",{className:`text-center py-16 rounded-2xl border ${r?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsx(ac,{className:`w-12 h-12 mx-auto mb-4 ${r?"text-gray-600":"text-gray-300"}`}),l.jsx("h3",{className:`text-lg font-medium mb-2 ${r?"text-white":"text-gray-900"}`,children:"No announcements"}),l.jsx("p",{className:r?"text-gray-400":"text-gray-500",children:e?.role==="student"?"No announcements for students at this time.":e?.role==="employer"?"No announcements for employers at this time.":"No announcements available."})]}),a&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:`rounded-2xl border max-w-2xl w-full max-h-[90vh] overflow-y-auto ${r?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[l.jsxs("div",{className:`p-6 border-b flex items-center justify-between ${r?"border-gray-800":"border-gray-100"}`,children:[l.jsxs("div",{children:[l.jsx("h2",{className:`text-xl font-bold ${r?"text-white":"text-gray-900"}`,children:a.title}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.type==="urgent"?r?"bg-red-900/40 text-red-400":"bg-red-50 text-red-700":r?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-700"}`,children:a.type.toUpperCase()}),a.targetAudience&&l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:a.targetAudience})]})]}),l.jsx("button",{onClick:()=>c(null),className:`p-2 rounded-lg ${r?"hover:bg-gray-800 text-gray-400":"hover:bg-gray-100 text-gray-500"}`,children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ju,{className:"w-4 h-4"}),"Posted: ",new Date(a.postedDate).toLocaleDateString()]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx($n,{className:"w-4 h-4"}),"For: ",a.targetAudience||"All"]}),a.expiryDate&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ms,{className:"w-4 h-4"}),"Expires: ",new Date(a.expiryDate).toLocaleDateString(),Du(a.expiryDate)&&l.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-medium ${r?"bg-yellow-900/40 text-yellow-400":"bg-yellow-50 text-yellow-700"}`,children:"EXPIRED"})]})]}),l.jsx("div",{className:`prose max-w-none ${r?"prose-invert":""}`,children:l.jsx("div",{className:"whitespace-pre-wrap text-gray-600",children:a.description})}),a.image&&l.jsxs("div",{className:"mt-6",children:[l.jsx("h3",{className:`text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Image"}),l.jsx("img",{src:a.image,alt:"Announcement",className:"w-full rounded-lg border",style:{maxHeight:"400px",objectFit:"cover"}})]}),a.attachment&&l.jsxs("div",{className:"mt-6",children:[l.jsx("h3",{className:`text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Attachment"}),l.jsxs("a",{href:a.attachment,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800",children:[l.jsx(la,{className:"w-5 h-5 text-blue-500"}),l.jsx("span",{className:"text-sm font-medium",children:"View Attachment"})]})]})]})]})})]})}function nV(){const{currentPage:s,theme:e,currentUser:t}=We(),r=e==="dark",a=()=>{if(s.startsWith("admin-")&&t?.role!=="admin")return l.jsx(ip,{});switch(s){case"home":return l.jsx(ip,{});case"login":return l.jsx(_M,{});case"register":return l.jsx(wM,{});case"contact":return l.jsx(TM,{});case"admin":return l.jsx(EM,{});case"student-dashboard":return l.jsx(SM,{});case"browse-jobs":return l.jsx(AM,{});case"job-detail":return l.jsx(IM,{});case"applied-jobs":return l.jsx(jM,{});case"student-profile":return l.jsx(CM,{});case"student-messages":return l.jsx(NM,{});case"employer-dashboard":return l.jsx(DM,{});case"post-job":return l.jsx(kM,{});case"manage-jobs":return l.jsx(MM,{});case"view-applicants":return l.jsx(VM,{});case"find-talent":return l.jsx(PM,{});case"browse-companies":return l.jsx(OM,{});case"employer-branding":return l.jsx(LM,{});case"campus-recruiting":return l.jsx(UM,{});case"pricing":return l.jsx($M,{});case"employer-messages":return l.jsx(RM,{});case"admin-dashboard":return l.jsx(JM,{});case"manage-students":return l.jsx(XM,{});case"manage-employers":return l.jsx(WM,{});case"manage-all-jobs":return l.jsx(ZM,{});case"admin-messages":return l.jsx(eV,{});case"admin-contact-inbox":return l.jsx(qM,{});case"announcements":return l.jsx(KM,{});case"public-announcements":return l.jsx(tV,{});default:return l.jsx(ip,{})}},c=s==="login"||s==="register";return l.jsxs("div",{className:`min-h-screen ${r?"bg-gray-950 text-gray-100":"bg-white text-gray-900"}`,children:[!c&&l.jsx(bM,{}),a()]})}function rV(){const{loading:s}=fx();return s?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-indigo-200",children:l.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})}),l.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Loading HireHub..."}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Please wait while we set things up"})]})}):l.jsx(nV,{})}function sV(){return l.jsx(r6,{children:l.jsx(rV,{})})}iI.createRoot(document.getElementById("root")).render(l.jsx(t6,{children:l.jsx($.StrictMode,{children:l.jsx(sV,{})})}));</script>
    <style rel="stylesheet" crossorigin>@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-divide-y-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-ease:initial;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-50:oklch(97.1% .013 17.38);--color-red-100:oklch(93.6% .032 17.717);--color-red-200:oklch(88.5% .062 18.334);--color-red-300:oklch(80.8% .114 19.571);--color-red-400:oklch(70.4% .191 22.216);--color-red-500:oklch(63.7% .237 25.331);--color-red-600:oklch(57.7% .245 27.325);--color-red-700:oklch(50.5% .213 27.518);--color-red-800:oklch(44.4% .177 26.899);--color-red-900:oklch(39.6% .141 25.723);--color-orange-50:oklch(98% .016 73.684);--color-orange-400:oklch(75% .183 55.934);--color-orange-500:oklch(70.5% .213 47.604);--color-orange-600:oklch(64.6% .222 41.116);--color-orange-900:oklch(40.8% .123 38.172);--color-amber-50:oklch(98.7% .022 95.277);--color-amber-100:oklch(96.2% .059 95.617);--color-amber-400:oklch(82.8% .189 84.429);--color-amber-500:oklch(76.9% .188 70.08);--color-amber-600:oklch(66.6% .179 58.318);--color-amber-700:oklch(55.5% .163 48.998);--color-amber-800:oklch(47.3% .137 46.201);--color-amber-900:oklch(41.4% .112 45.904);--color-yellow-50:oklch(98.7% .026 102.212);--color-yellow-100:oklch(97.3% .071 103.193);--color-yellow-200:oklch(94.5% .129 101.54);--color-yellow-300:oklch(90.5% .182 98.111);--color-yellow-400:oklch(85.2% .199 91.936);--color-yellow-500:oklch(79.5% .184 86.047);--color-yellow-700:oklch(55.4% .135 66.442);--color-yellow-800:oklch(47.6% .114 61.907);--color-yellow-900:oklch(42.1% .095 57.708);--color-green-50:oklch(98.2% .018 155.826);--color-green-100:oklch(96.2% .044 156.743);--color-green-200:oklch(92.5% .084 155.995);--color-green-300:oklch(87.1% .15 154.449);--color-green-400:oklch(79.2% .209 151.711);--color-green-500:oklch(72.3% .219 149.579);--color-green-600:oklch(62.7% .194 149.214);--color-green-700:oklch(52.7% .154 150.069);--color-green-800:oklch(44.8% .119 151.328);--color-green-900:oklch(39.3% .095 152.535);--color-emerald-50:oklch(97.9% .021 166.113);--color-emerald-100:oklch(95% .052 163.051);--color-emerald-200:oklch(90.5% .093 164.15);--color-emerald-400:oklch(76.5% .177 163.223);--color-emerald-700:oklch(50.8% .118 165.612);--color-emerald-800:oklch(43.2% .095 166.913);--color-emerald-900:oklch(37.8% .077 168.94);--color-teal-400:oklch(77.7% .152 181.912);--color-teal-500:oklch(70.4% .14 182.503);--color-cyan-600:oklch(60.9% .126 221.723);--color-blue-50:oklch(97% .014 254.604);--color-blue-100:oklch(93.2% .032 255.585);--color-blue-200:oklch(88.2% .059 254.128);--color-blue-300:oklch(80.9% .105 251.813);--color-blue-400:oklch(70.7% .165 254.624);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-600:oklch(54.6% .245 262.881);--color-blue-700:oklch(48.8% .243 264.376);--color-blue-800:oklch(42.4% .199 265.638);--color-blue-900:oklch(37.9% .146 265.522);--color-indigo-50:oklch(96.2% .018 272.314);--color-indigo-100:oklch(93% .034 272.788);--color-indigo-200:oklch(87% .065 274.039);--color-indigo-300:oklch(78.5% .115 274.713);--color-indigo-400:oklch(67.3% .182 276.935);--color-indigo-500:oklch(58.5% .233 277.117);--color-indigo-600:oklch(51.1% .262 276.966);--color-indigo-700:oklch(45.7% .24 277.023);--color-indigo-800:oklch(39.8% .195 277.366);--color-indigo-900:oklch(35.9% .144 278.697);--color-purple-50:oklch(97.7% .014 308.299);--color-purple-100:oklch(94.6% .033 307.174);--color-purple-200:oklch(90.2% .063 306.703);--color-purple-400:oklch(71.4% .203 305.504);--color-purple-500:oklch(62.7% .265 303.9);--color-purple-600:oklch(55.8% .288 302.321);--color-purple-700:oklch(49.6% .265 301.924);--color-purple-900:oklch(38.1% .176 304.987);--color-pink-600:oklch(59.2% .249 .584);--color-pink-700:oklch(52.5% .223 3.958);--color-gray-50:oklch(98.5% .002 247.839);--color-gray-100:oklch(96.7% .003 264.542);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-300:oklch(87.2% .01 258.338);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-600:oklch(44.6% .03 256.802);--color-gray-700:oklch(37.3% .034 259.733);--color-gray-800:oklch(27.8% .033 256.848);--color-gray-900:oklch(21% .034 264.665);--color-gray-950:oklch(13% .028 261.692);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-md:28rem;--container-lg:32rem;--container-xl:36rem;--container-2xl:42rem;--container-3xl:48rem;--container-4xl:56rem;--container-5xl:64rem;--container-6xl:72rem;--container-7xl:80rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--text-4xl:2.25rem;--text-4xl--line-height:calc(2.5/2.25);--text-5xl:3rem;--text-5xl--line-height:1;--text-6xl:3.75rem;--text-6xl--line-height:1;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--leading-tight:1.25;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--radius-4xl:2rem;--ease-in:cubic-bezier(.4,0,1,1);--ease-out:cubic-bezier(0,0,.2,1);--ease-in-out:cubic-bezier(.4,0,.2,1);--animate-spin:spin 1s linear infinite;--blur-sm:8px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}body{color:#111827;background-color:#fff}.dark body{color:#f3f4f6;background-color:#111827}}@layer components;@layer utilities{.visible{visibility:visible}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.sticky{position:sticky}.inset-0{inset:calc(var(--spacing)*0)}.-top-1{top:calc(var(--spacing)*-1)}.-top-3{top:calc(var(--spacing)*-3)}.top-0{top:calc(var(--spacing)*0)}.top-1{top:calc(var(--spacing)*1)}.top-1\/2{top:50%}.top-4{top:calc(var(--spacing)*4)}.-right-1{right:calc(var(--spacing)*-1)}.right-0{right:calc(var(--spacing)*0)}.right-2{right:calc(var(--spacing)*2)}.right-3{right:calc(var(--spacing)*3)}.right-4{right:calc(var(--spacing)*4)}.bottom-2{bottom:calc(var(--spacing)*2)}.left-1{left:calc(var(--spacing)*1)}.left-1\/2{left:50%}.left-3{left:calc(var(--spacing)*3)}.z-40{z-index:40}.z-50{z-index:50}.container{width:100%}@media(min-width:40rem){.container{max-width:40rem}}@media(min-width:48rem){.container{max-width:48rem}}@media(min-width:64rem){.container{max-width:64rem}}@media(min-width:80rem){.container{max-width:80rem}}@media(min-width:96rem){.container{max-width:96rem}}.mx-auto{margin-inline:auto}.my-12{margin-block:calc(var(--spacing)*12)}.mt-0{margin-top:calc(var(--spacing)*0)}.mt-0\.5{margin-top:calc(var(--spacing)*.5)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-3{margin-top:calc(var(--spacing)*3)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-6{margin-top:calc(var(--spacing)*6)}.mt-8{margin-top:calc(var(--spacing)*8)}.mr-1{margin-right:calc(var(--spacing)*1)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-1\.5{margin-bottom:calc(var(--spacing)*1.5)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-5{margin-bottom:calc(var(--spacing)*5)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.mb-8{margin-bottom:calc(var(--spacing)*8)}.mb-10{margin-bottom:calc(var(--spacing)*10)}.mb-12{margin-bottom:calc(var(--spacing)*12)}.ml-2{margin-left:calc(var(--spacing)*2)}.line-clamp-2{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.line-clamp-3{-webkit-line-clamp:3;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-block{display:inline-block}.inline-flex{display:inline-flex}.table{display:table}.h-2{height:calc(var(--spacing)*2)}.h-3{height:calc(var(--spacing)*3)}.h-3\.5{height:calc(var(--spacing)*3.5)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-7{height:calc(var(--spacing)*7)}.h-8{height:calc(var(--spacing)*8)}.h-9{height:calc(var(--spacing)*9)}.h-10{height:calc(var(--spacing)*10)}.h-11{height:calc(var(--spacing)*11)}.h-12{height:calc(var(--spacing)*12)}.h-14{height:calc(var(--spacing)*14)}.h-16{height:calc(var(--spacing)*16)}.h-20{height:calc(var(--spacing)*20)}.h-full{height:100%}.max-h-32{max-height:calc(var(--spacing)*32)}.max-h-\[70vh\]{max-height:70vh}.max-h-\[90vh\]{max-height:90vh}.max-h-\[600px\]{max-height:600px}.min-h-screen{min-height:100vh}.w-1{width:calc(var(--spacing)*1)}.w-1\/4{width:25%}.w-2{width:calc(var(--spacing)*2)}.w-3{width:calc(var(--spacing)*3)}.w-3\.5{width:calc(var(--spacing)*3.5)}.w-4{width:calc(var(--spacing)*4)}.w-5{width:calc(var(--spacing)*5)}.w-6{width:calc(var(--spacing)*6)}.w-7{width:calc(var(--spacing)*7)}.w-8{width:calc(var(--spacing)*8)}.w-9{width:calc(var(--spacing)*9)}.w-10{width:calc(var(--spacing)*10)}.w-11{width:calc(var(--spacing)*11)}.w-12{width:calc(var(--spacing)*12)}.w-14{width:calc(var(--spacing)*14)}.w-16{width:calc(var(--spacing)*16)}.w-20{width:calc(var(--spacing)*20)}.w-48{width:calc(var(--spacing)*48)}.w-full{width:100%}.max-w-2xl{max-width:var(--container-2xl)}.max-w-3xl{max-width:var(--container-3xl)}.max-w-4xl{max-width:var(--container-4xl)}.max-w-5xl{max-width:var(--container-5xl)}.max-w-6xl{max-width:var(--container-6xl)}.max-w-7xl{max-width:var(--container-7xl)}.max-w-lg{max-width:var(--container-lg)}.max-w-md{max-width:var(--container-md)}.max-w-none{max-width:none}.max-w-xl{max-width:var(--container-xl)}.min-w-0{min-width:calc(var(--spacing)*0)}.min-w-\[300px\]{min-width:300px}.flex-1{flex:1}.flex-shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.-translate-x-1{--tw-translate-x:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-x-1\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1{--tw-translate-y:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.animate-spin{animation:var(--animate-spin)}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.resize{resize:both}.resize-none{resize:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}.gap-5{gap:calc(var(--spacing)*5)}.gap-6{gap:calc(var(--spacing)*6)}.gap-8{gap:calc(var(--spacing)*8)}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-1\.5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1.5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1.5)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*5)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-6>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*6)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*6)*calc(1 - var(--tw-space-y-reverse)))}:where(.divide-y>:not(:last-child)){--tw-divide-y-reverse:0;border-bottom-style:var(--tw-border-style);border-top-style:var(--tw-border-style);border-top-width:calc(1px*var(--tw-divide-y-reverse));border-bottom-width:calc(1px*calc(1 - var(--tw-divide-y-reverse)))}:where(.divide-gray-200>:not(:last-child)){border-color:var(--color-gray-200)}:where(.divide-gray-700>:not(:last-child)){border-color:var(--color-gray-700)}:where(.divide-gray-700\/50>:not(:last-child)){border-color:#36415380}@supports (color:color-mix(in lab,red,red)){:where(.divide-gray-700\/50>:not(:last-child)){border-color:color-mix(in oklab,var(--color-gray-700)50%,transparent)}}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-4xl{border-radius:var(--radius-4xl)}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-xl{border-radius:var(--radius-xl)}.rounded-r-lg{border-top-right-radius:var(--radius-lg);border-bottom-right-radius:var(--radius-lg)}.border{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.border-l-2{border-left-style:var(--tw-border-style);border-left-width:2px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-amber-100{border-color:var(--color-amber-100)}.border-amber-800{border-color:var(--color-amber-800)}.border-amber-800\/30{border-color:#953d004d}@supports (color:color-mix(in lab,red,red)){.border-amber-800\/30{border-color:color-mix(in oklab,var(--color-amber-800)30%,transparent)}}.border-blue-100{border-color:var(--color-blue-100)}.border-blue-200{border-color:var(--color-blue-200)}.border-blue-500{border-color:var(--color-blue-500)}.border-blue-500\/20{border-color:#3080ff33}@supports (color:color-mix(in lab,red,red)){.border-blue-500\/20{border-color:color-mix(in oklab,var(--color-blue-500)20%,transparent)}}.border-blue-800{border-color:var(--color-blue-800)}.border-emerald-200{border-color:var(--color-emerald-200)}.border-emerald-800{border-color:var(--color-emerald-800)}.border-gray-50{border-color:var(--color-gray-50)}.border-gray-100{border-color:var(--color-gray-100)}.border-gray-200{border-color:var(--color-gray-200)}.border-gray-300{border-color:var(--color-gray-300)}.border-gray-600{border-color:var(--color-gray-600)}.border-gray-700{border-color:var(--color-gray-700)}.border-gray-700\/50{border-color:#36415380}@supports (color:color-mix(in lab,red,red)){.border-gray-700\/50{border-color:color-mix(in oklab,var(--color-gray-700)50%,transparent)}}.border-gray-700\/60{border-color:#36415399}@supports (color:color-mix(in lab,red,red)){.border-gray-700\/60{border-color:color-mix(in oklab,var(--color-gray-700)60%,transparent)}}.border-gray-800{border-color:var(--color-gray-800)}.border-green-100{border-color:var(--color-green-100)}.border-green-200{border-color:var(--color-green-200)}.border-green-800{border-color:var(--color-green-800)}.border-indigo-100{border-color:var(--color-indigo-100)}.border-indigo-200{border-color:var(--color-indigo-200)}.border-indigo-200\/50{border-color:#c7d2ff80}@supports (color:color-mix(in lab,red,red)){.border-indigo-200\/50{border-color:color-mix(in oklab,var(--color-indigo-200)50%,transparent)}}.border-indigo-400{border-color:var(--color-indigo-400)}.border-indigo-500{border-color:var(--color-indigo-500)}.border-indigo-800{border-color:var(--color-indigo-800)}.border-indigo-800\/50{border-color:#372aac80}@supports (color:color-mix(in lab,red,red)){.border-indigo-800\/50{border-color:color-mix(in oklab,var(--color-indigo-800)50%,transparent)}}.border-purple-700{border-color:var(--color-purple-700)}.border-purple-700\/50{border-color:#8200da80}@supports (color:color-mix(in lab,red,red)){.border-purple-700\/50{border-color:color-mix(in oklab,var(--color-purple-700)50%,transparent)}}.border-red-100{border-color:var(--color-red-100)}.border-red-200{border-color:var(--color-red-200)}.border-red-500{border-color:var(--color-red-500)}.border-red-800{border-color:var(--color-red-800)}.border-red-900{border-color:var(--color-red-900)}.border-red-900\/30{border-color:#82181a4d}@supports (color:color-mix(in lab,red,red)){.border-red-900\/30{border-color:color-mix(in oklab,var(--color-red-900)30%,transparent)}}.border-white{border-color:var(--color-white)}.border-white\/30{border-color:#ffffff4d}@supports (color:color-mix(in lab,red,red)){.border-white\/30{border-color:color-mix(in oklab,var(--color-white)30%,transparent)}}.border-yellow-200{border-color:var(--color-yellow-200)}.border-yellow-800{border-color:var(--color-yellow-800)}.border-t-transparent{border-top-color:#0000}.bg-amber-50{background-color:var(--color-amber-50)}.bg-amber-100{background-color:var(--color-amber-100)}.bg-amber-500{background-color:var(--color-amber-500)}.bg-amber-900{background-color:var(--color-amber-900)}.bg-amber-900\/20{background-color:#7b330633}@supports (color:color-mix(in lab,red,red)){.bg-amber-900\/20{background-color:color-mix(in oklab,var(--color-amber-900)20%,transparent)}}.bg-amber-900\/30{background-color:#7b33064d}@supports (color:color-mix(in lab,red,red)){.bg-amber-900\/30{background-color:color-mix(in oklab,var(--color-amber-900)30%,transparent)}}.bg-amber-900\/40{background-color:#7b330666}@supports (color:color-mix(in lab,red,red)){.bg-amber-900\/40{background-color:color-mix(in oklab,var(--color-amber-900)40%,transparent)}}.bg-black{background-color:var(--color-black)}.bg-black\/50{background-color:#00000080}@supports (color:color-mix(in lab,red,red)){.bg-black\/50{background-color:color-mix(in oklab,var(--color-black)50%,transparent)}}.bg-blue-50{background-color:var(--color-blue-50)}.bg-blue-100{background-color:var(--color-blue-100)}.bg-blue-400{background-color:var(--color-blue-400)}.bg-blue-600{background-color:var(--color-blue-600)}.bg-blue-900{background-color:var(--color-blue-900)}.bg-blue-900\/20{background-color:#1c398e33}@supports (color:color-mix(in lab,red,red)){.bg-blue-900\/20{background-color:color-mix(in oklab,var(--color-blue-900)20%,transparent)}}.bg-blue-900\/30{background-color:#1c398e4d}@supports (color:color-mix(in lab,red,red)){.bg-blue-900\/30{background-color:color-mix(in oklab,var(--color-blue-900)30%,transparent)}}.bg-blue-900\/40{background-color:#1c398e66}@supports (color:color-mix(in lab,red,red)){.bg-blue-900\/40{background-color:color-mix(in oklab,var(--color-blue-900)40%,transparent)}}.bg-emerald-50{background-color:var(--color-emerald-50)}.bg-emerald-900{background-color:var(--color-emerald-900)}.bg-emerald-900\/30{background-color:#004e3b4d}@supports (color:color-mix(in lab,red,red)){.bg-emerald-900\/30{background-color:color-mix(in oklab,var(--color-emerald-900)30%,transparent)}}.bg-emerald-900\/40{background-color:#004e3b66}@supports (color:color-mix(in lab,red,red)){.bg-emerald-900\/40{background-color:color-mix(in oklab,var(--color-emerald-900)40%,transparent)}}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-100{background-color:var(--color-gray-100)}.bg-gray-200{background-color:var(--color-gray-200)}.bg-gray-300{background-color:var(--color-gray-300)}.bg-gray-400{background-color:var(--color-gray-400)}.bg-gray-500{background-color:var(--color-gray-500)}.bg-gray-500\/40{background-color:#6a728266}@supports (color:color-mix(in lab,red,red)){.bg-gray-500\/40{background-color:color-mix(in oklab,var(--color-gray-500)40%,transparent)}}.bg-gray-500\/60{background-color:#6a728299}@supports (color:color-mix(in lab,red,red)){.bg-gray-500\/60{background-color:color-mix(in oklab,var(--color-gray-500)60%,transparent)}}.bg-gray-700{background-color:var(--color-gray-700)}.bg-gray-700\/50{background-color:#36415380}@supports (color:color-mix(in lab,red,red)){.bg-gray-700\/50{background-color:color-mix(in oklab,var(--color-gray-700)50%,transparent)}}.bg-gray-800{background-color:var(--color-gray-800)}.bg-gray-800\/50{background-color:#1e293980}@supports (color:color-mix(in lab,red,red)){.bg-gray-800\/50{background-color:color-mix(in oklab,var(--color-gray-800)50%,transparent)}}.bg-gray-800\/60{background-color:#1e293999}@supports (color:color-mix(in lab,red,red)){.bg-gray-800\/60{background-color:color-mix(in oklab,var(--color-gray-800)60%,transparent)}}.bg-gray-900{background-color:var(--color-gray-900)}.bg-gray-950{background-color:var(--color-gray-950)}.bg-green-50{background-color:var(--color-green-50)}.bg-green-100{background-color:var(--color-green-100)}.bg-green-500{background-color:var(--color-green-500)}.bg-green-500\/20{background-color:#00c75833}@supports (color:color-mix(in lab,red,red)){.bg-green-500\/20{background-color:color-mix(in oklab,var(--color-green-500)20%,transparent)}}.bg-green-600{background-color:var(--color-green-600)}.bg-green-900{background-color:var(--color-green-900)}.bg-green-900\/20{background-color:#0d542b33}@supports (color:color-mix(in lab,red,red)){.bg-green-900\/20{background-color:color-mix(in oklab,var(--color-green-900)20%,transparent)}}.bg-green-900\/30{background-color:#0d542b4d}@supports (color:color-mix(in lab,red,red)){.bg-green-900\/30{background-color:color-mix(in oklab,var(--color-green-900)30%,transparent)}}.bg-green-900\/40{background-color:#0d542b66}@supports (color:color-mix(in lab,red,red)){.bg-green-900\/40{background-color:color-mix(in oklab,var(--color-green-900)40%,transparent)}}.bg-indigo-50{background-color:var(--color-indigo-50)}.bg-indigo-100{background-color:var(--color-indigo-100)}.bg-indigo-500{background-color:var(--color-indigo-500)}.bg-indigo-600{background-color:var(--color-indigo-600)}.bg-indigo-900{background-color:var(--color-indigo-900)}.bg-indigo-900\/10{background-color:#312c851a}@supports (color:color-mix(in lab,red,red)){.bg-indigo-900\/10{background-color:color-mix(in oklab,var(--color-indigo-900)10%,transparent)}}.bg-indigo-900\/20{background-color:#312c8533}@supports (color:color-mix(in lab,red,red)){.bg-indigo-900\/20{background-color:color-mix(in oklab,var(--color-indigo-900)20%,transparent)}}.bg-indigo-900\/30{background-color:#312c854d}@supports (color:color-mix(in lab,red,red)){.bg-indigo-900\/30{background-color:color-mix(in oklab,var(--color-indigo-900)30%,transparent)}}.bg-indigo-900\/40{background-color:#312c8566}@supports (color:color-mix(in lab,red,red)){.bg-indigo-900\/40{background-color:color-mix(in oklab,var(--color-indigo-900)40%,transparent)}}.bg-indigo-900\/50{background-color:#312c8580}@supports (color:color-mix(in lab,red,red)){.bg-indigo-900\/50{background-color:color-mix(in oklab,var(--color-indigo-900)50%,transparent)}}.bg-orange-50{background-color:var(--color-orange-50)}.bg-orange-900{background-color:var(--color-orange-900)}.bg-orange-900\/40{background-color:#7e2a0c66}@supports (color:color-mix(in lab,red,red)){.bg-orange-900\/40{background-color:color-mix(in oklab,var(--color-orange-900)40%,transparent)}}.bg-purple-50{background-color:var(--color-purple-50)}.bg-purple-100{background-color:var(--color-purple-100)}.bg-purple-900{background-color:var(--color-purple-900)}.bg-purple-900\/30{background-color:#59168b4d}@supports (color:color-mix(in lab,red,red)){.bg-purple-900\/30{background-color:color-mix(in oklab,var(--color-purple-900)30%,transparent)}}.bg-purple-900\/40{background-color:#59168b66}@supports (color:color-mix(in lab,red,red)){.bg-purple-900\/40{background-color:color-mix(in oklab,var(--color-purple-900)40%,transparent)}}.bg-red-50{background-color:var(--color-red-50)}.bg-red-100{background-color:var(--color-red-100)}.bg-red-500{background-color:var(--color-red-500)}.bg-red-600{background-color:var(--color-red-600)}.bg-red-900{background-color:var(--color-red-900)}.bg-red-900\/30{background-color:#82181a4d}@supports (color:color-mix(in lab,red,red)){.bg-red-900\/30{background-color:color-mix(in oklab,var(--color-red-900)30%,transparent)}}.bg-red-900\/40{background-color:#82181a66}@supports (color:color-mix(in lab,red,red)){.bg-red-900\/40{background-color:color-mix(in oklab,var(--color-red-900)40%,transparent)}}.bg-transparent{background-color:#0000}.bg-white{background-color:var(--color-white)}.bg-yellow-50{background-color:var(--color-yellow-50)}.bg-yellow-100{background-color:var(--color-yellow-100)}.bg-yellow-500{background-color:var(--color-yellow-500)}.bg-yellow-500\/20{background-color:#edb20033}@supports (color:color-mix(in lab,red,red)){.bg-yellow-500\/20{background-color:color-mix(in oklab,var(--color-yellow-500)20%,transparent)}}.bg-yellow-900{background-color:var(--color-yellow-900)}.bg-yellow-900\/40{background-color:#733e0a66}@supports (color:color-mix(in lab,red,red)){.bg-yellow-900\/40{background-color:color-mix(in oklab,var(--color-yellow-900)40%,transparent)}}.bg-gradient-to-br{--tw-gradient-position:to bottom right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-r{--tw-gradient-position:to right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-\[\#0a0f1a\]{--tw-gradient-from:#0a0f1a;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-amber-50{--tw-gradient-from:var(--color-amber-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-blue-400{--tw-gradient-from:var(--color-blue-400);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-blue-500{--tw-gradient-from:var(--color-blue-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-indigo-50{--tw-gradient-from:var(--color-indigo-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-indigo-300{--tw-gradient-from:var(--color-indigo-300);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-indigo-400{--tw-gradient-from:var(--color-indigo-400);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-indigo-500{--tw-gradient-from:var(--color-indigo-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-indigo-500\/10{--tw-gradient-from:#625fff1a}@supports (color:color-mix(in lab,red,red)){.from-indigo-500\/10{--tw-gradient-from:color-mix(in oklab,var(--color-indigo-500)10%,transparent)}}.from-indigo-500\/10{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-indigo-600{--tw-gradient-from:var(--color-indigo-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-orange-500{--tw-gradient-from:var(--color-orange-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-purple-500{--tw-gradient-from:var(--color-purple-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-red-500{--tw-gradient-from:var(--color-red-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-teal-500{--tw-gradient-from:var(--color-teal-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.via-\[\#0f172a\]{--tw-gradient-via:#0f172a;--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.via-white{--tw-gradient-via:var(--color-white);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.to-\[\#0a0f1a\]{--tw-gradient-to:#0a0f1a;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-cyan-600{--tw-gradient-to:var(--color-cyan-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-orange-50{--tw-gradient-to:var(--color-orange-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-pink-600{--tw-gradient-to:var(--color-pink-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-50{--tw-gradient-to:var(--color-purple-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-500{--tw-gradient-to:var(--color-purple-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-500\/10{--tw-gradient-to:#ac4bff1a}@supports (color:color-mix(in lab,red,red)){.to-purple-500\/10{--tw-gradient-to:color-mix(in oklab,var(--color-purple-500)10%,transparent)}}.to-purple-500\/10{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-600{--tw-gradient-to:var(--color-purple-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-red-600{--tw-gradient-to:var(--color-red-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-teal-400{--tw-gradient-to:var(--color-teal-400);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.p-1{padding:calc(var(--spacing)*1)}.p-1\.5{padding:calc(var(--spacing)*1.5)}.p-2{padding:calc(var(--spacing)*2)}.p-2\.5{padding:calc(var(--spacing)*2.5)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-5{padding:calc(var(--spacing)*5)}.p-6{padding:calc(var(--spacing)*6)}.p-8{padding:calc(var(--spacing)*8)}.p-10{padding:calc(var(--spacing)*10)}.p-25{padding:calc(var(--spacing)*25)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-2\.5{padding-inline:calc(var(--spacing)*2.5)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-5{padding-inline:calc(var(--spacing)*5)}.px-6{padding-inline:calc(var(--spacing)*6)}.px-8{padding-inline:calc(var(--spacing)*8)}.py-0{padding-block:calc(var(--spacing)*0)}.py-0\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-2\.5{padding-block:calc(var(--spacing)*2.5)}.py-3{padding-block:calc(var(--spacing)*3)}.py-4{padding-block:calc(var(--spacing)*4)}.py-8{padding-block:calc(var(--spacing)*8)}.py-12{padding-block:calc(var(--spacing)*12)}.py-14{padding-block:calc(var(--spacing)*14)}.py-16{padding-block:calc(var(--spacing)*16)}.py-24{padding-block:calc(var(--spacing)*24)}.pt-2{padding-top:calc(var(--spacing)*2)}.pt-4{padding-top:calc(var(--spacing)*4)}.pt-6{padding-top:calc(var(--spacing)*6)}.pr-4{padding-right:calc(var(--spacing)*4)}.pr-10{padding-right:calc(var(--spacing)*10)}.pr-12{padding-right:calc(var(--spacing)*12)}.pl-4{padding-left:calc(var(--spacing)*4)}.pl-11{padding-left:calc(var(--spacing)*11)}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.font-mono{font-family:var(--font-mono)}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.leading-none{--tw-leading:1;line-height:1}.leading-tight{--tw-leading:var(--leading-tight);line-height:var(--leading-tight)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.text-amber-400{color:var(--color-amber-400)}.text-amber-600{color:var(--color-amber-600)}.text-amber-700{color:var(--color-amber-700)}.text-blue-300{color:var(--color-blue-300)}.text-blue-400{color:var(--color-blue-400)}.text-blue-500{color:var(--color-blue-500)}.text-blue-700{color:var(--color-blue-700)}.text-blue-800{color:var(--color-blue-800)}.text-emerald-400{color:var(--color-emerald-400)}.text-emerald-700{color:var(--color-emerald-700)}.text-gray-100{color:var(--color-gray-100)}.text-gray-200{color:var(--color-gray-200)}.text-gray-300{color:var(--color-gray-300)}.text-gray-400{color:var(--color-gray-400)}.text-gray-500{color:var(--color-gray-500)}.text-gray-600{color:var(--color-gray-600)}.text-gray-700{color:var(--color-gray-700)}.text-gray-800{color:var(--color-gray-800)}.text-gray-900{color:var(--color-gray-900)}.text-green-400{color:var(--color-green-400)}.text-green-500{color:var(--color-green-500)}.text-green-600{color:var(--color-green-600)}.text-green-700{color:var(--color-green-700)}.text-green-800{color:var(--color-green-800)}.text-indigo-100{color:var(--color-indigo-100)}.text-indigo-300{color:var(--color-indigo-300)}.text-indigo-400{color:var(--color-indigo-400)}.text-indigo-500{color:var(--color-indigo-500)}.text-indigo-600{color:var(--color-indigo-600)}.text-indigo-700{color:var(--color-indigo-700)}.text-indigo-900{color:var(--color-indigo-900)}.text-orange-400{color:var(--color-orange-400)}.text-orange-600{color:var(--color-orange-600)}.text-purple-400{color:var(--color-purple-400)}.text-purple-500{color:var(--color-purple-500)}.text-purple-600{color:var(--color-purple-600)}.text-purple-700{color:var(--color-purple-700)}.text-red-100{color:var(--color-red-100)}.text-red-400{color:var(--color-red-400)}.text-red-500{color:var(--color-red-500)}.text-red-600{color:var(--color-red-600)}.text-red-700{color:var(--color-red-700)}.text-red-800{color:var(--color-red-800)}.text-transparent{color:#0000}.text-white{color:var(--color-white)}.text-yellow-400{color:var(--color-yellow-400)}.text-yellow-500{color:var(--color-yellow-500)}.text-yellow-700{color:var(--color-yellow-700)}.text-yellow-800{color:var(--color-yellow-800)}.capitalize{text-transform:capitalize}.uppercase{text-transform:uppercase}.underline{text-decoration-line:underline}.placeholder-gray-100::placeholder{color:var(--color-gray-100)}.placeholder-gray-400::placeholder{color:var(--color-gray-400)}.placeholder-gray-500::placeholder{color:var(--color-gray-500)}.opacity-10{opacity:.1}.opacity-20{opacity:.2}.opacity-50{opacity:.5}.shadow-2xl{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-1{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-black{--tw-shadow-color:#000}@supports (color:color-mix(in lab,red,red)){.shadow-black{--tw-shadow-color:color-mix(in oklab,var(--color-black)var(--tw-shadow-alpha),transparent)}}.shadow-black\/30{--tw-shadow-color:#0000004d}@supports (color:color-mix(in lab,red,red)){.shadow-black\/30{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-black)30%,transparent)var(--tw-shadow-alpha),transparent)}}.shadow-blue-500{--tw-shadow-color:oklch(62.3% .214 259.815)}@supports (color:color-mix(in lab,red,red)){.shadow-blue-500{--tw-shadow-color:color-mix(in oklab,var(--color-blue-500)var(--tw-shadow-alpha),transparent)}}.shadow-blue-500\/20{--tw-shadow-color:#3080ff33}@supports (color:color-mix(in lab,red,red)){.shadow-blue-500\/20{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-blue-500)20%,transparent)var(--tw-shadow-alpha),transparent)}}.shadow-gray-200{--tw-shadow-color:oklch(92.8% .006 264.531)}@supports (color:color-mix(in lab,red,red)){.shadow-gray-200{--tw-shadow-color:color-mix(in oklab,var(--color-gray-200)var(--tw-shadow-alpha),transparent)}}.shadow-gray-200\/50{--tw-shadow-color:#e5e7eb80}@supports (color:color-mix(in lab,red,red)){.shadow-gray-200\/50{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-gray-200)50%,transparent)var(--tw-shadow-alpha),transparent)}}.shadow-indigo-100{--tw-shadow-color:oklch(93% .034 272.788)}@supports (color:color-mix(in lab,red,red)){.shadow-indigo-100{--tw-shadow-color:color-mix(in oklab,var(--color-indigo-100)var(--tw-shadow-alpha),transparent)}}.shadow-indigo-200{--tw-shadow-color:oklch(87% .065 274.039)}@supports (color:color-mix(in lab,red,red)){.shadow-indigo-200{--tw-shadow-color:color-mix(in oklab,var(--color-indigo-200)var(--tw-shadow-alpha),transparent)}}.shadow-purple-200{--tw-shadow-color:oklch(90.2% .063 306.703)}@supports (color:color-mix(in lab,red,red)){.shadow-purple-200{--tw-shadow-color:color-mix(in oklab,var(--color-purple-200)var(--tw-shadow-alpha),transparent)}}.shadow-purple-500{--tw-shadow-color:oklch(62.7% .265 303.9)}@supports (color:color-mix(in lab,red,red)){.shadow-purple-500{--tw-shadow-color:color-mix(in oklab,var(--color-purple-500)var(--tw-shadow-alpha),transparent)}}.shadow-purple-500\/30{--tw-shadow-color:#ac4bff4d}@supports (color:color-mix(in lab,red,red)){.shadow-purple-500\/30{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-purple-500)30%,transparent)var(--tw-shadow-alpha),transparent)}}.shadow-red-500{--tw-shadow-color:oklch(63.7% .237 25.331)}@supports (color:color-mix(in lab,red,red)){.shadow-red-500{--tw-shadow-color:color-mix(in oklab,var(--color-red-500)var(--tw-shadow-alpha),transparent)}}.shadow-red-500\/10{--tw-shadow-color:#fb2c361a}@supports (color:color-mix(in lab,red,red)){.shadow-red-500\/10{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-red-500)10%,transparent)var(--tw-shadow-alpha),transparent)}}.shadow-red-500\/20{--tw-shadow-color:#fb2c3633}@supports (color:color-mix(in lab,red,red)){.shadow-red-500\/20{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-red-500)20%,transparent)var(--tw-shadow-alpha),transparent)}}.ring-indigo-100{--tw-ring-color:var(--color-indigo-100)}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.drop-shadow{--tw-drop-shadow-size:drop-shadow(0 1px 2px var(--tw-drop-shadow-color,#0000001a))drop-shadow(0 1px 1px var(--tw-drop-shadow-color,#0000000f));--tw-drop-shadow:drop-shadow(0 1px 2px #0000001a)drop-shadow(0 1px 1px #0000000f);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-300{--tw-duration:.3s;transition-duration:.3s}.ease-in{--tw-ease:var(--ease-in);transition-timing-function:var(--ease-in)}.ease-in-out{--tw-ease:var(--ease-in-out);transition-timing-function:var(--ease-in-out)}.ease-out{--tw-ease:var(--ease-out);transition-timing-function:var(--ease-out)}.outline-none{--tw-outline-style:none;outline-style:none}@media(hover:hover){.group-hover\:scale-110:is(:where(.group):hover *){--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x)var(--tw-scale-y)}.group-hover\:text-indigo-600:is(:where(.group):hover *){color:var(--color-indigo-600)}}.last\:border-0:last-child{border-style:var(--tw-border-style);border-width:0}@media(hover:hover){.hover\:-translate-y-1:hover{--tw-translate-y:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.hover\:-translate-y-\[5px\]:hover{--tw-translate-y: -5px ;translate:var(--tw-translate-x)var(--tw-translate-y)}.hover\:scale-105:hover{--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\:border-gray-200:hover{border-color:var(--color-gray-200)}.hover\:border-gray-600:hover{border-color:var(--color-gray-600)}.hover\:border-gray-700:hover{border-color:var(--color-gray-700)}.hover\:border-indigo-100:hover{border-color:var(--color-indigo-100)}.hover\:border-indigo-400:hover{border-color:var(--color-indigo-400)}.hover\:border-indigo-500:hover{border-color:var(--color-indigo-500)}.hover\:border-indigo-800:hover{border-color:var(--color-indigo-800)}.hover\:border-red-200:hover{border-color:var(--color-red-200)}.hover\:border-red-900\/50:hover{border-color:#82181a80}@supports (color:color-mix(in lab,red,red)){.hover\:border-red-900\/50:hover{border-color:color-mix(in oklab,var(--color-red-900)50%,transparent)}}.hover\:bg-amber-600:hover{background-color:var(--color-amber-600)}.hover\:bg-blue-100:hover{background-color:var(--color-blue-100)}.hover\:bg-blue-900\/50:hover{background-color:#1c398e80}@supports (color:color-mix(in lab,red,red)){.hover\:bg-blue-900\/50:hover{background-color:color-mix(in oklab,var(--color-blue-900)50%,transparent)}}.hover\:bg-emerald-100:hover{background-color:var(--color-emerald-100)}.hover\:bg-emerald-900\/50:hover{background-color:#004e3b80}@supports (color:color-mix(in lab,red,red)){.hover\:bg-emerald-900\/50:hover{background-color:color-mix(in oklab,var(--color-emerald-900)50%,transparent)}}.hover\:bg-gray-50:hover{background-color:var(--color-gray-50)}.hover\:bg-gray-100:hover{background-color:var(--color-gray-100)}.hover\:bg-gray-200:hover{background-color:var(--color-gray-200)}.hover\:bg-gray-600:hover{background-color:var(--color-gray-600)}.hover\:bg-gray-700:hover{background-color:var(--color-gray-700)}.hover\:bg-gray-700\/80:hover{background-color:#364153cc}@supports (color:color-mix(in lab,red,red)){.hover\:bg-gray-700\/80:hover{background-color:color-mix(in oklab,var(--color-gray-700)80%,transparent)}}.hover\:bg-gray-800:hover{background-color:var(--color-gray-800)}.hover\:bg-gray-800\/50:hover{background-color:#1e293980}@supports (color:color-mix(in lab,red,red)){.hover\:bg-gray-800\/50:hover{background-color:color-mix(in oklab,var(--color-gray-800)50%,transparent)}}.hover\:bg-green-50:hover{background-color:var(--color-green-50)}.hover\:bg-green-100:hover{background-color:var(--color-green-100)}.hover\:bg-green-600:hover{background-color:var(--color-green-600)}.hover\:bg-green-700:hover{background-color:var(--color-green-700)}.hover\:bg-green-900\/30:hover{background-color:#0d542b4d}@supports (color:color-mix(in lab,red,red)){.hover\:bg-green-900\/30:hover{background-color:color-mix(in oklab,var(--color-green-900)30%,transparent)}}.hover\:bg-green-900\/50:hover{background-color:#0d542b80}@supports (color:color-mix(in lab,red,red)){.hover\:bg-green-900\/50:hover{background-color:color-mix(in oklab,var(--color-green-900)50%,transparent)}}.hover\:bg-indigo-50:hover{background-color:var(--color-indigo-50)}.hover\:bg-indigo-400:hover{background-color:var(--color-indigo-400)}.hover\:bg-indigo-700:hover{background-color:var(--color-indigo-700)}.hover\:bg-indigo-900\/30:hover{background-color:#312c854d}@supports (color:color-mix(in lab,red,red)){.hover\:bg-indigo-900\/30:hover{background-color:color-mix(in oklab,var(--color-indigo-900)30%,transparent)}}.hover\:bg-purple-100:hover{background-color:var(--color-purple-100)}.hover\:bg-purple-900\/50:hover{background-color:#59168b80}@supports (color:color-mix(in lab,red,red)){.hover\:bg-purple-900\/50:hover{background-color:color-mix(in oklab,var(--color-purple-900)50%,transparent)}}.hover\:bg-red-50:hover{background-color:var(--color-red-50)}.hover\:bg-red-100:hover{background-color:var(--color-red-100)}.hover\:bg-red-700:hover{background-color:var(--color-red-700)}.hover\:bg-red-900\/30:hover{background-color:#82181a4d}@supports (color:color-mix(in lab,red,red)){.hover\:bg-red-900\/30:hover{background-color:color-mix(in oklab,var(--color-red-900)30%,transparent)}}.hover\:bg-red-900\/50:hover{background-color:#82181a80}@supports (color:color-mix(in lab,red,red)){.hover\:bg-red-900\/50:hover{background-color:color-mix(in oklab,var(--color-red-900)50%,transparent)}}.hover\:bg-white\/10:hover{background-color:#ffffff1a}@supports (color:color-mix(in lab,red,red)){.hover\:bg-white\/10:hover{background-color:color-mix(in oklab,var(--color-white)10%,transparent)}}.hover\:from-blue-600:hover{--tw-gradient-from:var(--color-blue-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.hover\:from-gray-600:hover{--tw-gradient-from:var(--color-gray-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.hover\:from-indigo-600:hover{--tw-gradient-from:var(--color-indigo-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.hover\:from-purple-600:hover{--tw-gradient-from:var(--color-purple-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.hover\:to-pink-700:hover{--tw-gradient-to:var(--color-pink-700);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.hover\:to-purple-700:hover{--tw-gradient-to:var(--color-purple-700);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.hover\:text-gray-300:hover{color:var(--color-gray-300)}.hover\:text-gray-600:hover{color:var(--color-gray-600)}.hover\:text-indigo-400:hover{color:var(--color-indigo-400)}.hover\:text-indigo-500:hover{color:var(--color-indigo-500)}.hover\:text-indigo-600:hover{color:var(--color-indigo-600)}.hover\:text-indigo-700:hover{color:var(--color-indigo-700)}.hover\:text-red-400:hover{color:var(--color-red-400)}.hover\:text-red-500:hover{color:var(--color-red-500)}.hover\:text-red-700:hover{color:var(--color-red-700)}.hover\:text-white:hover{color:var(--color-white)}.hover\:opacity-80:hover{opacity:.8}.hover\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\:shadow-md:hover{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\:shadow-sm:hover{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}}.focus\:border-transparent:focus{border-color:#0000}.focus\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\:ring-indigo-500:focus{--tw-ring-color:var(--color-indigo-500)}.focus\:outline-none:focus{--tw-outline-style:none;outline-style:none}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:opacity-50:disabled{opacity:.5}@media(min-width:40rem){.sm\:hidden{display:none}.sm\:inline{display:inline}.sm\:w-auto{width:auto}.sm\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.sm\:flex-col{flex-direction:column}.sm\:flex-row{flex-direction:row}.sm\:items-center{align-items:center}.sm\:items-end{align-items:flex-end}.sm\:p-8{padding:calc(var(--spacing)*8)}.sm\:px-6{padding-inline:calc(var(--spacing)*6)}}@media(min-width:48rem){.md\:flex{display:flex}.md\:hidden{display:none}.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\:py-24{padding-block:calc(var(--spacing)*24)}.md\:py-32{padding-block:calc(var(--spacing)*32)}.md\:text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.md\:text-5xl{font-size:var(--text-5xl);line-height:var(--tw-leading,var(--text-5xl--line-height))}.md\:text-6xl{font-size:var(--text-6xl);line-height:var(--tw-leading,var(--text-6xl--line-height))}}@media(min-width:64rem){.lg\:col-span-2{grid-column:span 2/span 2}.lg\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.lg\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.lg\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}@media(prefers-color-scheme:dark){:where(.dark\:divide-gray-800>:not(:last-child)){border-color:var(--color-gray-800)}.dark\:bg-blue-900\/50{background-color:#1c398e80}@supports (color:color-mix(in lab,red,red)){.dark\:bg-blue-900\/50{background-color:color-mix(in oklab,var(--color-blue-900)50%,transparent)}}.dark\:bg-gray-700{background-color:var(--color-gray-700)}.dark\:bg-green-900\/50{background-color:#0d542b80}@supports (color:color-mix(in lab,red,red)){.dark\:bg-green-900\/50{background-color:color-mix(in oklab,var(--color-green-900)50%,transparent)}}.dark\:bg-red-900\/50{background-color:#82181a80}@supports (color:color-mix(in lab,red,red)){.dark\:bg-red-900\/50{background-color:color-mix(in oklab,var(--color-red-900)50%,transparent)}}.dark\:bg-yellow-900\/50{background-color:#733e0a80}@supports (color:color-mix(in lab,red,red)){.dark\:bg-yellow-900\/50{background-color:color-mix(in oklab,var(--color-yellow-900)50%,transparent)}}.dark\:text-blue-300{color:var(--color-blue-300)}.dark\:text-gray-300{color:var(--color-gray-300)}.dark\:text-green-300{color:var(--color-green-300)}.dark\:text-red-300{color:var(--color-red-300)}.dark\:text-yellow-300{color:var(--color-yellow-300)}@media(hover:hover){.dark\:hover\:bg-gray-800:hover{background-color:var(--color-gray-800)}.dark\:hover\:bg-red-900\/20:hover{background-color:#82181a33}@supports (color:color-mix(in lab,red,red)){.dark\:hover\:bg-red-900\/20:hover{background-color:color-mix(in oklab,var(--color-red-900)20%,transparent)}}}}}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-divide-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@keyframes spin{to{transform:rotate(360deg)}}</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
